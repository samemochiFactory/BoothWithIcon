var Ee=Object.defineProperty;var ze=(d,e,t)=>e in d?Ee(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t;var Ht=(d,e,t)=>ze(d,typeof e!="symbol"?e+"":e,t);var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function de(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Nt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ie;function Be(){return ie||(ie=1,Nt.read=function(d,e,t,n,i){var s,c,a=i*8-n-1,u=(1<<a)-1,m=u>>1,w=-7,f=t?i-1:0,x=t?-1:1,l=d[e+f];for(f+=x,s=l&(1<<-w)-1,l>>=-w,w+=a;w>0;s=s*256+d[e+f],f+=x,w-=8);for(c=s&(1<<-w)-1,s>>=-w,w+=n;w>0;c=c*256+d[e+f],f+=x,w-=8);if(s===0)s=1-m;else{if(s===u)return c?NaN:(l?-1:1)*(1/0);c=c+Math.pow(2,n),s=s-m}return(l?-1:1)*c*Math.pow(2,s-n)},Nt.write=function(d,e,t,n,i,s){var c,a,u,m=s*8-i-1,w=(1<<m)-1,f=w>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:s-1,b=n?1:-1,h=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,c=w):(c=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-c))<1&&(c--,u*=2),c+f>=1?e+=x/u:e+=x*Math.pow(2,1-f),e*u>=2&&(c++,u/=2),c+f>=w?(a=0,c=w):c+f>=1?(a=(e*u-1)*Math.pow(2,i),c=c+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),c=0));i>=8;d[t+l]=a&255,l+=b,a/=256,i-=8);for(c=c<<i|a,m+=i;m>0;d[t+l]=c&255,l+=b,c/=256,m-=8);d[t+l-b]|=h*128}),Nt}Be();function pt(d){return new DataView(d.buffer,d.byteOffset)}const Ae={len:1,get(d,e){return pt(d).getUint8(e)},put(d,e,t){return pt(d).setUint8(e,t),e+1}},ct={len:2,get(d,e){return pt(d).getUint16(e,!0)},put(d,e,t){return pt(d).setUint16(e,t,!0),e+2}},Tt={len:2,get(d,e){return pt(d).getUint16(e)},put(d,e,t){return pt(d).setUint16(e,t),e+2}},ht={len:4,get(d,e){return pt(d).getUint32(e,!0)},put(d,e,t){return pt(d).setUint32(e,t,!0),e+4}},Fe={len:4,get(d,e){return pt(d).getUint32(e)},put(d,e,t){return pt(d).setUint32(e,t),e+4}},Ie={len:4,get(d,e){return pt(d).getInt32(e)},put(d,e,t){return pt(d).setInt32(e,t),e+4}},Te={len:8,get(d,e){return pt(d).getBigUint64(e,!0)},put(d,e,t){return pt(d).setBigUint64(e,t,!0),e+8}};class St{constructor(e,t){this.len=e,this.encoding=t,this.textDecoder=new TextDecoder(t)}get(e,t){return this.textDecoder.decode(e.subarray(t,t+this.len))}}const De="End-Of-Stream";class wt extends Error{constructor(){super(De),this.name="EndOfStreamError"}}class Oe extends Error{constructor(e="The operation was aborted"){super(e),this.name="AbortError"}}class pe{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(e,t=!1){const n=await this.read(e,t);return this.peekQueue.push(e.subarray(0,n)),n}async read(e,t=!1){if(e.length===0)return 0;let n=this.readFromPeekBuffer(e);if(this.endOfStream||(n+=await this.readRemainderFromStream(e.subarray(n),t)),n===0)throw new wt;return n}readFromPeekBuffer(e){let t=e.length,n=0;for(;this.peekQueue.length>0&&t>0;){const i=this.peekQueue.pop();if(!i)throw new Error("peekData should be defined");const s=Math.min(i.length,t);e.set(i.subarray(0,s),n),n+=s,t-=s,s<i.length&&this.peekQueue.push(i.subarray(s))}return n}async readRemainderFromStream(e,t){let n=0;for(;n<e.length&&!this.endOfStream;){if(this.interrupted)throw new Oe;const i=await this.readFromStream(e.subarray(n),t);if(i===0)break;n+=i}if(!t&&n<e.length)throw new wt;return n}}class Re extends pe{constructor(e){super(),this.reader=e}async abort(){return this.close()}async close(){this.reader.releaseLock()}}class Ue extends Re{async readFromStream(e,t){if(e.length===0)return 0;const n=await this.reader.read(new Uint8Array(e.length),{min:t?void 0:e.length});return n.done&&(this.endOfStream=n.done),n.value?(e.set(n.value),n.value.length):0}}class ne extends pe{constructor(e){super(),this.reader=e,this.buffer=null}writeChunk(e,t){const n=Math.min(t.length,e.length);return e.set(t.subarray(0,n)),n<t.length?this.buffer=t.subarray(n):this.buffer=null,n}async readFromStream(e,t){if(e.length===0)return 0;let n=0;for(this.buffer&&(n+=this.writeChunk(e,this.buffer));n<e.length&&!this.endOfStream;){const i=await this.reader.read();if(i.done){this.endOfStream=!0;break}i.value&&(n+=this.writeChunk(e.subarray(n),i.value))}if(n===0&&this.endOfStream)throw new wt;return n}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}function Le(d){try{const e=d.getReader({mode:"byob"});return e instanceof ReadableStreamDefaultReader?new ne(e):new Ue(e)}catch(e){if(e instanceof TypeError)return new ne(d.getReader());throw e}}class me{constructor(e){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=e==null?void 0:e.onClose,e!=null&&e.abortSignal&&e.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(e,t=this.position){const n=new Uint8Array(e.len);if(await this.readBuffer(n,{position:t})<e.len)throw new wt;return e.get(n,0)}async peekToken(e,t=this.position){const n=new Uint8Array(e.len);if(await this.peekBuffer(n,{position:t})<e.len)throw new wt;return e.get(n,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new wt;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new wt;return e.get(this.numBuffer,0)}async ignore(e){if(this.fileInfo.size!==void 0){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){var e;await this.abort(),await((e=this.onClose)==null?void 0:e.call(this))}normalizeOptions(e,t){if(!this.supportsRandomAccess()&&t&&t.position!==void 0&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return{mayBeLess:!1,offset:0,length:e.length,position:this.position,...t}}abort(){return Promise.resolve()}}const Ne=256e3;class je extends me{constructor(e,t){super(t),this.streamReader=e,this.fileInfo=(t==null?void 0:t.fileInfo)??{}}async readBuffer(e,t){const n=this.normalizeOptions(e,t),i=n.position-this.position;if(i>0)return await this.ignore(i),this.readBuffer(e,t);if(i<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(n.length===0)return 0;const s=await this.streamReader.read(e.subarray(0,n.length),n.mayBeLess);if(this.position+=s,(!t||!t.mayBeLess)&&s<n.length)throw new wt;return s}async peekBuffer(e,t){const n=this.normalizeOptions(e,t);let i=0;if(n.position){const s=n.position-this.position;if(s>0){const c=new Uint8Array(n.length+s);return i=await this.peekBuffer(c,{mayBeLess:n.mayBeLess}),e.set(c.subarray(s)),i-s}if(s<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{i=await this.streamReader.peek(e.subarray(0,n.length),n.mayBeLess)}catch(s){if(t!=null&&t.mayBeLess&&s instanceof wt)return 0;throw s}if(!n.mayBeLess&&i<n.length)throw new wt}return i}async ignore(e){const t=Math.min(Ne,e),n=new Uint8Array(t);let i=0;for(;i<e;){const s=e-i,c=await this.readBuffer(n,{length:Math.min(t,s)});if(c<0)return c;i+=c}return i}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}class Pe extends me{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo={...(t==null?void 0:t.fileInfo)??{},size:e.length}}async readBuffer(e,t){t!=null&&t.position&&(this.position=t.position);const n=await this.peekBuffer(e,t);return this.position+=n,n}async peekBuffer(e,t){const n=this.normalizeOptions(e,t),i=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&i<n.length)throw new wt;return e.set(this.uint8Array.subarray(n.position,n.position+i)),i}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(e){this.position=e}}function Me(d,e){const t=Le(d),n=e??{},i=n.onClose;return n.onClose=async()=>{if(await t.close(),i)return i()},new je(t,n)}function We(d,e){return new Pe(d,e)}var gt=Uint8Array,zt=Uint16Array,Ze=Int32Array,xe=new gt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ge=new gt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),He=new gt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),we=function(d,e){for(var t=new zt(31),n=0;n<31;++n)t[n]=e+=1<<d[n-1];for(var i=new Ze(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},ve=we(xe,2),be=ve.b,qe=ve.r;be[28]=258,qe[258]=28;var Ge=we(ge,0),$e=Ge.b,Qt=new zt(32768);for(var st=0;st<32768;++st){var Et=(st&43690)>>1|(st&21845)<<1;Et=(Et&52428)>>2|(Et&13107)<<2,Et=(Et&61680)>>4|(Et&3855)<<4,Qt[st]=((Et&65280)>>8|(Et&255)<<8)>>1}var Dt=function(d,e,t){for(var n=d.length,i=0,s=new zt(e);i<n;++i)d[i]&&++s[d[i]-1];var c=new zt(e);for(i=1;i<e;++i)c[i]=c[i-1]+s[i-1]<<1;var a;if(t){a=new zt(1<<e);var u=15-e;for(i=0;i<n;++i)if(d[i])for(var m=i<<4|d[i],w=e-d[i],f=c[d[i]-1]++<<w,x=f|(1<<w)-1;f<=x;++f)a[Qt[f]>>u]=m}else for(a=new zt(n),i=0;i<n;++i)d[i]&&(a[i]=Qt[c[d[i]-1]++]>>15-d[i]);return a},Ot=new gt(288);for(var st=0;st<144;++st)Ot[st]=8;for(var st=144;st<256;++st)Ot[st]=9;for(var st=256;st<280;++st)Ot[st]=7;for(var st=280;st<288;++st)Ot[st]=8;var ye=new gt(32);for(var st=0;st<32;++st)ye[st]=5;var Ve=Dt(Ot,9,1),Ke=Dt(ye,5,1),qt=function(d){for(var e=d[0],t=1;t<d.length;++t)d[t]>e&&(e=d[t]);return e},bt=function(d,e,t){var n=e/8|0;return(d[n]|d[n+1]<<8)>>(e&7)&t},Gt=function(d,e){var t=e/8|0;return(d[t]|d[t+1]<<8|d[t+2]<<16)>>(e&7)},Ye=function(d){return(d+7)/8|0},Xe=function(d,e,t){return(t==null||t>d.length)&&(t=d.length),new gt(d.subarray(e,t))},Je=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xt=function(d,e,t){var n=new Error(e||Je[d]);if(n.code=d,Error.captureStackTrace&&Error.captureStackTrace(n,xt),!t)throw n;return n},te=function(d,e,t,n){var i=d.length,s=0;if(!i||e.f&&!e.l)return t||new gt(0);var c=!t,a=c||e.i!=2,u=e.i;c&&(t=new gt(i*3));var m=function(ot){var mt=t.length;if(ot>mt){var dt=new gt(Math.max(mt*2,ot));dt.set(t),t=dt}},w=e.f||0,f=e.p||0,x=e.b||0,l=e.l,b=e.d,h=e.m,g=e.n,p=i*8;do{if(!l){w=bt(d,f,1);var _=bt(d,f+1,3);if(f+=3,_)if(_==1)l=Ve,b=Ke,h=9,g=5;else if(_==2){var L=bt(d,f,31)+257,D=bt(d,f+10,15)+4,W=L+bt(d,f+5,31)+1;f+=14;for(var T=new gt(W),Z=new gt(19),K=0;K<D;++K)Z[He[K]]=bt(d,f+K*3,7);f+=D*3;for(var k=qt(Z),O=(1<<k)-1,o=Dt(Z,k,1),K=0;K<W;){var U=o[bt(d,f,O)];f+=U&15;var C=U>>4;if(C<16)T[K++]=C;else{var J=0,P=0;for(C==16?(P=3+bt(d,f,3),f+=2,J=T[K-1]):C==17?(P=3+bt(d,f,7),f+=3):C==18&&(P=11+bt(d,f,127),f+=7);P--;)T[K++]=J}}var tt=T.subarray(0,L),M=T.subarray(L);h=qt(tt),g=qt(M),l=Dt(tt,h,1),b=Dt(M,g,1)}else xt(1);else{var C=Ye(f)+4,z=d[C-4]|d[C-3]<<8,E=C+z;if(E>i){u&&xt(0);break}a&&m(x+z),t.set(d.subarray(C,E),x),e.b=x+=z,e.p=f=E*8,e.f=w;continue}if(f>p){u&&xt(0);break}}a&&m(x+131072);for(var Q=(1<<h)-1,F=(1<<g)-1,A=f;;A=f){var J=l[Gt(d,f)&Q],Y=J>>4;if(f+=J&15,f>p){u&&xt(0);break}if(J||xt(2),Y<256)t[x++]=Y;else if(Y==256){A=f,l=null;break}else{var $=Y-254;if(Y>264){var K=Y-257,q=xe[K];$=bt(d,f,(1<<q)-1)+be[K],f+=q}var at=b[Gt(d,f)&F],ft=at>>4;at||xt(3),f+=at&15;var M=$e[ft];if(ft>3){var q=ge[ft];M+=Gt(d,f)&(1<<q)-1,f+=q}if(f>p){u&&xt(0);break}a&&m(x+131072);var et=x+$;if(x<M){var it=s-M,ut=Math.min(M,et);for(it+x<0&&xt(3);x<ut;++x)t[x]=n[it+x]}for(;x<et;++x)t[x]=t[x-M]}}e.l=l,e.p=A,e.b=x,e.f=w,l&&(w=1,e.m=h,e.d=b,e.n=g)}while(!w);return x!=t.length&&c?Xe(t,0,x):t.subarray(0,x)},Qe=new gt(0),tr=function(d){(d[0]!=31||d[1]!=139||d[2]!=8)&&xt(6,"invalid gzip data");var e=d[3],t=10;e&4&&(t+=(d[10]|d[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!d[t++]);return t+(e&2)},er=function(d){var e=d.length;return(d[e-4]|d[e-3]<<8|d[e-2]<<16|d[e-1]<<24)>>>0},rr=function(d,e){return((d[0]&15)!=8||d[0]>>4>7||(d[0]<<8|d[1])%31)&&xt(6,"invalid zlib data"),(d[1]>>5&1)==1&&xt(6,"invalid zlib data: "+(d[1]&32?"need":"unexpected")+" dictionary"),(d[1]>>3&4)+2};function ir(d,e){return te(d,{i:2},e,e)}function nr(d,e){var t=tr(d);return t+8>d.length&&xt(6,"invalid gzip data"),te(d.subarray(t,-8),{i:2},new gt(er(d)),e)}function ar(d,e){return te(d.subarray(rr(d),-4),{i:2},e,e)}function sr(d,e){return d[0]==31&&d[1]==139&&d[2]==8?nr(d,e):(d[0]&15)!=8||d[0]>>4>7||(d[0]<<8|d[1])%31?ir(d,e):ar(d,e)}var or=typeof TextDecoder<"u"&&new TextDecoder,cr=0;try{or.decode(Qe,{stream:!0}),cr=1}catch{}var jt={exports:{}},$t,ae;function lr(){if(ae)return $t;ae=1;var d=1e3,e=d*60,t=e*60,n=t*24,i=n*7,s=n*365.25;$t=function(w,f){f=f||{};var x=typeof w;if(x==="string"&&w.length>0)return c(w);if(x==="number"&&isFinite(w))return f.long?u(w):a(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function c(w){if(w=String(w),!(w.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(f){var x=parseFloat(f[1]),l=(f[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return x*s;case"weeks":case"week":case"w":return x*i;case"days":case"day":case"d":return x*n;case"hours":case"hour":case"hrs":case"hr":case"h":return x*t;case"minutes":case"minute":case"mins":case"min":case"m":return x*e;case"seconds":case"second":case"secs":case"sec":case"s":return x*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return x;default:return}}}}function a(w){var f=Math.abs(w);return f>=n?Math.round(w/n)+"d":f>=t?Math.round(w/t)+"h":f>=e?Math.round(w/e)+"m":f>=d?Math.round(w/d)+"s":w+"ms"}function u(w){var f=Math.abs(w);return f>=n?m(w,f,n,"day"):f>=t?m(w,f,t,"hour"):f>=e?m(w,f,e,"minute"):f>=d?m(w,f,d,"second"):w+" ms"}function m(w,f,x,l){var b=f>=x*1.5;return Math.round(w/x)+" "+l+(b?"s":"")}return $t}var Vt,se;function fr(){if(se)return Vt;se=1;function d(e){n.debug=n,n.default=n,n.coerce=m,n.disable=a,n.enable=s,n.enabled=u,n.humanize=lr(),n.destroy=w,Object.keys(e).forEach(f=>{n[f]=e[f]}),n.names=[],n.skips=[],n.formatters={};function t(f){let x=0;for(let l=0;l<f.length;l++)x=(x<<5)-x+f.charCodeAt(l),x|=0;return n.colors[Math.abs(x)%n.colors.length]}n.selectColor=t;function n(f){let x,l=null,b,h;function g(...p){if(!g.enabled)return;const _=g,C=Number(new Date),z=C-(x||C);_.diff=z,_.prev=x,_.curr=C,x=C,p[0]=n.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let E=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(D,W)=>{if(D==="%%")return"%";E++;const T=n.formatters[W];if(typeof T=="function"){const Z=p[E];D=T.call(_,Z),p.splice(E,1),E--}return D}),n.formatArgs.call(_,p),(_.log||n.log).apply(_,p)}return g.namespace=f,g.useColors=n.useColors(),g.color=n.selectColor(f),g.extend=i,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(b!==n.namespaces&&(b=n.namespaces,h=n.enabled(f)),h),set:p=>{l=p}}),typeof n.init=="function"&&n.init(g),g}function i(f,x){const l=n(this.namespace+(typeof x>"u"?":":x)+f);return l.log=this.log,l}function s(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];const x=(typeof f=="string"?f:"").trim().replace(" ",",").split(",").filter(Boolean);for(const l of x)l[0]==="-"?n.skips.push(l.slice(1)):n.names.push(l)}function c(f,x){let l=0,b=0,h=-1,g=0;for(;l<f.length;)if(b<x.length&&(x[b]===f[l]||x[b]==="*"))x[b]==="*"?(h=b,g=l,b++):(l++,b++);else if(h!==-1)b=h+1,g++,l=g;else return!1;for(;b<x.length&&x[b]==="*";)b++;return b===x.length}function a(){const f=[...n.names,...n.skips.map(x=>"-"+x)].join(",");return n.enable(""),f}function u(f){for(const x of n.skips)if(c(f,x))return!1;for(const x of n.names)if(c(f,x))return!0;return!1}function m(f){return f instanceof Error?f.stack||f.message:f}function w(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Vt=d,Vt}var oe;function ur(){return oe||(oe=1,function(d,e){var t={};e.formatArgs=i,e.save=s,e.load=c,e.useColors=n,e.storage=a(),e.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let m;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(m=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(m[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+d.exports.humanize(this.diff),!this.useColors)return;const w="color: "+this.color;m.splice(1,0,w,"color: inherit");let f=0,x=0;m[0].replace(/%[a-zA-Z%]/g,l=>{l!=="%%"&&(f++,l==="%c"&&(x=f))}),m.splice(x,0,w)}e.log=console.debug||console.log||(()=>{});function s(m){try{m?e.storage.setItem("debug",m):e.storage.removeItem("debug")}catch{}}function c(){let m;try{m=e.storage.getItem("debug")}catch{}return!m&&typeof process<"u"&&"env"in process&&(m=t.DEBUG),m}function a(){try{return localStorage}catch{}}d.exports=fr()(e);const{formatters:u}=d.exports;u.j=function(m){try{return JSON.stringify(m)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}}(jt,jt.exports)),jt.exports}var hr=ur();const dr=de(hr),Bt={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},ce={get(d){return ct.get(d,6),{signature:ht.get(d,0),compressedSize:ht.get(d,8),uncompressedSize:ht.get(d,12)}},len:16},pr={get(d){const e=ct.get(d,6);return{signature:ht.get(d,0),minVersion:ct.get(d,4),dataDescriptor:!!(e&8),compressedMethod:ct.get(d,8),compressedSize:ht.get(d,18),uncompressedSize:ht.get(d,22),filenameLength:ct.get(d,26),extraFieldLength:ct.get(d,28),filename:null}},len:30},mr={get(d){return{signature:ht.get(d,0),nrOfThisDisk:ct.get(d,4),nrOfThisDiskWithTheStart:ct.get(d,6),nrOfEntriesOnThisDisk:ct.get(d,8),nrOfEntriesOfSize:ct.get(d,10),sizeOfCd:ht.get(d,12),offsetOfStartOfCd:ht.get(d,16),zipFileCommentLength:ct.get(d,20)}},len:22},xr={get(d){const e=ct.get(d,8);return{signature:ht.get(d,0),minVersion:ct.get(d,6),dataDescriptor:!!(e&8),compressedMethod:ct.get(d,10),compressedSize:ht.get(d,20),uncompressedSize:ht.get(d,24),filenameLength:ct.get(d,28),extraFieldLength:ct.get(d,30),fileCommentLength:ct.get(d,32),relativeOffsetOfLocalHeader:ht.get(d,42),filename:null}},len:46};function _e(d){const e=new Uint8Array(ht.len);return ht.put(e,0,d),e}const _t=dr("tokenizer:inflate"),Kt=256*1024,gr=_e(Bt.DataDescriptor),Pt=_e(Bt.EndOfCentralDirectory);class wr{constructor(e){this.tokenizer=e,this.syncBuffer=new Uint8Array(Kt)}async isZip(){return await this.peekSignature()===Bt.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(ht)}async findEndOfCentralDirectoryLocator(){const e=this.tokenizer,t=Math.min(16*1024,e.fileInfo.size),n=this.syncBuffer.subarray(0,t);await this.tokenizer.readBuffer(n,{position:e.fileInfo.size-t});for(let i=n.length-4;i>=0;i--)if(n[i]===Pt[0]&&n[i+1]===Pt[1]&&n[i+2]===Pt[2]&&n[i+3]===Pt[3])return e.fileInfo.size-t+i;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){_t("Cannot reading central-directory without random-read support");return}_t("Reading central-directory...");const e=this.tokenizer.position,t=await this.findEndOfCentralDirectoryLocator();if(t>0){_t("Central-directory 32-bit signature found");const n=await this.tokenizer.readToken(mr,t),i=[];this.tokenizer.setPosition(n.offsetOfStartOfCd);for(let s=0;s<n.nrOfEntriesOfSize;++s){const c=await this.tokenizer.readToken(xr);if(c.signature!==Bt.CentralFileHeader)throw new Error("Expected Central-File-Header signature");c.filename=await this.tokenizer.readToken(new St(c.filenameLength,"utf-8")),await this.tokenizer.ignore(c.extraFieldLength),await this.tokenizer.ignore(c.fileCommentLength),i.push(c),_t(`Add central-directory file-entry: n=${s+1}/${i.length}: filename=${i[s].filename}`)}return this.tokenizer.setPosition(e),i}this.tokenizer.setPosition(e)}async unzip(e){const t=await this.readCentralDirectory();if(t)return this.iterateOverCentralDirectory(t,e);let n=!1;do{const i=await this.readLocalFileHeader();if(!i)break;const s=e(i);n=!!s.stop;let c;if(await this.tokenizer.ignore(i.extraFieldLength),i.dataDescriptor&&i.compressedSize===0){const a=[];let u=Kt;_t("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let m=-1;for(;m<0&&u===Kt;){u=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),m=vr(this.syncBuffer.subarray(0,u),gr);const w=m>=0?m:u;if(s.handler){const f=new Uint8Array(w);await this.tokenizer.readBuffer(f),a.push(f)}else await this.tokenizer.ignore(w)}_t(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),s.handler&&await this.inflate(i,br(a),s.handler)}else s.handler?(_t(`Reading compressed-file-data: ${i.compressedSize} bytes`),c=new Uint8Array(i.compressedSize),await this.tokenizer.readBuffer(c),await this.inflate(i,c,s.handler)):(_t(`Ignoring compressed-file-data: ${i.compressedSize} bytes`),await this.tokenizer.ignore(i.compressedSize));if(_t(`Reading data-descriptor at pos=${this.tokenizer.position}`),i.dataDescriptor&&(await this.tokenizer.readToken(ce)).signature!==134695760)throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-ce.len}`)}while(!n)}async iterateOverCentralDirectory(e,t){for(const n of e){const i=t(n);if(i.handler){this.tokenizer.setPosition(n.relativeOffsetOfLocalHeader);const s=await this.readLocalFileHeader();if(s){await this.tokenizer.ignore(s.extraFieldLength);const c=new Uint8Array(n.compressedSize);await this.tokenizer.readBuffer(c),await this.inflate(s,c,i.handler)}}if(i.stop)break}}inflate(e,t,n){if(e.compressedMethod===0)return n(t);_t(`Decompress filename=${e.filename}, compressed-size=${t.length}`);const i=sr(t);return n(i)}async readLocalFileHeader(){const e=await this.tokenizer.peekToken(ht);if(e===Bt.LocalFileHeader){const t=await this.tokenizer.readToken(pr);return t.filename=await this.tokenizer.readToken(new St(t.filenameLength,"utf-8")),t}if(e===Bt.CentralFileHeader)return!1;throw e===3759263696?new Error("Encrypted ZIP"):new Error("Unexpected signature")}}function vr(d,e){const t=d.length,n=e.length;if(n>t)return-1;for(let i=0;i<=t-n;i++){let s=!0;for(let c=0;c<n;c++)if(d[i+c]!==e[c]){s=!1;break}if(s)return i}return-1}function br(d){const e=d.reduce((i,s)=>i+s.length,0),t=new Uint8Array(e);let n=0;for(const i of d)t.set(i,n),n+=i.length;return t}new globalThis.TextDecoder("utf8");new globalThis.TextEncoder;Array.from({length:256},(d,e)=>e.toString(16).padStart(2,"0"));function le(d){const{byteLength:e}=d;if(e===6)return d.getUint16(0)*2**32+d.getUint32(2);if(e===5)return d.getUint8(0)*2**32+d.getUint32(1);if(e===4)return d.getUint32(0);if(e===3)return d.getUint8(0)*2**16+d.getUint16(1);if(e===2)return d.getUint16(0);if(e===1)return d.getUint8(0)}function yr(d,e){const t=d.length,n=e.length;if(n===0||n>t)return-1;const i=t-n;for(let s=0;s<=i;s++){let c=!0;for(let a=0;a<n;a++)if(d[s+a]!==e[a]){c=!1;break}if(c)return s}return-1}function _r(d,e){return yr(d,e)!==-1}function kr(d){return[...d].map(e=>e.charCodeAt(0))}function Cr(d,e=0){const t=Number.parseInt(new St(6).get(d,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(t))return!1;let n=8*32;for(let i=e;i<e+148;i++)n+=d[i];for(let i=e+156;i<e+512;i++)n+=d[i];return t===n}const Sr={get:(d,e)=>d[e+3]&127|d[e+2]<<7|d[e+1]<<14|d[e]<<21,len:4},Er=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","rm"],zr=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/x-parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/java-archive","application/vnd.rn-realmedia"],Yt=4100;async function Br(d){return new Ar().fromBlob(d)}function Xt(d){switch(d){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:"application/vnd.oasis.opendocument.text-template"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:"application/vnd.oasis.opendocument.spreadsheet-template"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:"application/vnd.oasis.opendocument.presentation-template"};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:"application/vnd.oasis.opendocument.graphics"};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:"application/vnd.oasis.opendocument.graphics-template"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"application/vnd.ms-excel.sheet.macroEnabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroEnabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.template"};case"application/vnd.ms-excel.template.macroEnabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"application/vnd.ms-word.document.macroEnabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroEnabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.template"};case"application/vnd.ms-word.template.macroEnabledTemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroEnabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:"application/vnd.openxmlformats-officedocument.presentationml.template"};case"application/vnd.ms-powerpoint.template.macroEnabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroEnabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"application/vnd.ms-powerpoint.presentation.macroEnabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroEnabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"}}}function kt(d,e,t){t={offset:0,...t};for(const[n,i]of e.entries())if(t.mask){if(i!==(t.mask[n]&d[n+t.offset]))return!1}else if(i!==d[n+t.offset])return!1;return!0}class Ar{constructor(e){Ht(this,"detectConfident",async e=>{if(this.buffer=new Uint8Array(Yt),e.fileInfo.size===void 0&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);const t=await e.readToken(Sr);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let t;return await new wr(e).unzip(n=>{switch(n.filename){case"META-INF/mozilla.rsa":return t={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return t={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(i){const s=new TextDecoder("utf-8").decode(i).trim();t=Xt(s)},stop:!0};case"[Content_Types].xml":return{async handler(i){let s=new TextDecoder("utf-8").decode(i);const c=s.indexOf('.main+xml"');if(c===-1){const a="application/vnd.ms-package.3dmanufacturing-3dmodel+xml";s.includes(`ContentType="${a}"`)&&(t=Xt(a))}else{s=s.slice(0,Math.max(0,c));const a=s.lastIndexOf('"'),u=s.slice(Math.max(0,a+1));t=Xt(u)}},stop:!0};default:return/classes\d*\.dex/.test(n.filename)?(t={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0}):{}}}),t??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);const t=new Uint8Array(8);return await e.readBuffer(t),kt(t,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/ogg; codecs=opus"}:kt(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:kt(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:kt(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:kt(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:kt(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{if(await e.ignore(1350)===1350){const i=new Uint8Array(Math.min(10485760,e.fileInfo.size-1350));if(await e.readBuffer(i,{mayBeLess:!0}),_r(i,new TextEncoder().encode("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}}catch(t){if(!(t instanceof wt))throw t}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const t=await this.readTiffHeader(!1);if(t)return t}if(this.check([77,77])){const t=await this.readTiffHeader(!0);if(t)return t}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function t(){const a=await e.peekNumber(Ae);let u=128,m=0;for(;(a&u)===0&&u!==0;)++m,u>>=1;const w=new Uint8Array(m+1);return await e.readBuffer(w),w}async function n(){const a=await t(),u=await t();u[0]^=128>>u.length-1;const m=Math.min(6,u.length),w=new DataView(a.buffer),f=new DataView(u.buffer,u.length-m,m);return{id:le(w),len:le(f)}}async function i(a){for(;a>0;){const u=await n();if(u.id===17026)return(await e.readToken(new St(u.len))).replaceAll(/\00.*$/g,"");await e.ignore(u.len),--a}}const s=await n();switch(await i(s.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const t=new St(4,"latin1").get(this.buffer,2);if(t.match("^d*")&&t>=1e3&&t<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await e.ignore(8),await e.readToken(new St(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&[`
`,"\r","	"," ","\0"].some(t=>this.checkString(t,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await e.ignore(8);async function t(){return{length:await e.readToken(Ie),type:await e.readToken(new St(4,"latin1"))}}do{const n=await t();if(n.length<0)return;switch(n.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(n.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){const t=new St(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(t){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return t.startsWith("3g")?t.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function t(){const n=new Uint8Array(16);return await e.readBuffer(n),{id:n,size:Number(await e.readToken(Te))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const n=await t();let i=n.size-24;if(kt(n.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const s=new Uint8Array(16);if(i-=await e.readBuffer(s),kt(s,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(kt(s,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(i)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new St(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const t=new DataView(this.buffer.buffer).getUint32(12,!0);if(t>12&&this.buffer.length>=t+16)try{const n=new TextDecoder().decode(this.buffer.slice(16,t+16));if(JSON.parse(n).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),Cr(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}});Ht(this,"detectImprecise",async e=>{if(this.buffer=new Uint8Array(Yt),await e.peekBuffer(this.buffer,{length:Math.min(8,e.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}});this.detectors=[...(e==null?void 0:e.customDetectors)??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:e==null?void 0:e.signal}}async fromTokenizer(e){const t=e.position;for(const n of this.detectors){const i=await n.detect(e);if(i)return i;if(t!==e.position)return}}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if((t==null?void 0:t.length)>1)return this.fromTokenizer(We(t,this.tokenizerOptions))}async fromBlob(e){return this.fromStream(e.stream())}async fromStream(e){const t=await Me(e,this.tokenizerOptions);try{return await this.fromTokenizer(t)}finally{await t.close()}}async toDetectionStream(e,t){const{sampleSize:n=Yt}=t;let i,s;const c=e.getReader({mode:"byob"});try{const{value:m,done:w}=await c.read(new Uint8Array(n));if(s=m,!w&&m)try{i=await this.fromBuffer(m.slice(0,n))}catch(f){if(!(f instanceof wt))throw f;i=void 0}s=m}finally{c.releaseLock()}const a=new TransformStream({async start(m){m.enqueue(s)},transform(m,w){w.enqueue(m)}}),u=e.pipeThrough(a);return u.fileType=i,u}check(e,t){return kt(this.buffer,e,t)}checkString(e,t){return this.check(kr(e),t)}async readTiffTag(e){const t=await this.tokenizer.readToken(e?Tt:ct);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){const t=await this.tokenizer.readToken(e?Tt:ct);for(let n=0;n<t;++n){const i=await this.readTiffTag(e);if(i)return i}}async readTiffHeader(e){const t=(e?Tt:ct).get(this.buffer,2),n=(e?Fe:ht).get(this.buffer,4);if(t===42){if(n>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n>=8){const s=(e?Tt:ct).get(this.buffer,8),c=(e?Tt:ct).get(this.buffer,10);if(s===28&&c===254||s===31&&c===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(n),await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(t===43)return{ext:"tif",mime:"image/tiff"}}}new Set(Er);new Set(zr);const Mt=256,Fr=65536,fe=6,ue=16,Ir="image/x-icon";class Tr{async convertToBlobAsync(e,t=Ir){const n=await this.convertAsync(e);return new Blob([n],{type:t})}async convertAsync(e){const t=e.length;if(t>Fr)throw new Error("TOO_MANY_FILES");const n=fe+ue*t,i=n+this.sumInputLen(e),s=new Uint8Array(i);s.set([0,0,1,0,...this.to2Bytes(t)],0);let c=n;for(let a=0;a<e.length;a++){const u=fe+ue*a,m=e[a],w=this.toBlob(m.png),f=await this.loadImageAsync(w),x=f.naturalWidth,l=f.naturalHeight;if(!m.ignoreSize&&(x>Mt||l>Mt))throw new Error("INVALID_SIZE");s.set([x>Mt?0:x,l>Mt?0:l,0,0,0,0,...m.bpp?this.to2Bytes(m.bpp):[0,0],...this.to4Bytes(w.size),...this.to4Bytes(c)],u);const b=m.png instanceof ArrayBuffer?m.png:await m.png.arrayBuffer();s.set(new Uint8Array(b),c),c+=w.size}return s}loadImageAsync(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>t(i),i.onerror=()=>n("INVALID_IMAGE"),i.src=URL.createObjectURL(e)})}toBlob(e,t="image/png"){return e instanceof Blob?e:new Blob([e],{type:t})}to2Bytes(e){return[e&255,e>>8&255]}to4Bytes(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]}sumInputLen(e){let t=0;for(const n of e){const i=n.png;i instanceof Blob?t+=i.size:t+=i.byteLength}return t}}function Wt(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var he;function Dr(){return he||(he=1,function(d,e){(function(t){d.exports=t()})(function(){return function t(n,i,s){function c(m,w){if(!i[m]){if(!n[m]){var f=typeof Wt=="function"&&Wt;if(!w&&f)return f(m,!0);if(a)return a(m,!0);var x=new Error("Cannot find module '"+m+"'");throw x.code="MODULE_NOT_FOUND",x}var l=i[m]={exports:{}};n[m][0].call(l.exports,function(b){var h=n[m][1][b];return c(h||b)},l,l.exports,t,n,i,s)}return i[m].exports}for(var a=typeof Wt=="function"&&Wt,u=0;u<s.length;u++)c(s[u]);return c}({1:[function(t,n,i){var s=t("./utils"),c=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var m,w,f,x,l,b,h,g=[],p=0,_=u.length,C=_,z=s.getTypeOf(u)!=="string";p<u.length;)C=_-p,f=z?(m=u[p++],w=p<_?u[p++]:0,p<_?u[p++]:0):(m=u.charCodeAt(p++),w=p<_?u.charCodeAt(p++):0,p<_?u.charCodeAt(p++):0),x=m>>2,l=(3&m)<<4|w>>4,b=1<C?(15&w)<<2|f>>6:64,h=2<C?63&f:64,g.push(a.charAt(x)+a.charAt(l)+a.charAt(b)+a.charAt(h));return g.join("")},i.decode=function(u){var m,w,f,x,l,b,h=0,g=0,p="data:";if(u.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var _,C=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===a.charAt(64)&&C--,u.charAt(u.length-2)===a.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=c.uint8array?new Uint8Array(0|C):new Array(0|C);h<u.length;)m=a.indexOf(u.charAt(h++))<<2|(x=a.indexOf(u.charAt(h++)))>>4,w=(15&x)<<4|(l=a.indexOf(u.charAt(h++)))>>2,f=(3&l)<<6|(b=a.indexOf(u.charAt(h++))),_[g++]=m,l!==64&&(_[g++]=w),b!==64&&(_[g++]=f);return _}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),c=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function m(w,f,x,l,b){this.compressedSize=w,this.uncompressedSize=f,this.crc32=x,this.compression=l,this.compressedContent=b}m.prototype={getContentWorker:function(){var w=new c(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),f=this;return w.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new c(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(w,f,x){return w.pipe(new a).pipe(new u("uncompressedSize")).pipe(f.compressWorker(x)).pipe(new u("compressedSize")).withStreamInfo("compression",f)},n.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),c=function(){for(var a,u=[],m=0;m<256;m++){a=m;for(var w=0;w<8;w++)a=1&a?3988292384^a>>>1:a>>>1;u[m]=a}return u}();n.exports=function(a,u){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(m,w,f,x){var l=c,b=x+f;m^=-1;for(var h=x;h<b;h++)m=m>>>8^l[255&(m^w[h])];return-1^m}(0|u,a,a.length,0):function(m,w,f,x){var l=c,b=x+f;m^=-1;for(var h=x;h<b;h++)m=m>>>8^l[255&(m^w.charCodeAt(h))];return-1^m}(0|u,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=t("pako"),a=t("./utils"),u=t("./stream/GenericWorker"),m=s?"uint8array":"array";function w(f,x){u.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=x,this.meta={}}i.magic="\b\0",a.inherits(w,u),w.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(m,f.data),!1)},w.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(x){f.push({data:x,meta:f.meta})}},i.compressWorker=function(f){return new w("Deflate",f)},i.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(l,b){var h,g="";for(h=0;h<b;h++)g+=String.fromCharCode(255&l),l>>>=8;return g}function c(l,b,h,g,p,_){var C,z,E=l.file,L=l.compression,D=_!==m.utf8encode,W=a.transformTo("string",_(E.name)),T=a.transformTo("string",m.utf8encode(E.name)),Z=E.comment,K=a.transformTo("string",_(Z)),k=a.transformTo("string",m.utf8encode(Z)),O=T.length!==E.name.length,o=k.length!==Z.length,U="",J="",P="",tt=E.dir,M=E.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};b&&!h||(Q.crc32=l.crc32,Q.compressedSize=l.compressedSize,Q.uncompressedSize=l.uncompressedSize);var F=0;b&&(F|=8),D||!O&&!o||(F|=2048);var A=0,Y=0;tt&&(A|=16),p==="UNIX"?(Y=798,A|=function(q,at){var ft=q;return q||(ft=at?16893:33204),(65535&ft)<<16}(E.unixPermissions,tt)):(Y=20,A|=function(q){return 63&(q||0)}(E.dosPermissions)),C=M.getUTCHours(),C<<=6,C|=M.getUTCMinutes(),C<<=5,C|=M.getUTCSeconds()/2,z=M.getUTCFullYear()-1980,z<<=4,z|=M.getUTCMonth()+1,z<<=5,z|=M.getUTCDate(),O&&(J=s(1,1)+s(w(W),4)+T,U+="up"+s(J.length,2)+J),o&&(P=s(1,1)+s(w(K),4)+k,U+="uc"+s(P.length,2)+P);var $="";return $+=`
\0`,$+=s(F,2),$+=L.magic,$+=s(C,2),$+=s(z,2),$+=s(Q.crc32,4),$+=s(Q.compressedSize,4),$+=s(Q.uncompressedSize,4),$+=s(W.length,2),$+=s(U.length,2),{fileRecord:f.LOCAL_FILE_HEADER+$+W+U,dirRecord:f.CENTRAL_FILE_HEADER+s(Y,2)+$+s(K.length,2)+"\0\0\0\0"+s(A,4)+s(g,4)+W+U+K}}var a=t("../utils"),u=t("../stream/GenericWorker"),m=t("../utf8"),w=t("../crc32"),f=t("../signature");function x(l,b,h,g){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=h,this.encodeFileName=g,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(x,u),x.prototype.push=function(l){var b=l.meta.percent||0,h=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,u.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:h?(b+100*(h-g-1))/h:100}}))},x.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var b=this.streamFiles&&!l.file.dir;if(b){var h=c(l,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(l){this.accumulate=!1;var b=this.streamFiles&&!l.file.dir,h=c(l,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),b)this.push({data:function(g){return f.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var l=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var h=this.bytesWritten-l,g=function(p,_,C,z,E){var L=a.transformTo("string",E(z));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(p,2)+s(p,2)+s(_,4)+s(C,4)+s(L.length,2)+L}(this.dirRecords.length,h,l,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(l){this._sources.push(l);var b=this;return l.on("data",function(h){b.processChunk(h)}),l.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),l.on("error",function(h){b.error(h)}),this},x.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(l){var b=this._sources;if(!u.prototype.error.call(this,l))return!1;for(var h=0;h<b.length;h++)try{b[h].error(l)}catch{}return!0},x.prototype.lock=function(){u.prototype.lock.call(this);for(var l=this._sources,b=0;b<l.length;b++)l[b].lock()},n.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),c=t("./ZipFileWorker");i.generateWorker=function(a,u,m){var w=new c(u.streamFiles,m,u.platform,u.encodeFileName),f=0;try{a.forEach(function(x,l){f++;var b=function(_,C){var z=_||C,E=s[z];if(!E)throw new Error(z+" is not a valid compression method !");return E}(l.options.compression,u.compression),h=l.options.compressionOptions||u.compressionOptions||{},g=l.dir,p=l.date;l._compressWorker(b,h).withStreamInfo("file",{name:x,dir:g,date:p,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(w)}),w.entriesCount=f}catch(x){w.error(x)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new s;for(var a in this)typeof this[a]!="function"&&(c[a]=this[a]);return c}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(c,a){return new s().loadAsync(c,a)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),c=t("./external"),a=t("./utf8"),u=t("./zipEntries"),m=t("./stream/Crc32Probe"),w=t("./nodejsUtils");function f(x){return new c.Promise(function(l,b){var h=x.decompressed.getContentWorker().pipe(new m);h.on("error",function(g){b(g)}).on("end",function(){h.streamInfo.crc32!==x.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}n.exports=function(x,l){var b=this;return l=s.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),w.isNode&&w.isStream(x)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",x,!0,l.optimizedBinaryString,l.base64).then(function(h){var g=new u(l);return g.load(h),g}).then(function(h){var g=[c.Promise.resolve(h)],p=h.files;if(l.checkCRC32)for(var _=0;_<p.length;_++)g.push(f(p[_]));return c.Promise.all(g)}).then(function(h){for(var g=h.shift(),p=g.files,_=0;_<p.length;_++){var C=p[_],z=C.fileNameStr,E=s.resolve(C.fileNameStr);b.file(E,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:l.createFolders}),C.dir||(b.file(E).unsafeOriginalName=z)}return g.zipComment.length&&(b.comment=g.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),c=t("../stream/GenericWorker");function a(u,m){c.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(m)}s.inherits(a,c),a.prototype._bindStream=function(u){var m=this;(this._stream=u).pause(),u.on("data",function(w){m.push({data:w,meta:{percent:0}})}).on("error",function(w){m.isPaused?this.generatedError=w:m.error(w)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},a.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function c(a,u,m){s.call(this,u),this._helper=a;var w=this;a.on("data",function(f,x){w.push(f)||w._helper.pause(),m&&m(x)}).on("error",function(f){w.emit("error",f)}).on("end",function(){w.push(null)})}t("../utils").inherits(c,s),c.prototype._read=function(){this._helper.resume()},n.exports=c},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,c);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,c)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var c=new Buffer(s);return c.fill(0),c},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(E,L,D){var W,T=a.getTypeOf(L),Z=a.extend(D||{},w);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(E=p(E)),Z.createFolders&&(W=g(E))&&_.call(this,W,!0);var K=T==="string"&&Z.binary===!1&&Z.base64===!1;D&&D.binary!==void 0||(Z.binary=!K),(L instanceof f&&L.uncompressedSize===0||Z.dir||!L||L.length===0)&&(Z.base64=!1,Z.binary=!0,L="",Z.compression="STORE",T="string");var k=null;k=L instanceof f||L instanceof u?L:b.isNode&&b.isStream(L)?new h(E,L):a.prepareContent(E,L,Z.binary,Z.optimizedBinaryString,Z.base64);var O=new x(E,k,Z);this.files[E]=O}var c=t("./utf8"),a=t("./utils"),u=t("./stream/GenericWorker"),m=t("./stream/StreamHelper"),w=t("./defaults"),f=t("./compressedObject"),x=t("./zipObject"),l=t("./generate"),b=t("./nodejsUtils"),h=t("./nodejs/NodejsStreamInputAdapter"),g=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var L=E.lastIndexOf("/");return 0<L?E.substring(0,L):""},p=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},_=function(E,L){return L=L!==void 0?L:w.createFolders,E=p(E),this.files[E]||s.call(this,E,null,{dir:!0,createFolders:L}),this.files[E]};function C(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var L,D,W;for(L in this.files)W=this.files[L],(D=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&E(D,W)},filter:function(E){var L=[];return this.forEach(function(D,W){E(D,W)&&L.push(W)}),L},file:function(E,L,D){if(arguments.length!==1)return E=this.root+E,s.call(this,E,L,D),this;if(C(E)){var W=E;return this.filter(function(Z,K){return!K.dir&&W.test(Z)})}var T=this.files[this.root+E];return T&&!T.dir?T:null},folder:function(E){if(!E)return this;if(C(E))return this.filter(function(T,Z){return Z.dir&&E.test(T)});var L=this.root+E,D=_.call(this,L),W=this.clone();return W.root=D.name,W},remove:function(E){E=this.root+E;var L=this.files[E];if(L||(E.slice(-1)!=="/"&&(E+="/"),L=this.files[E]),L&&!L.dir)delete this.files[E];else for(var D=this.filter(function(T,Z){return Z.name.slice(0,E.length)===E}),W=0;W<D.length;W++)delete this.files[D[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var L,D={};try{if((D=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");a.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var W=D.comment||this.comment||"";L=l.generateWorker(this,D,W)}catch(T){(L=new u("error")).error(T)}return new m(L,D.type||"string",D.mimeType)},generateAsync:function(E,L){return this.generateInternalStream(E).accumulate(L)},generateNodeStream:function(E,L){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(L)}};n.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function c(a){s.call(this,a);for(var u=0;u<this.data.length;u++)a[u]=255&a[u]}t("../utils").inherits(c,s),c.prototype.byteAt=function(a){return this.data[this.zero+a]},c.prototype.lastIndexOfSignature=function(a){for(var u=a.charCodeAt(0),m=a.charCodeAt(1),w=a.charCodeAt(2),f=a.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===u&&this.data[x+1]===m&&this.data[x+2]===w&&this.data[x+3]===f)return x-this.zero;return-1},c.prototype.readAndCheckSignature=function(a){var u=a.charCodeAt(0),m=a.charCodeAt(1),w=a.charCodeAt(2),f=a.charCodeAt(3),x=this.readData(4);return u===x[0]&&m===x[1]&&w===x[2]&&f===x[3]},c.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=c},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function c(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u,m=0;for(this.checkOffset(a),u=this.index+a-1;u>=this.index;u--)m=(m<<8)+this.byteAt(u);return this.index+=a,m},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=c},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function c(a){s.call(this,a)}t("../utils").inherits(c,s),c.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function c(a){s.call(this,a)}t("../utils").inherits(c,s),c.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},c.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},c.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},c.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=c},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function c(a){s.call(this,a)}t("../utils").inherits(c,s),c.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),c=t("../support"),a=t("./ArrayReader"),u=t("./StringReader"),m=t("./NodeBufferReader"),w=t("./Uint8ArrayReader");n.exports=function(f){var x=s.getTypeOf(f);return s.checkSupport(x),x!=="string"||c.uint8array?x==="nodebuffer"?new m(f):c.uint8array?new w(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new u(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),c=t("../utils");function a(u){s.call(this,"ConvertWorker to "+u),this.destType=u}c.inherits(a,s),a.prototype.processChunk=function(u){this.push({data:c.transformTo(this.destType,u.data),meta:u.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),c=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(u){this.streamInfo.crc32=c(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),c=t("./GenericWorker");function a(u){c.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(a,c),a.prototype.processChunk=function(u){if(u){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+u.data.length}c.prototype.processChunk.call(this,u)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),c=t("./GenericWorker");function a(u){c.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(w){m.dataIsReady=!0,m.data=w,m.max=w&&w.length||0,m.type=s.getTypeOf(w),m.isPaused||m._tickAndRepeat()},function(w){m.error(w)})}s.inherits(a,c),a.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,m);break;case"uint8array":u=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":u=this.data.slice(this.index,m)}return this.index=m,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,a){return this._listeners[c].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,a){if(this._listeners[c])for(var u=0;u<this._listeners[c].length;u++)this._listeners[c][u].call(this,a)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var a=this;return c.on("data",function(u){a.processChunk(u)}),c.on("end",function(){a.end()}),c.on("error",function(u){a.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,a){return this.extraStreamInfo[c]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),c=t("./ConvertWorker"),a=t("./GenericWorker"),u=t("../base64"),m=t("../support"),w=t("../external"),f=null;if(m.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(b,h){return new w.Promise(function(g,p){var _=[],C=b._internalType,z=b._outputType,E=b._mimeType;b.on("data",function(L,D){_.push(L),h&&h(D)}).on("error",function(L){_=[],p(L)}).on("end",function(){try{var L=function(D,W,T){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",W),T);case"base64":return u.encode(W);default:return s.transformTo(D,W)}}(z,function(D,W){var T,Z=0,K=null,k=0;for(T=0;T<W.length;T++)k+=W[T].length;switch(D){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(K=new Uint8Array(k),T=0;T<W.length;T++)K.set(W[T],Z),Z+=W[T].length;return K;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+D+"'")}}(C,_),E);g(L)}catch(D){p(D)}_=[]}).resume()})}function l(b,h,g){var p=h;switch(h){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=h,this._mimeType=g,s.checkSupport(p),this._worker=b.pipe(new c(p)),b.lock()}catch(_){this._worker=new a("error"),this._worker.error(_)}}l.prototype={accumulate:function(b){return x(this,b)},on:function(b,h){var g=this;return b==="data"?this._worker.on(b,function(p){h.call(g,p.data,p.meta)}):this._worker.on(b,function(){s.delay(h,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},n.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(s),i.blob=c.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),c=t("./support"),a=t("./nodejsUtils"),u=t("./stream/GenericWorker"),m=new Array(256),w=0;w<256;w++)m[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;m[254]=m[254]=1;function f(){u.call(this,"utf-8 decode"),this.leftOver=null}function x(){u.call(this,"utf-8 encode")}i.utf8encode=function(l){return c.nodebuffer?a.newBufferFrom(l,"utf-8"):function(b){var h,g,p,_,C,z=b.length,E=0;for(_=0;_<z;_++)(64512&(g=b.charCodeAt(_)))==55296&&_+1<z&&(64512&(p=b.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(p-56320),_++),E+=g<128?1:g<2048?2:g<65536?3:4;for(h=c.uint8array?new Uint8Array(E):new Array(E),_=C=0;C<E;_++)(64512&(g=b.charCodeAt(_)))==55296&&_+1<z&&(64512&(p=b.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(p-56320),_++),g<128?h[C++]=g:(g<2048?h[C++]=192|g>>>6:(g<65536?h[C++]=224|g>>>12:(h[C++]=240|g>>>18,h[C++]=128|g>>>12&63),h[C++]=128|g>>>6&63),h[C++]=128|63&g);return h}(l)},i.utf8decode=function(l){return c.nodebuffer?s.transformTo("nodebuffer",l).toString("utf-8"):function(b){var h,g,p,_,C=b.length,z=new Array(2*C);for(h=g=0;h<C;)if((p=b[h++])<128)z[g++]=p;else if(4<(_=m[p]))z[g++]=65533,h+=_-1;else{for(p&=_===2?31:_===3?15:7;1<_&&h<C;)p=p<<6|63&b[h++],_--;1<_?z[g++]=65533:p<65536?z[g++]=p:(p-=65536,z[g++]=55296|p>>10&1023,z[g++]=56320|1023&p)}return z.length!==g&&(z.subarray?z=z.subarray(0,g):z.length=g),s.applyFromCharCode(z)}(l=s.transformTo(c.uint8array?"uint8array":"array",l))},s.inherits(f,u),f.prototype.processChunk=function(l){var b=s.transformTo(c.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var h=b;(b=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),b.set(h,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var g=function(_,C){var z;for((C=C||_.length)>_.length&&(C=_.length),z=C-1;0<=z&&(192&_[z])==128;)z--;return z<0||z===0?C:z+m[_[z]]>C?z:C}(b),p=b;g!==b.length&&(c.uint8array?(p=b.subarray(0,g),this.leftOver=b.subarray(g,b.length)):(p=b.slice(0,g),this.leftOver=b.slice(g,b.length))),this.push({data:i.utf8decode(p),meta:l.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(x,u),x.prototype.processChunk=function(l){this.push({data:i.utf8encode(l.data),meta:l.meta})},i.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),c=t("./base64"),a=t("./nodejsUtils"),u=t("./external");function m(h){return h}function w(h,g){for(var p=0;p<h.length;++p)g[p]=255&h.charCodeAt(p);return g}t("setimmediate"),i.newBlob=function(h,g){i.checkSupport("blob");try{return new Blob([h],{type:g})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(h),p.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(h,g,p){var _=[],C=0,z=h.length;if(z<=p)return String.fromCharCode.apply(null,h);for(;C<z;)g==="array"||g==="nodebuffer"?_.push(String.fromCharCode.apply(null,h.slice(C,Math.min(C+p,z)))):_.push(String.fromCharCode.apply(null,h.subarray(C,Math.min(C+p,z)))),C+=p;return _.join("")},stringifyByChar:function(h){for(var g="",p=0;p<h.length;p++)g+=String.fromCharCode(h[p]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function x(h){var g=65536,p=i.getTypeOf(h),_=!0;if(p==="uint8array"?_=f.applyCanBeUsed.uint8array:p==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<g;)try{return f.stringifyByChunk(h,p,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(h)}function l(h,g){for(var p=0;p<h.length;p++)g[p]=h[p];return g}i.applyFromCharCode=x;var b={};b.string={string:m,array:function(h){return w(h,new Array(h.length))},arraybuffer:function(h){return b.string.uint8array(h).buffer},uint8array:function(h){return w(h,new Uint8Array(h.length))},nodebuffer:function(h){return w(h,a.allocBuffer(h.length))}},b.array={string:x,array:m,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(h)}},b.arraybuffer={string:function(h){return x(new Uint8Array(h))},array:function(h){return l(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:m,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(new Uint8Array(h))}},b.uint8array={string:x,array:function(h){return l(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:m,nodebuffer:function(h){return a.newBufferFrom(h)}},b.nodebuffer={string:x,array:function(h){return l(h,new Array(h.length))},arraybuffer:function(h){return b.nodebuffer.uint8array(h).buffer},uint8array:function(h){return l(h,new Uint8Array(h.length))},nodebuffer:m},i.transformTo=function(h,g){if(g=g||"",!h)return g;i.checkSupport(h);var p=i.getTypeOf(g);return b[p][h](g)},i.resolve=function(h){for(var g=h.split("/"),p=[],_=0;_<g.length;_++){var C=g[_];C==="."||C===""&&_!==0&&_!==g.length-1||(C===".."?p.pop():p.push(C))}return p.join("/")},i.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(h)?"nodebuffer":s.uint8array&&h instanceof Uint8Array?"uint8array":s.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(h){if(!s[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(h){var g,p,_="";for(p=0;p<(h||"").length;p++)_+="\\x"+((g=h.charCodeAt(p))<16?"0":"")+g.toString(16).toUpperCase();return _},i.delay=function(h,g,p){setImmediate(function(){h.apply(p||null,g||[])})},i.inherits=function(h,g){function p(){}p.prototype=g.prototype,h.prototype=new p},i.extend=function(){var h,g,p={};for(h=0;h<arguments.length;h++)for(g in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],g)&&p[g]===void 0&&(p[g]=arguments[h][g]);return p},i.prepareContent=function(h,g,p,_,C){return u.Promise.resolve(g).then(function(z){return s.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new u.Promise(function(E,L){var D=new FileReader;D.onload=function(W){E(W.target.result)},D.onerror=function(W){L(W.target.error)},D.readAsArrayBuffer(z)}):z}).then(function(z){var E=i.getTypeOf(z);return E?(E==="arraybuffer"?z=i.transformTo("uint8array",z):E==="string"&&(C?z=c.decode(z):p&&_!==!0&&(z=function(L){return w(L,s.uint8array?new Uint8Array(L.length):new Array(L.length))}(z))),z):u.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),c=t("./utils"),a=t("./signature"),u=t("./zipEntry"),m=t("./support");function w(f){this.files=[],this.loadOptions=f}w.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(x)+", expected "+c.pretty(f)+")")}},isSignature:function(f,x){var l=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===x;return this.reader.setIndex(l),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),x=m.uint8array?"uint8array":"array",l=c.transformTo(x,f);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,x,l,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),x=this.reader.readInt(4),l=this.reader.readData(x),this.zip64ExtensibleData[f]={id:f,length:x,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,x;for(f=0;f<this.files.length;f++)x=this.files[f],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var x=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var b=x-l;if(0<b)this.isSignature(x,a.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),c=t("./utils"),a=t("./compressedObject"),u=t("./crc32"),m=t("./utf8"),w=t("./compressions"),f=t("./support");function x(l,b){this.options=l,this.loadOptions=b}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var b,h;if(l.skip(22),this.fileNameLength=l.readInt(2),h=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(g){for(var p in w)if(Object.prototype.hasOwnProperty.call(w,p)&&w[p].magic===g)return w[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,b,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var b=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(b),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=s(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var b,h,g,p=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<p;)b=l.readInt(2),h=l.readInt(2),g=l.readData(h),this.extraFields[b]={id:b,length:h,value:g};l.setIndex(p)},handleUTF8:function(){var l=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var h=c.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var p=c.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var b=s(l.value);return b.readInt(1)!==1||u(this.fileName)!==b.readInt(4)?null:m.utf8decode(b.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var b=s(l.value);return b.readInt(1)!==1||u(this.fileComment)!==b.readInt(4)?null:m.utf8decode(b.readData(l.length-5))}return null}},n.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(b,h,g){this.name=b,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=h,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var c=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),u=t("./utf8"),m=t("./compressedObject"),w=t("./stream/GenericWorker");s.prototype={internalStream:function(b){var h=null,g="string";try{if(!b)throw new Error("No output type specified.");var p=(g=b.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),h=this._decompressWorker();var _=!this._dataBinary;_&&!p&&(h=h.pipe(new u.Utf8EncodeWorker)),!_&&p&&(h=h.pipe(new u.Utf8DecodeWorker))}catch(C){(h=new w("error")).error(C)}return new c(h,g,"")},async:function(b,h){return this.internalStream(b).accumulate(h)},nodeStream:function(b,h){return this.internalStream(b||"nodebuffer").toNodejsStream(h)},_compressWorker:function(b,h){if(this._data instanceof m&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new u.Utf8EncodeWorker)),m.createWorkerFrom(g,b,h)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof w?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<f.length;l++)s.prototype[f[l]]=x;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var c,a,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var m=0,w=new u(b),f=s.document.createTextNode("");w.observe(f,{characterData:!0}),c=function(){f.data=m=++m%2}}else if(s.setImmediate||s.MessageChannel===void 0)c="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var h=s.document.createElement("script");h.onreadystatechange=function(){b(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},s.document.documentElement.appendChild(h)}:function(){setTimeout(b,0)};else{var x=new s.MessageChannel;x.port1.onmessage=b,c=function(){x.port2.postMessage(0)}}var l=[];function b(){var h,g;a=!0;for(var p=l.length;p;){for(g=l,l=[],h=-1;++h<p;)g[h]();p=l.length}a=!1}n.exports=function(h){l.push(h)!==1||a||c()}}).call(this,typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function c(){}var a={},u=["REJECTED"],m=["FULFILLED"],w=["PENDING"];function f(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,p!==c&&h(this,p)}function x(p,_,C){this.promise=p,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function l(p,_,C){s(function(){var z;try{z=_(C)}catch(E){return a.reject(p,E)}z===p?a.reject(p,new TypeError("Cannot resolve promise with itself")):a.resolve(p,z)})}function b(p){var _=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof _=="function")return function(){_.apply(p,arguments)}}function h(p,_){var C=!1;function z(D){C||(C=!0,a.reject(p,D))}function E(D){C||(C=!0,a.resolve(p,D))}var L=g(function(){_(E,z)});L.status==="error"&&z(L.value)}function g(p,_){var C={};try{C.value=p(_),C.status="success"}catch(z){C.status="error",C.value=z}return C}(n.exports=f).prototype.finally=function(p){if(typeof p!="function")return this;var _=this.constructor;return this.then(function(C){return _.resolve(p()).then(function(){return C})},function(C){return _.resolve(p()).then(function(){throw C})})},f.prototype.catch=function(p){return this.then(null,p)},f.prototype.then=function(p,_){if(typeof p!="function"&&this.state===m||typeof _!="function"&&this.state===u)return this;var C=new this.constructor(c);return this.state!==w?l(C,this.state===m?p:_,this.outcome):this.queue.push(new x(C,p,_)),C},x.prototype.callFulfilled=function(p){a.resolve(this.promise,p)},x.prototype.otherCallFulfilled=function(p){l(this.promise,this.onFulfilled,p)},x.prototype.callRejected=function(p){a.reject(this.promise,p)},x.prototype.otherCallRejected=function(p){l(this.promise,this.onRejected,p)},a.resolve=function(p,_){var C=g(b,_);if(C.status==="error")return a.reject(p,C.value);var z=C.value;if(z)h(p,z);else{p.state=m,p.outcome=_;for(var E=-1,L=p.queue.length;++E<L;)p.queue[E].callFulfilled(_)}return p},a.reject=function(p,_){p.state=u,p.outcome=_;for(var C=-1,z=p.queue.length;++C<z;)p.queue[C].callRejected(_);return p},f.resolve=function(p){return p instanceof this?p:a.resolve(new this(c),p)},f.reject=function(p){var _=new this(c);return a.reject(_,p)},f.all=function(p){var _=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=p.length,z=!1;if(!C)return this.resolve([]);for(var E=new Array(C),L=0,D=-1,W=new this(c);++D<C;)T(p[D],D);return W;function T(Z,K){_.resolve(Z).then(function(k){E[K]=k,++L!==C||z||(z=!0,a.resolve(W,E))},function(k){z||(z=!0,a.reject(W,k))})}},f.race=function(p){var _=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=p.length,z=!1;if(!C)return this.resolve([]);for(var E=-1,L=new this(c);++E<C;)D=p[E],_.resolve(D).then(function(W){z||(z=!0,a.resolve(L,W))},function(W){z||(z=!0,a.reject(L,W))});var D;return L}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),c=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/messages"),m=t("./zlib/zstream"),w=Object.prototype.toString,f=0,x=-1,l=0,b=8;function h(p){if(!(this instanceof h))return new h(p);this.options=c.assign({level:x,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},p||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var C=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(C!==f)throw new Error(u[C]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var z;if(z=typeof _.dictionary=="string"?a.string2buf(_.dictionary):w.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(C=s.deflateSetDictionary(this.strm,z))!==f)throw new Error(u[C]);this._dict_set=!0}}function g(p,_){var C=new h(_);if(C.push(p,!0),C.err)throw C.msg||u[C.err];return C.result}h.prototype.push=function(p,_){var C,z,E=this.strm,L=this.options.chunkSize;if(this.ended)return!1;z=_===~~_?_:_===!0?4:0,typeof p=="string"?E.input=a.string2buf(p):w.call(p)==="[object ArrayBuffer]"?E.input=new Uint8Array(p):E.input=p,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new c.Buf8(L),E.next_out=0,E.avail_out=L),(C=s.deflate(E,z))!==1&&C!==f)return this.onEnd(C),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(c.shrinkBuf(E.output,E.next_out))):this.onData(c.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&C!==1);return z===4?(C=s.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===f):z!==2||(this.onEnd(f),!(E.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Deflate=h,i.deflate=g,i.deflateRaw=function(p,_){return(_=_||{}).raw=!0,g(p,_)},i.gzip=function(p,_){return(_=_||{}).gzip=!0,g(p,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),c=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/constants"),m=t("./zlib/messages"),w=t("./zlib/zstream"),f=t("./zlib/gzheader"),x=Object.prototype.toString;function l(h){if(!(this instanceof l))return new l(h);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},h||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||h&&h.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var p=s.inflateInit2(this.strm,g.windowBits);if(p!==u.Z_OK)throw new Error(m[p]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function b(h,g){var p=new l(g);if(p.push(h,!0),p.err)throw p.msg||m[p.err];return p.result}l.prototype.push=function(h,g){var p,_,C,z,E,L,D=this.strm,W=this.options.chunkSize,T=this.options.dictionary,Z=!1;if(this.ended)return!1;_=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof h=="string"?D.input=a.binstring2buf(h):x.call(h)==="[object ArrayBuffer]"?D.input=new Uint8Array(h):D.input=h,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new c.Buf8(W),D.next_out=0,D.avail_out=W),(p=s.inflate(D,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&T&&(L=typeof T=="string"?a.string2buf(T):x.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,p=s.inflateSetDictionary(this.strm,L)),p===u.Z_BUF_ERROR&&Z===!0&&(p=u.Z_OK,Z=!1),p!==u.Z_STREAM_END&&p!==u.Z_OK)return this.onEnd(p),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&p!==u.Z_STREAM_END&&(D.avail_in!==0||_!==u.Z_FINISH&&_!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=a.utf8border(D.output,D.next_out),z=D.next_out-C,E=a.buf2string(D.output,C),D.next_out=z,D.avail_out=W-z,z&&c.arraySet(D.output,D.output,C,z,0),this.onData(E)):this.onData(c.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(Z=!0)}while((0<D.avail_in||D.avail_out===0)&&p!==u.Z_STREAM_END);return p===u.Z_STREAM_END&&(_=u.Z_FINISH),_===u.Z_FINISH?(p=s.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===u.Z_OK):_!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(D.avail_out=0))},l.prototype.onData=function(h){this.chunks.push(h)},l.prototype.onEnd=function(h){h===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},i.Inflate=l,i.inflate=b,i.inflateRaw=function(h,g){return(g=g||{}).raw=!0,b(h,g)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var w=m.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var f in w)w.hasOwnProperty(f)&&(u[f]=w[f])}}return u},i.shrinkBuf=function(u,m){return u.length===m?u:u.subarray?u.subarray(0,m):(u.length=m,u)};var c={arraySet:function(u,m,w,f,x){if(m.subarray&&u.subarray)u.set(m.subarray(w,w+f),x);else for(var l=0;l<f;l++)u[x+l]=m[w+l]},flattenChunks:function(u){var m,w,f,x,l,b;for(m=f=0,w=u.length;m<w;m++)f+=u[m].length;for(b=new Uint8Array(f),m=x=0,w=u.length;m<w;m++)l=u[m],b.set(l,x),x+=l.length;return b}},a={arraySet:function(u,m,w,f,x){for(var l=0;l<f;l++)u[x+l]=m[w+l]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,c)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),c=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new s.Buf8(256),m=0;m<256;m++)u[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function w(f,x){if(x<65537&&(f.subarray&&a||!f.subarray&&c))return String.fromCharCode.apply(null,s.shrinkBuf(f,x));for(var l="",b=0;b<x;b++)l+=String.fromCharCode(f[b]);return l}u[254]=u[254]=1,i.string2buf=function(f){var x,l,b,h,g,p=f.length,_=0;for(h=0;h<p;h++)(64512&(l=f.charCodeAt(h)))==55296&&h+1<p&&(64512&(b=f.charCodeAt(h+1)))==56320&&(l=65536+(l-55296<<10)+(b-56320),h++),_+=l<128?1:l<2048?2:l<65536?3:4;for(x=new s.Buf8(_),h=g=0;g<_;h++)(64512&(l=f.charCodeAt(h)))==55296&&h+1<p&&(64512&(b=f.charCodeAt(h+1)))==56320&&(l=65536+(l-55296<<10)+(b-56320),h++),l<128?x[g++]=l:(l<2048?x[g++]=192|l>>>6:(l<65536?x[g++]=224|l>>>12:(x[g++]=240|l>>>18,x[g++]=128|l>>>12&63),x[g++]=128|l>>>6&63),x[g++]=128|63&l);return x},i.buf2binstring=function(f){return w(f,f.length)},i.binstring2buf=function(f){for(var x=new s.Buf8(f.length),l=0,b=x.length;l<b;l++)x[l]=f.charCodeAt(l);return x},i.buf2string=function(f,x){var l,b,h,g,p=x||f.length,_=new Array(2*p);for(l=b=0;l<p;)if((h=f[l++])<128)_[b++]=h;else if(4<(g=u[h]))_[b++]=65533,l+=g-1;else{for(h&=g===2?31:g===3?15:7;1<g&&l<p;)h=h<<6|63&f[l++],g--;1<g?_[b++]=65533:h<65536?_[b++]=h:(h-=65536,_[b++]=55296|h>>10&1023,_[b++]=56320|1023&h)}return w(_,b)},i.utf8border=function(f,x){var l;for((x=x||f.length)>f.length&&(x=f.length),l=x-1;0<=l&&(192&f[l])==128;)l--;return l<0||l===0?x:l+u[f[l]]>x?l:x}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,c,a,u){for(var m=65535&s|0,w=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;w=w+(m=m+c[u++]|0)|0,--f;);m%=65521,w%=65521}return m|w<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=function(){for(var c,a=[],u=0;u<256;u++){c=u;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;a[u]=c}return a}();n.exports=function(c,a,u,m){var w=s,f=m+u;c^=-1;for(var x=m;x<f;x++)c=c>>>8^w[255&(c^a[x])];return-1^c}},{}],46:[function(t,n,i){var s,c=t("../utils/common"),a=t("./trees"),u=t("./adler32"),m=t("./crc32"),w=t("./messages"),f=0,x=4,l=0,b=-2,h=-1,g=4,p=2,_=8,C=9,z=286,E=30,L=19,D=2*z+1,W=15,T=3,Z=258,K=Z+T+1,k=42,O=113,o=1,U=2,J=3,P=4;function tt(r,R){return r.msg=w[R],R}function M(r){return(r<<1)-(4<r?9:0)}function Q(r){for(var R=r.length;0<=--R;)r[R]=0}function F(r){var R=r.state,I=R.pending;I>r.avail_out&&(I=r.avail_out),I!==0&&(c.arraySet(r.output,R.pending_buf,R.pending_out,I,r.next_out),r.next_out+=I,R.pending_out+=I,r.total_out+=I,r.avail_out-=I,R.pending-=I,R.pending===0&&(R.pending_out=0))}function A(r,R){a._tr_flush_block(r,0<=r.block_start?r.block_start:-1,r.strstart-r.block_start,R),r.block_start=r.strstart,F(r.strm)}function Y(r,R){r.pending_buf[r.pending++]=R}function $(r,R){r.pending_buf[r.pending++]=R>>>8&255,r.pending_buf[r.pending++]=255&R}function q(r,R){var I,y,v=r.max_chain_length,S=r.strstart,N=r.prev_length,j=r.nice_match,B=r.strstart>r.w_size-K?r.strstart-(r.w_size-K):0,H=r.window,V=r.w_mask,G=r.prev,X=r.strstart+Z,nt=H[S+N-1],rt=H[S+N];r.prev_length>=r.good_match&&(v>>=2),j>r.lookahead&&(j=r.lookahead);do if(H[(I=R)+N]===rt&&H[I+N-1]===nt&&H[I]===H[S]&&H[++I]===H[S+1]){S+=2,I++;do;while(H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&S<X);if(y=Z-(X-S),S=X-Z,N<y){if(r.match_start=R,j<=(N=y))break;nt=H[S+N-1],rt=H[S+N]}}while((R=G[R&V])>B&&--v!=0);return N<=r.lookahead?N:r.lookahead}function at(r){var R,I,y,v,S,N,j,B,H,V,G=r.w_size;do{if(v=r.window_size-r.lookahead-r.strstart,r.strstart>=G+(G-K)){for(c.arraySet(r.window,r.window,G,G,0),r.match_start-=G,r.strstart-=G,r.block_start-=G,R=I=r.hash_size;y=r.head[--R],r.head[R]=G<=y?y-G:0,--I;);for(R=I=G;y=r.prev[--R],r.prev[R]=G<=y?y-G:0,--I;);v+=G}if(r.strm.avail_in===0)break;if(N=r.strm,j=r.window,B=r.strstart+r.lookahead,H=v,V=void 0,V=N.avail_in,H<V&&(V=H),I=V===0?0:(N.avail_in-=V,c.arraySet(j,N.input,N.next_in,V,B),N.state.wrap===1?N.adler=u(N.adler,j,V,B):N.state.wrap===2&&(N.adler=m(N.adler,j,V,B)),N.next_in+=V,N.total_in+=V,V),r.lookahead+=I,r.lookahead+r.insert>=T)for(S=r.strstart-r.insert,r.ins_h=r.window[S],r.ins_h=(r.ins_h<<r.hash_shift^r.window[S+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[S+T-1])&r.hash_mask,r.prev[S&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=S,S++,r.insert--,!(r.lookahead+r.insert<T)););}while(r.lookahead<K&&r.strm.avail_in!==0)}function ft(r,R){for(var I,y;;){if(r.lookahead<K){if(at(r),r.lookahead<K&&R===f)return o;if(r.lookahead===0)break}if(I=0,r.lookahead>=T&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+T-1])&r.hash_mask,I=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),I!==0&&r.strstart-I<=r.w_size-K&&(r.match_length=q(r,I)),r.match_length>=T)if(y=a._tr_tally(r,r.strstart-r.match_start,r.match_length-T),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=T){for(r.match_length--;r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+T-1])&r.hash_mask,I=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart,--r.match_length!=0;);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else y=a._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(y&&(A(r,!1),r.strm.avail_out===0))return o}return r.insert=r.strstart<T-1?r.strstart:T-1,R===x?(A(r,!0),r.strm.avail_out===0?J:P):r.last_lit&&(A(r,!1),r.strm.avail_out===0)?o:U}function et(r,R){for(var I,y,v;;){if(r.lookahead<K){if(at(r),r.lookahead<K&&R===f)return o;if(r.lookahead===0)break}if(I=0,r.lookahead>=T&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+T-1])&r.hash_mask,I=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=T-1,I!==0&&r.prev_length<r.max_lazy_match&&r.strstart-I<=r.w_size-K&&(r.match_length=q(r,I),r.match_length<=5&&(r.strategy===1||r.match_length===T&&4096<r.strstart-r.match_start)&&(r.match_length=T-1)),r.prev_length>=T&&r.match_length<=r.prev_length){for(v=r.strstart+r.lookahead-T,y=a._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-T),r.lookahead-=r.prev_length-1,r.prev_length-=2;++r.strstart<=v&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+T-1])&r.hash_mask,I=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),--r.prev_length!=0;);if(r.match_available=0,r.match_length=T-1,r.strstart++,y&&(A(r,!1),r.strm.avail_out===0))return o}else if(r.match_available){if((y=a._tr_tally(r,0,r.window[r.strstart-1]))&&A(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return o}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(y=a._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<T-1?r.strstart:T-1,R===x?(A(r,!0),r.strm.avail_out===0?J:P):r.last_lit&&(A(r,!1),r.strm.avail_out===0)?o:U}function it(r,R,I,y,v){this.good_length=r,this.max_lazy=R,this.nice_length=I,this.max_chain=y,this.func=v}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*D),this.dyn_dtree=new c.Buf16(2*(2*E+1)),this.bl_tree=new c.Buf16(2*(2*L+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(W+1),this.heap=new c.Buf16(2*z+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*z+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(r){var R;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=p,(R=r.state).pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap?k:O,r.adler=R.wrap===2?0:1,R.last_flush=f,a._tr_init(R),l):tt(r,b)}function mt(r){var R=ot(r);return R===l&&function(I){I.window_size=2*I.w_size,Q(I.head),I.max_lazy_match=s[I.level].max_lazy,I.good_match=s[I.level].good_length,I.nice_match=s[I.level].nice_length,I.max_chain_length=s[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=T-1,I.match_available=0,I.ins_h=0}(r.state),R}function dt(r,R,I,y,v,S){if(!r)return b;var N=1;if(R===h&&(R=6),y<0?(N=0,y=-y):15<y&&(N=2,y-=16),v<1||C<v||I!==_||y<8||15<y||R<0||9<R||S<0||g<S)return tt(r,b);y===8&&(y=9);var j=new ut;return(r.state=j).strm=r,j.wrap=N,j.gzhead=null,j.w_bits=y,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=v+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+T-1)/T),j.window=new c.Buf8(2*j.w_size),j.head=new c.Buf16(j.hash_size),j.prev=new c.Buf16(j.w_size),j.lit_bufsize=1<<v+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new c.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=R,j.strategy=S,j.method=I,mt(r)}s=[new it(0,0,0,0,function(r,R){var I=65535;for(I>r.pending_buf_size-5&&(I=r.pending_buf_size-5);;){if(r.lookahead<=1){if(at(r),r.lookahead===0&&R===f)return o;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var y=r.block_start+I;if((r.strstart===0||r.strstart>=y)&&(r.lookahead=r.strstart-y,r.strstart=y,A(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-K&&(A(r,!1),r.strm.avail_out===0))return o}return r.insert=0,R===x?(A(r,!0),r.strm.avail_out===0?J:P):(r.strstart>r.block_start&&(A(r,!1),r.strm.avail_out),o)}),new it(4,4,8,4,ft),new it(4,5,16,8,ft),new it(4,6,32,32,ft),new it(4,4,16,16,et),new it(8,16,32,32,et),new it(8,16,128,128,et),new it(8,32,128,256,et),new it(32,128,258,1024,et),new it(32,258,258,4096,et)],i.deflateInit=function(r,R){return dt(r,R,_,15,8,0)},i.deflateInit2=dt,i.deflateReset=mt,i.deflateResetKeep=ot,i.deflateSetHeader=function(r,R){return r&&r.state?r.state.wrap!==2?b:(r.state.gzhead=R,l):b},i.deflate=function(r,R){var I,y,v,S;if(!r||!r.state||5<R||R<0)return r?tt(r,b):b;if(y=r.state,!r.output||!r.input&&r.avail_in!==0||y.status===666&&R!==x)return tt(r,r.avail_out===0?-5:b);if(y.strm=r,I=y.last_flush,y.last_flush=R,y.status===k)if(y.wrap===2)r.adler=0,Y(y,31),Y(y,139),Y(y,8),y.gzhead?(Y(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),Y(y,255&y.gzhead.time),Y(y,y.gzhead.time>>8&255),Y(y,y.gzhead.time>>16&255),Y(y,y.gzhead.time>>24&255),Y(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),Y(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(Y(y,255&y.gzhead.extra.length),Y(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(r.adler=m(r.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(Y(y,0),Y(y,0),Y(y,0),Y(y,0),Y(y,0),Y(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),Y(y,3),y.status=O);else{var N=_+(y.w_bits-8<<4)<<8;N|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(N|=32),N+=31-N%31,y.status=O,$(y,N),y.strstart!==0&&($(y,r.adler>>>16),$(y,65535&r.adler)),r.adler=1}if(y.status===69)if(y.gzhead.extra){for(v=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>v&&(r.adler=m(r.adler,y.pending_buf,y.pending-v,v)),F(r),v=y.pending,y.pending!==y.pending_buf_size));)Y(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>v&&(r.adler=m(r.adler,y.pending_buf,y.pending-v,v)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){v=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>v&&(r.adler=m(r.adler,y.pending_buf,y.pending-v,v)),F(r),v=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,Y(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>v&&(r.adler=m(r.adler,y.pending_buf,y.pending-v,v)),S===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){v=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>v&&(r.adler=m(r.adler,y.pending_buf,y.pending-v,v)),F(r),v=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,Y(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>v&&(r.adler=m(r.adler,y.pending_buf,y.pending-v,v)),S===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&F(r),y.pending+2<=y.pending_buf_size&&(Y(y,255&r.adler),Y(y,r.adler>>8&255),r.adler=0,y.status=O)):y.status=O),y.pending!==0){if(F(r),r.avail_out===0)return y.last_flush=-1,l}else if(r.avail_in===0&&M(R)<=M(I)&&R!==x)return tt(r,-5);if(y.status===666&&r.avail_in!==0)return tt(r,-5);if(r.avail_in!==0||y.lookahead!==0||R!==f&&y.status!==666){var j=y.strategy===2?function(B,H){for(var V;;){if(B.lookahead===0&&(at(B),B.lookahead===0)){if(H===f)return o;break}if(B.match_length=0,V=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,V&&(A(B,!1),B.strm.avail_out===0))return o}return B.insert=0,H===x?(A(B,!0),B.strm.avail_out===0?J:P):B.last_lit&&(A(B,!1),B.strm.avail_out===0)?o:U}(y,R):y.strategy===3?function(B,H){for(var V,G,X,nt,rt=B.window;;){if(B.lookahead<=Z){if(at(B),B.lookahead<=Z&&H===f)return o;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=T&&0<B.strstart&&(G=rt[X=B.strstart-1])===rt[++X]&&G===rt[++X]&&G===rt[++X]){nt=B.strstart+Z;do;while(G===rt[++X]&&G===rt[++X]&&G===rt[++X]&&G===rt[++X]&&G===rt[++X]&&G===rt[++X]&&G===rt[++X]&&G===rt[++X]&&X<nt);B.match_length=Z-(nt-X),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=T?(V=a._tr_tally(B,1,B.match_length-T),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(V=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),V&&(A(B,!1),B.strm.avail_out===0))return o}return B.insert=0,H===x?(A(B,!0),B.strm.avail_out===0?J:P):B.last_lit&&(A(B,!1),B.strm.avail_out===0)?o:U}(y,R):s[y.level].func(y,R);if(j!==J&&j!==P||(y.status=666),j===o||j===J)return r.avail_out===0&&(y.last_flush=-1),l;if(j===U&&(R===1?a._tr_align(y):R!==5&&(a._tr_stored_block(y,0,0,!1),R===3&&(Q(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),F(r),r.avail_out===0))return y.last_flush=-1,l}return R!==x?l:y.wrap<=0?1:(y.wrap===2?(Y(y,255&r.adler),Y(y,r.adler>>8&255),Y(y,r.adler>>16&255),Y(y,r.adler>>24&255),Y(y,255&r.total_in),Y(y,r.total_in>>8&255),Y(y,r.total_in>>16&255),Y(y,r.total_in>>24&255)):($(y,r.adler>>>16),$(y,65535&r.adler)),F(r),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?l:1)},i.deflateEnd=function(r){var R;return r&&r.state?(R=r.state.status)!==k&&R!==69&&R!==73&&R!==91&&R!==103&&R!==O&&R!==666?tt(r,b):(r.state=null,R===O?tt(r,-3):l):b},i.deflateSetDictionary=function(r,R){var I,y,v,S,N,j,B,H,V=R.length;if(!r||!r.state||(S=(I=r.state).wrap)===2||S===1&&I.status!==k||I.lookahead)return b;for(S===1&&(r.adler=u(r.adler,R,V,0)),I.wrap=0,V>=I.w_size&&(S===0&&(Q(I.head),I.strstart=0,I.block_start=0,I.insert=0),H=new c.Buf8(I.w_size),c.arraySet(H,R,V-I.w_size,I.w_size,0),R=H,V=I.w_size),N=r.avail_in,j=r.next_in,B=r.input,r.avail_in=V,r.next_in=0,r.input=R,at(I);I.lookahead>=T;){for(y=I.strstart,v=I.lookahead-(T-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[y+T-1])&I.hash_mask,I.prev[y&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=y,y++,--v;);I.strstart=y,I.lookahead=T-1,at(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=T-1,I.match_available=0,r.next_in=j,r.input=B,r.avail_in=N,I.wrap=S,l},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,c){var a,u,m,w,f,x,l,b,h,g,p,_,C,z,E,L,D,W,T,Z,K,k,O,o,U;a=s.state,u=s.next_in,o=s.input,m=u+(s.avail_in-5),w=s.next_out,U=s.output,f=w-(c-s.avail_out),x=w+(s.avail_out-257),l=a.dmax,b=a.wsize,h=a.whave,g=a.wnext,p=a.window,_=a.hold,C=a.bits,z=a.lencode,E=a.distcode,L=(1<<a.lenbits)-1,D=(1<<a.distbits)-1;t:do{C<15&&(_+=o[u++]<<C,C+=8,_+=o[u++]<<C,C+=8),W=z[_&L];e:for(;;){if(_>>>=T=W>>>24,C-=T,(T=W>>>16&255)===0)U[w++]=65535&W;else{if(!(16&T)){if((64&T)==0){W=z[(65535&W)+(_&(1<<T)-1)];continue e}if(32&T){a.mode=12;break t}s.msg="invalid literal/length code",a.mode=30;break t}Z=65535&W,(T&=15)&&(C<T&&(_+=o[u++]<<C,C+=8),Z+=_&(1<<T)-1,_>>>=T,C-=T),C<15&&(_+=o[u++]<<C,C+=8,_+=o[u++]<<C,C+=8),W=E[_&D];r:for(;;){if(_>>>=T=W>>>24,C-=T,!(16&(T=W>>>16&255))){if((64&T)==0){W=E[(65535&W)+(_&(1<<T)-1)];continue r}s.msg="invalid distance code",a.mode=30;break t}if(K=65535&W,C<(T&=15)&&(_+=o[u++]<<C,(C+=8)<T&&(_+=o[u++]<<C,C+=8)),l<(K+=_&(1<<T)-1)){s.msg="invalid distance too far back",a.mode=30;break t}if(_>>>=T,C-=T,(T=w-f)<K){if(h<(T=K-T)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break t}if(O=p,(k=0)===g){if(k+=b-T,T<Z){for(Z-=T;U[w++]=p[k++],--T;);k=w-K,O=U}}else if(g<T){if(k+=b+g-T,(T-=g)<Z){for(Z-=T;U[w++]=p[k++],--T;);if(k=0,g<Z){for(Z-=T=g;U[w++]=p[k++],--T;);k=w-K,O=U}}}else if(k+=g-T,T<Z){for(Z-=T;U[w++]=p[k++],--T;);k=w-K,O=U}for(;2<Z;)U[w++]=O[k++],U[w++]=O[k++],U[w++]=O[k++],Z-=3;Z&&(U[w++]=O[k++],1<Z&&(U[w++]=O[k++]))}else{for(k=w-K;U[w++]=U[k++],U[w++]=U[k++],U[w++]=U[k++],2<(Z-=3););Z&&(U[w++]=U[k++],1<Z&&(U[w++]=U[k++]))}break}}break}}while(u<m&&w<x);u-=Z=C>>3,_&=(1<<(C-=Z<<3))-1,s.next_in=u,s.next_out=w,s.avail_in=u<m?m-u+5:5-(u-m),s.avail_out=w<x?x-w+257:257-(w-x),a.hold=_,a.bits=C}},{}],49:[function(t,n,i){var s=t("../utils/common"),c=t("./adler32"),a=t("./crc32"),u=t("./inffast"),m=t("./inftrees"),w=1,f=2,x=0,l=-2,b=1,h=852,g=592;function p(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(k){var O;return k&&k.state?(O=k.state,k.total_in=k.total_out=O.total=0,k.msg="",O.wrap&&(k.adler=1&O.wrap),O.mode=b,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new s.Buf32(h),O.distcode=O.distdyn=new s.Buf32(g),O.sane=1,O.back=-1,x):l}function z(k){var O;return k&&k.state?((O=k.state).wsize=0,O.whave=0,O.wnext=0,C(k)):l}function E(k,O){var o,U;return k&&k.state?(U=k.state,O<0?(o=0,O=-O):(o=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?l:(U.window!==null&&U.wbits!==O&&(U.window=null),U.wrap=o,U.wbits=O,z(k))):l}function L(k,O){var o,U;return k?(U=new _,(k.state=U).window=null,(o=E(k,O))!==x&&(k.state=null),o):l}var D,W,T=!0;function Z(k){if(T){var O;for(D=new s.Buf32(512),W=new s.Buf32(32),O=0;O<144;)k.lens[O++]=8;for(;O<256;)k.lens[O++]=9;for(;O<280;)k.lens[O++]=7;for(;O<288;)k.lens[O++]=8;for(m(w,k.lens,0,288,D,0,k.work,{bits:9}),O=0;O<32;)k.lens[O++]=5;m(f,k.lens,0,32,W,0,k.work,{bits:5}),T=!1}k.lencode=D,k.lenbits=9,k.distcode=W,k.distbits=5}function K(k,O,o,U){var J,P=k.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new s.Buf8(P.wsize)),U>=P.wsize?(s.arraySet(P.window,O,o-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(U<(J=P.wsize-P.wnext)&&(J=U),s.arraySet(P.window,O,o-U,J,P.wnext),(U-=J)?(s.arraySet(P.window,O,o-U,U,0),P.wnext=U,P.whave=P.wsize):(P.wnext+=J,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=J))),0}i.inflateReset=z,i.inflateReset2=E,i.inflateResetKeep=C,i.inflateInit=function(k){return L(k,15)},i.inflateInit2=L,i.inflate=function(k,O){var o,U,J,P,tt,M,Q,F,A,Y,$,q,at,ft,et,it,ut,ot,mt,dt,r,R,I,y,v=0,S=new s.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return l;(o=k.state).mode===12&&(o.mode=13),tt=k.next_out,J=k.output,Q=k.avail_out,P=k.next_in,U=k.input,M=k.avail_in,F=o.hold,A=o.bits,Y=M,$=Q,R=x;t:for(;;)switch(o.mode){case b:if(o.wrap===0){o.mode=13;break}for(;A<16;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if(2&o.wrap&&F===35615){S[o.check=0]=255&F,S[1]=F>>>8&255,o.check=a(o.check,S,2,0),A=F=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&F)<<8)+(F>>8))%31){k.msg="incorrect header check",o.mode=30;break}if((15&F)!=8){k.msg="unknown compression method",o.mode=30;break}if(A-=4,r=8+(15&(F>>>=4)),o.wbits===0)o.wbits=r;else if(r>o.wbits){k.msg="invalid window size",o.mode=30;break}o.dmax=1<<r,k.adler=o.check=1,o.mode=512&F?10:12,A=F=0;break;case 2:for(;A<16;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if(o.flags=F,(255&o.flags)!=8){k.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){k.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=F>>8&1),512&o.flags&&(S[0]=255&F,S[1]=F>>>8&255,o.check=a(o.check,S,2,0)),A=F=0,o.mode=3;case 3:for(;A<32;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}o.head&&(o.head.time=F),512&o.flags&&(S[0]=255&F,S[1]=F>>>8&255,S[2]=F>>>16&255,S[3]=F>>>24&255,o.check=a(o.check,S,4,0)),A=F=0,o.mode=4;case 4:for(;A<16;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}o.head&&(o.head.xflags=255&F,o.head.os=F>>8),512&o.flags&&(S[0]=255&F,S[1]=F>>>8&255,o.check=a(o.check,S,2,0)),A=F=0,o.mode=5;case 5:if(1024&o.flags){for(;A<16;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}o.length=F,o.head&&(o.head.extra_len=F),512&o.flags&&(S[0]=255&F,S[1]=F>>>8&255,o.check=a(o.check,S,2,0)),A=F=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(M<(q=o.length)&&(q=M),q&&(o.head&&(r=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),s.arraySet(o.head.extra,U,P,q,r)),512&o.flags&&(o.check=a(o.check,U,q,P)),M-=q,P+=q,o.length-=q),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(M===0)break t;for(q=0;r=U[P+q++],o.head&&r&&o.length<65536&&(o.head.name+=String.fromCharCode(r)),r&&q<M;);if(512&o.flags&&(o.check=a(o.check,U,q,P)),M-=q,P+=q,r)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(M===0)break t;for(q=0;r=U[P+q++],o.head&&r&&o.length<65536&&(o.head.comment+=String.fromCharCode(r)),r&&q<M;);if(512&o.flags&&(o.check=a(o.check,U,q,P)),M-=q,P+=q,r)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;A<16;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if(F!==(65535&o.check)){k.msg="header crc mismatch",o.mode=30;break}A=F=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),k.adler=o.check=0,o.mode=12;break;case 10:for(;A<32;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}k.adler=o.check=p(F),A=F=0,o.mode=11;case 11:if(o.havedict===0)return k.next_out=tt,k.avail_out=Q,k.next_in=P,k.avail_in=M,o.hold=F,o.bits=A,2;k.adler=o.check=1,o.mode=12;case 12:if(O===5||O===6)break t;case 13:if(o.last){F>>>=7&A,A-=7&A,o.mode=27;break}for(;A<3;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}switch(o.last=1&F,A-=1,3&(F>>>=1)){case 0:o.mode=14;break;case 1:if(Z(o),o.mode=20,O!==6)break;F>>>=2,A-=2;break t;case 2:o.mode=17;break;case 3:k.msg="invalid block type",o.mode=30}F>>>=2,A-=2;break;case 14:for(F>>>=7&A,A-=7&A;A<32;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if((65535&F)!=(F>>>16^65535)){k.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&F,A=F=0,o.mode=15,O===6)break t;case 15:o.mode=16;case 16:if(q=o.length){if(M<q&&(q=M),Q<q&&(q=Q),q===0)break t;s.arraySet(J,U,P,q,tt),M-=q,P+=q,Q-=q,tt+=q,o.length-=q;break}o.mode=12;break;case 17:for(;A<14;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if(o.nlen=257+(31&F),F>>>=5,A-=5,o.ndist=1+(31&F),F>>>=5,A-=5,o.ncode=4+(15&F),F>>>=4,A-=4,286<o.nlen||30<o.ndist){k.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;A<3;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}o.lens[N[o.have++]]=7&F,F>>>=3,A-=3}for(;o.have<19;)o.lens[N[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,I={bits:o.lenbits},R=m(0,o.lens,0,19,o.lencode,0,o.work,I),o.lenbits=I.bits,R){k.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;it=(v=o.lencode[F&(1<<o.lenbits)-1])>>>16&255,ut=65535&v,!((et=v>>>24)<=A);){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if(ut<16)F>>>=et,A-=et,o.lens[o.have++]=ut;else{if(ut===16){for(y=et+2;A<y;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if(F>>>=et,A-=et,o.have===0){k.msg="invalid bit length repeat",o.mode=30;break}r=o.lens[o.have-1],q=3+(3&F),F>>>=2,A-=2}else if(ut===17){for(y=et+3;A<y;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}A-=et,r=0,q=3+(7&(F>>>=et)),F>>>=3,A-=3}else{for(y=et+7;A<y;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}A-=et,r=0,q=11+(127&(F>>>=et)),F>>>=7,A-=7}if(o.have+q>o.nlen+o.ndist){k.msg="invalid bit length repeat",o.mode=30;break}for(;q--;)o.lens[o.have++]=r}}if(o.mode===30)break;if(o.lens[256]===0){k.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,I={bits:o.lenbits},R=m(w,o.lens,0,o.nlen,o.lencode,0,o.work,I),o.lenbits=I.bits,R){k.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,I={bits:o.distbits},R=m(f,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,I),o.distbits=I.bits,R){k.msg="invalid distances set",o.mode=30;break}if(o.mode=20,O===6)break t;case 20:o.mode=21;case 21:if(6<=M&&258<=Q){k.next_out=tt,k.avail_out=Q,k.next_in=P,k.avail_in=M,o.hold=F,o.bits=A,u(k,$),tt=k.next_out,J=k.output,Q=k.avail_out,P=k.next_in,U=k.input,M=k.avail_in,F=o.hold,A=o.bits,o.mode===12&&(o.back=-1);break}for(o.back=0;it=(v=o.lencode[F&(1<<o.lenbits)-1])>>>16&255,ut=65535&v,!((et=v>>>24)<=A);){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if(it&&(240&it)==0){for(ot=et,mt=it,dt=ut;it=(v=o.lencode[dt+((F&(1<<ot+mt)-1)>>ot)])>>>16&255,ut=65535&v,!(ot+(et=v>>>24)<=A);){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}F>>>=ot,A-=ot,o.back+=ot}if(F>>>=et,A-=et,o.back+=et,o.length=ut,it===0){o.mode=26;break}if(32&it){o.back=-1,o.mode=12;break}if(64&it){k.msg="invalid literal/length code",o.mode=30;break}o.extra=15&it,o.mode=22;case 22:if(o.extra){for(y=o.extra;A<y;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}o.length+=F&(1<<o.extra)-1,F>>>=o.extra,A-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;it=(v=o.distcode[F&(1<<o.distbits)-1])>>>16&255,ut=65535&v,!((et=v>>>24)<=A);){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if((240&it)==0){for(ot=et,mt=it,dt=ut;it=(v=o.distcode[dt+((F&(1<<ot+mt)-1)>>ot)])>>>16&255,ut=65535&v,!(ot+(et=v>>>24)<=A);){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}F>>>=ot,A-=ot,o.back+=ot}if(F>>>=et,A-=et,o.back+=et,64&it){k.msg="invalid distance code",o.mode=30;break}o.offset=ut,o.extra=15&it,o.mode=24;case 24:if(o.extra){for(y=o.extra;A<y;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}o.offset+=F&(1<<o.extra)-1,F>>>=o.extra,A-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){k.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(Q===0)break t;if(q=$-Q,o.offset>q){if((q=o.offset-q)>o.whave&&o.sane){k.msg="invalid distance too far back",o.mode=30;break}at=q>o.wnext?(q-=o.wnext,o.wsize-q):o.wnext-q,q>o.length&&(q=o.length),ft=o.window}else ft=J,at=tt-o.offset,q=o.length;for(Q<q&&(q=Q),Q-=q,o.length-=q;J[tt++]=ft[at++],--q;);o.length===0&&(o.mode=21);break;case 26:if(Q===0)break t;J[tt++]=o.length,Q--,o.mode=21;break;case 27:if(o.wrap){for(;A<32;){if(M===0)break t;M--,F|=U[P++]<<A,A+=8}if($-=Q,k.total_out+=$,o.total+=$,$&&(k.adler=o.check=o.flags?a(o.check,J,$,tt-$):c(o.check,J,$,tt-$)),$=Q,(o.flags?F:p(F))!==o.check){k.msg="incorrect data check",o.mode=30;break}A=F=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;A<32;){if(M===0)break t;M--,F+=U[P++]<<A,A+=8}if(F!==(4294967295&o.total)){k.msg="incorrect length check",o.mode=30;break}A=F=0}o.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;case 32:default:return l}return k.next_out=tt,k.avail_out=Q,k.next_in=P,k.avail_in=M,o.hold=F,o.bits=A,(o.wsize||$!==k.avail_out&&o.mode<30&&(o.mode<27||O!==4))&&K(k,k.output,k.next_out,$-k.avail_out)?(o.mode=31,-4):(Y-=k.avail_in,$-=k.avail_out,k.total_in+=Y,k.total_out+=$,o.total+=$,o.wrap&&$&&(k.adler=o.check=o.flags?a(o.check,J,$,k.next_out-$):c(o.check,J,$,k.next_out-$)),k.data_type=o.bits+(o.last?64:0)+(o.mode===12?128:0)+(o.mode===20||o.mode===15?256:0),(Y==0&&$===0||O===4)&&R===x&&(R=-5),R)},i.inflateEnd=function(k){if(!k||!k.state)return l;var O=k.state;return O.window&&(O.window=null),k.state=null,x},i.inflateGetHeader=function(k,O){var o;return k&&k.state?(2&(o=k.state).wrap)==0?l:((o.head=O).done=!1,x):l},i.inflateSetDictionary=function(k,O){var o,U=O.length;return k&&k.state?(o=k.state).wrap!==0&&o.mode!==11?l:o.mode===11&&c(1,O,U,0)!==o.check?-3:K(k,O,U,U)?(o.mode=31,-4):(o.havedict=1,x):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(w,f,x,l,b,h,g,p){var _,C,z,E,L,D,W,T,Z,K=p.bits,k=0,O=0,o=0,U=0,J=0,P=0,tt=0,M=0,Q=0,F=0,A=null,Y=0,$=new s.Buf16(16),q=new s.Buf16(16),at=null,ft=0;for(k=0;k<=15;k++)$[k]=0;for(O=0;O<l;O++)$[f[x+O]]++;for(J=K,U=15;1<=U&&$[U]===0;U--);if(U<J&&(J=U),U===0)return b[h++]=20971520,b[h++]=20971520,p.bits=1,0;for(o=1;o<U&&$[o]===0;o++);for(J<o&&(J=o),k=M=1;k<=15;k++)if(M<<=1,(M-=$[k])<0)return-1;if(0<M&&(w===0||U!==1))return-1;for(q[1]=0,k=1;k<15;k++)q[k+1]=q[k]+$[k];for(O=0;O<l;O++)f[x+O]!==0&&(g[q[f[x+O]]++]=O);if(D=w===0?(A=at=g,19):w===1?(A=c,Y-=257,at=a,ft-=257,256):(A=u,at=m,-1),k=o,L=h,tt=O=F=0,z=-1,E=(Q=1<<(P=J))-1,w===1&&852<Q||w===2&&592<Q)return 1;for(;;){for(W=k-tt,Z=g[O]<D?(T=0,g[O]):g[O]>D?(T=at[ft+g[O]],A[Y+g[O]]):(T=96,0),_=1<<k-tt,o=C=1<<P;b[L+(F>>tt)+(C-=_)]=W<<24|T<<16|Z|0,C!==0;);for(_=1<<k-1;F&_;)_>>=1;if(_!==0?(F&=_-1,F+=_):F=0,O++,--$[k]==0){if(k===U)break;k=f[x+g[O]]}if(J<k&&(F&E)!==z){for(tt===0&&(tt=J),L+=o,M=1<<(P=k-tt);P+tt<U&&!((M-=$[P+tt])<=0);)P++,M<<=1;if(Q+=1<<P,w===1&&852<Q||w===2&&592<Q)return 1;b[z=F&E]=J<<24|P<<16|L-h|0}}return F!==0&&(b[L+F]=k-tt<<24|64<<16|0),p.bits=J,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),c=0,a=1;function u(v){for(var S=v.length;0<=--S;)v[S]=0}var m=0,w=29,f=256,x=f+1+w,l=30,b=19,h=2*x+1,g=15,p=16,_=7,C=256,z=16,E=17,L=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(x+2));u(K);var k=new Array(2*l);u(k);var O=new Array(512);u(O);var o=new Array(256);u(o);var U=new Array(w);u(U);var J,P,tt,M=new Array(l);function Q(v,S,N,j,B){this.static_tree=v,this.extra_bits=S,this.extra_base=N,this.elems=j,this.max_length=B,this.has_stree=v&&v.length}function F(v,S){this.dyn_tree=v,this.max_code=0,this.stat_desc=S}function A(v){return v<256?O[v]:O[256+(v>>>7)]}function Y(v,S){v.pending_buf[v.pending++]=255&S,v.pending_buf[v.pending++]=S>>>8&255}function $(v,S,N){v.bi_valid>p-N?(v.bi_buf|=S<<v.bi_valid&65535,Y(v,v.bi_buf),v.bi_buf=S>>p-v.bi_valid,v.bi_valid+=N-p):(v.bi_buf|=S<<v.bi_valid&65535,v.bi_valid+=N)}function q(v,S,N){$(v,N[2*S],N[2*S+1])}function at(v,S){for(var N=0;N|=1&v,v>>>=1,N<<=1,0<--S;);return N>>>1}function ft(v,S,N){var j,B,H=new Array(g+1),V=0;for(j=1;j<=g;j++)H[j]=V=V+N[j-1]<<1;for(B=0;B<=S;B++){var G=v[2*B+1];G!==0&&(v[2*B]=at(H[G]++,G))}}function et(v){var S;for(S=0;S<x;S++)v.dyn_ltree[2*S]=0;for(S=0;S<l;S++)v.dyn_dtree[2*S]=0;for(S=0;S<b;S++)v.bl_tree[2*S]=0;v.dyn_ltree[2*C]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function it(v){8<v.bi_valid?Y(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function ut(v,S,N,j){var B=2*S,H=2*N;return v[B]<v[H]||v[B]===v[H]&&j[S]<=j[N]}function ot(v,S,N){for(var j=v.heap[N],B=N<<1;B<=v.heap_len&&(B<v.heap_len&&ut(S,v.heap[B+1],v.heap[B],v.depth)&&B++,!ut(S,j,v.heap[B],v.depth));)v.heap[N]=v.heap[B],N=B,B<<=1;v.heap[N]=j}function mt(v,S,N){var j,B,H,V,G=0;if(v.last_lit!==0)for(;j=v.pending_buf[v.d_buf+2*G]<<8|v.pending_buf[v.d_buf+2*G+1],B=v.pending_buf[v.l_buf+G],G++,j===0?q(v,B,S):(q(v,(H=o[B])+f+1,S),(V=D[H])!==0&&$(v,B-=U[H],V),q(v,H=A(--j),N),(V=W[H])!==0&&$(v,j-=M[H],V)),G<v.last_lit;);q(v,C,S)}function dt(v,S){var N,j,B,H=S.dyn_tree,V=S.stat_desc.static_tree,G=S.stat_desc.has_stree,X=S.stat_desc.elems,nt=-1;for(v.heap_len=0,v.heap_max=h,N=0;N<X;N++)H[2*N]!==0?(v.heap[++v.heap_len]=nt=N,v.depth[N]=0):H[2*N+1]=0;for(;v.heap_len<2;)H[2*(B=v.heap[++v.heap_len]=nt<2?++nt:0)]=1,v.depth[B]=0,v.opt_len--,G&&(v.static_len-=V[2*B+1]);for(S.max_code=nt,N=v.heap_len>>1;1<=N;N--)ot(v,H,N);for(B=X;N=v.heap[1],v.heap[1]=v.heap[v.heap_len--],ot(v,H,1),j=v.heap[1],v.heap[--v.heap_max]=N,v.heap[--v.heap_max]=j,H[2*B]=H[2*N]+H[2*j],v.depth[B]=(v.depth[N]>=v.depth[j]?v.depth[N]:v.depth[j])+1,H[2*N+1]=H[2*j+1]=B,v.heap[1]=B++,ot(v,H,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(rt,vt){var At,yt,Ft,lt,Rt,Zt,Ct=vt.dyn_tree,ee=vt.max_code,ke=vt.stat_desc.static_tree,Ce=vt.stat_desc.has_stree,Se=vt.stat_desc.extra_bits,re=vt.stat_desc.extra_base,It=vt.stat_desc.max_length,Ut=0;for(lt=0;lt<=g;lt++)rt.bl_count[lt]=0;for(Ct[2*rt.heap[rt.heap_max]+1]=0,At=rt.heap_max+1;At<h;At++)It<(lt=Ct[2*Ct[2*(yt=rt.heap[At])+1]+1]+1)&&(lt=It,Ut++),Ct[2*yt+1]=lt,ee<yt||(rt.bl_count[lt]++,Rt=0,re<=yt&&(Rt=Se[yt-re]),Zt=Ct[2*yt],rt.opt_len+=Zt*(lt+Rt),Ce&&(rt.static_len+=Zt*(ke[2*yt+1]+Rt)));if(Ut!==0){do{for(lt=It-1;rt.bl_count[lt]===0;)lt--;rt.bl_count[lt]--,rt.bl_count[lt+1]+=2,rt.bl_count[It]--,Ut-=2}while(0<Ut);for(lt=It;lt!==0;lt--)for(yt=rt.bl_count[lt];yt!==0;)ee<(Ft=rt.heap[--At])||(Ct[2*Ft+1]!==lt&&(rt.opt_len+=(lt-Ct[2*Ft+1])*Ct[2*Ft],Ct[2*Ft+1]=lt),yt--)}}(v,S),ft(H,nt,v.bl_count)}function r(v,S,N){var j,B,H=-1,V=S[1],G=0,X=7,nt=4;for(V===0&&(X=138,nt=3),S[2*(N+1)+1]=65535,j=0;j<=N;j++)B=V,V=S[2*(j+1)+1],++G<X&&B===V||(G<nt?v.bl_tree[2*B]+=G:B!==0?(B!==H&&v.bl_tree[2*B]++,v.bl_tree[2*z]++):G<=10?v.bl_tree[2*E]++:v.bl_tree[2*L]++,H=B,nt=(G=0)===V?(X=138,3):B===V?(X=6,3):(X=7,4))}function R(v,S,N){var j,B,H=-1,V=S[1],G=0,X=7,nt=4;for(V===0&&(X=138,nt=3),j=0;j<=N;j++)if(B=V,V=S[2*(j+1)+1],!(++G<X&&B===V)){if(G<nt)for(;q(v,B,v.bl_tree),--G!=0;);else B!==0?(B!==H&&(q(v,B,v.bl_tree),G--),q(v,z,v.bl_tree),$(v,G-3,2)):G<=10?(q(v,E,v.bl_tree),$(v,G-3,3)):(q(v,L,v.bl_tree),$(v,G-11,7));H=B,nt=(G=0)===V?(X=138,3):B===V?(X=6,3):(X=7,4)}}u(M);var I=!1;function y(v,S,N,j){$(v,(m<<1)+(j?1:0),3),function(B,H,V,G){it(B),Y(B,V),Y(B,~V),s.arraySet(B.pending_buf,B.window,H,V,B.pending),B.pending+=V}(v,S,N)}i._tr_init=function(v){I||(function(){var S,N,j,B,H,V=new Array(g+1);for(B=j=0;B<w-1;B++)for(U[B]=j,S=0;S<1<<D[B];S++)o[j++]=B;for(o[j-1]=B,B=H=0;B<16;B++)for(M[B]=H,S=0;S<1<<W[B];S++)O[H++]=B;for(H>>=7;B<l;B++)for(M[B]=H<<7,S=0;S<1<<W[B]-7;S++)O[256+H++]=B;for(N=0;N<=g;N++)V[N]=0;for(S=0;S<=143;)K[2*S+1]=8,S++,V[8]++;for(;S<=255;)K[2*S+1]=9,S++,V[9]++;for(;S<=279;)K[2*S+1]=7,S++,V[7]++;for(;S<=287;)K[2*S+1]=8,S++,V[8]++;for(ft(K,x+1,V),S=0;S<l;S++)k[2*S+1]=5,k[2*S]=at(S,5);J=new Q(K,D,f+1,x,g),P=new Q(k,W,0,l,g),tt=new Q(new Array(0),T,0,b,_)}(),I=!0),v.l_desc=new F(v.dyn_ltree,J),v.d_desc=new F(v.dyn_dtree,P),v.bl_desc=new F(v.bl_tree,tt),v.bi_buf=0,v.bi_valid=0,et(v)},i._tr_stored_block=y,i._tr_flush_block=function(v,S,N,j){var B,H,V=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=function(G){var X,nt=4093624447;for(X=0;X<=31;X++,nt>>>=1)if(1&nt&&G.dyn_ltree[2*X]!==0)return c;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return a;for(X=32;X<f;X++)if(G.dyn_ltree[2*X]!==0)return a;return c}(v)),dt(v,v.l_desc),dt(v,v.d_desc),V=function(G){var X;for(r(G,G.dyn_ltree,G.l_desc.max_code),r(G,G.dyn_dtree,G.d_desc.max_code),dt(G,G.bl_desc),X=b-1;3<=X&&G.bl_tree[2*Z[X]+1]===0;X--);return G.opt_len+=3*(X+1)+5+5+4,X}(v),B=v.opt_len+3+7>>>3,(H=v.static_len+3+7>>>3)<=B&&(B=H)):B=H=N+5,N+4<=B&&S!==-1?y(v,S,N,j):v.strategy===4||H===B?($(v,2+(j?1:0),3),mt(v,K,k)):($(v,4+(j?1:0),3),function(G,X,nt,rt){var vt;for($(G,X-257,5),$(G,nt-1,5),$(G,rt-4,4),vt=0;vt<rt;vt++)$(G,G.bl_tree[2*Z[vt]+1],3);R(G,G.dyn_ltree,X-1),R(G,G.dyn_dtree,nt-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,V+1),mt(v,v.dyn_ltree,v.dyn_dtree)),et(v),j&&it(v)},i._tr_tally=function(v,S,N){return v.pending_buf[v.d_buf+2*v.last_lit]=S>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&S,v.pending_buf[v.l_buf+v.last_lit]=255&N,v.last_lit++,S===0?v.dyn_ltree[2*N]++:(v.matches++,S--,v.dyn_ltree[2*(o[N]+f+1)]++,v.dyn_dtree[2*A(S)]++),v.last_lit===v.lit_bufsize-1},i._tr_align=function(v){$(v,2,3),q(v,C,K),function(S){S.bi_valid===16?(Y(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(v)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(c,a){if(!c.setImmediate){var u,m,w,f,x=1,l={},b=!1,h=c.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(c);g=g&&g.setTimeout?g:c,u={}.toString.call(c.process)==="[object process]"?function(z){process.nextTick(function(){_(z)})}:function(){if(c.postMessage&&!c.importScripts){var z=!0,E=c.onmessage;return c.onmessage=function(){z=!1},c.postMessage("","*"),c.onmessage=E,z}}()?(f="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",C,!1):c.attachEvent("onmessage",C),function(z){c.postMessage(f+z,"*")}):c.MessageChannel?((w=new MessageChannel).port1.onmessage=function(z){_(z.data)},function(z){w.port2.postMessage(z)}):h&&"onreadystatechange"in h.createElement("script")?(m=h.documentElement,function(z){var E=h.createElement("script");E.onreadystatechange=function(){_(z),E.onreadystatechange=null,m.removeChild(E),E=null},m.appendChild(E)}):function(z){setTimeout(_,0,z)},g.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var E=new Array(arguments.length-1),L=0;L<E.length;L++)E[L]=arguments[L+1];var D={callback:z,args:E};return l[x]=D,u(x),x++},g.clearImmediate=p}function p(z){delete l[z]}function _(z){if(b)setTimeout(_,0,z);else{var E=l[z];if(E){b=!0;try{(function(L){var D=L.callback,W=L.args;switch(W.length){case 0:D();break;case 1:D(W[0]);break;case 2:D(W[0],W[1]);break;case 3:D(W[0],W[1],W[2]);break;default:D.apply(a,W)}})(E)}finally{p(z),b=!1}}}}function C(z){z.source===c&&typeof z.data=="string"&&z.data.indexOf(f)===0&&_(+z.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Jt)),Jt.exports}var Or=Dr();const Rr=de(Or);async function Ur(d){return new Promise((e,t)=>{chrome.runtime.sendMessage({action:"fetchThumbnail",url:d},n=>{if(n&&n.data){const i=new Uint8Array(n.data),s=new Blob([i]);e(s)}else t(new Error("商品データの取得に失敗しました"))})})}async function Lr(d,e){return new Promise((t,n)=>{const i=[];let s=0,c="application/zip";const a=u=>{if(u.action==="receiveChunk"){console.log(`chunk received! : ${u.chunkIndex+1}/${u.totalChunks}`);const m=u.dataUrl.split(",")[1],w=atob(m),f=new Array(w.length);for(let l=0;l<w.length;l++)f[l]=w.charCodeAt(l);const x=new Uint8Array(f);if(i[u.chunkIndex]=x,i.filter(Boolean).length===s){const l=Pr(i);console.log("saving as type : ",c);const b=new Blob([l],{type:c});chrome.runtime.onMessage.removeListener(a),t(b)}}};chrome.runtime.onMessage.addListener(a),chrome.runtime.sendMessage({action:"fetchItem",url:d,progressBarId:e},u=>{if(chrome.runtime.lastError){chrome.runtime.onMessage.removeListener(a),n(new Error("message sending error: "+chrome.runtime.lastError.message));return}if(u.error){chrome.runtime.onMessage.removeListener(a),n(new Error(u.error));return}u.status==="start"&&(console.log(`starting download : total:${u.totalChunks}chunks, ${u.totalSize} Byte`),s=u.totalChunks,c=u.type||c,console.log("filetype : ",c))})})}async function Nr(d){try{const e=document.createElement("canvas"),t=e.getContext("2d"),n=256;e.width=n,e.height=n,await new Promise((a,u)=>{const m=new Image;m.onload=()=>{t.drawImage(m,0,0,n,n),URL.revokeObjectURL(m.src),a()},m.onerror=w=>u(new Error(`failed to load thumbnail : ${w}`)),m.src=URL.createObjectURL(d)});const i=await new Promise((a,u)=>{e.toBlob(m=>{m?a(m):u(new Error("failed to generate PNG blob"))},"image/png")});return await new Tr().convertToBlobAsync([{png:i}])}catch(e){throw console.error("failed to converting .ico : ",e),e}}async function jr(d){const e=new Rr;for(const[t,n]of d)e.file(t,n);return e.generateAsync({type:"blob"})}function Pr(d){const e=d.reduce((i,s)=>i+s.length,0),t=new Uint8Array(e);let n=0;for(const i of d)t.set(i,n),n+=i.length;return t}class Mr{constructor({customFileName:e,downloadUrl:t,thumbnailUrl:n,assetName:i,customUiElement:s}){this.customFileName=e,this.downloadUrl=t,this.thumbnailUrl=n,this.assetName=i,this.customUiElement=s,this.progressBarWrapper=this.customUiElement.querySelector(".bwi-progress-wrapper"),this.progressBar=this.progressBarWrapper?this.progressBarWrapper.querySelector(".bwi-progress-bar"):null,this.customDownloadButton=this.customUiElement.querySelector(".bwi-download-button"),this.mainTextSpan=this.customDownloadButton?this.customDownloadButton.querySelector(".bwi-main-text"):null,this.progressBarId=crypto.randomUUID(),this._listener=this._createProgressListener(),chrome.runtime.onMessage.addListener(this._listener),this.InitialMainText=this.mainTextSpan.textContent,this.progressBarWrapper||console.error("DownloadTask: .bwi-progress-wrapper not found in customUiElement"),this.progressBar||console.error("DownloadTask: .bwi-progress-bar not found in progressBarWrapper"),this.customDownloadButton||console.error("DownloadTask: .bwi-download-button not found in customUiElement"),this.mainTextSpan||console.error("DownloadTask: .bwi-main-text not found in customDownloadButton")}_createProgressListener(){return e=>{if(e.action==="receiveChunk"&&e.progressBarId===this.progressBarId){const t=Math.round(100*((e.chunkIndex+1)/e.totalChunks));this.progressBar&&(this.progressBar.style.width=`${t}%`,this.progressBar.textContent=`${t}%`,this.progressBar.setAttribute("aria-valuenow",t.toString()))}}}async start(){this.progressBarWrapper&&(this.progressBarWrapper.style.visibility="visible"),this.progressBar&&(this.progressBar.style.width="0%",this.progressBar.textContent="準備中...",this.progressBar.setAttribute("aria-valuenow","0")),this.mainTextSpan&&(this.mainTextSpan.textContent="Loading..."),this.customDownloadButton&&(this.customDownloadButton.disabled=!0);try{await this._downloadWithZip()}catch(e){console.error("DownloadTask Error in start:",e),this.progressBar&&(this.progressBar.textContent="エラー発生",this.progressBar.style.backgroundColor="red"),this.mainTextSpan&&(this.mainTextSpan.textContent="エラー")}finally{chrome.runtime.onMessage.removeListener(this._listener),this._resetProgressBar()}}async _downloadWithZip(){console.log("fetching ItemBlob");const e=await Lr(this.downloadUrl,this.progressBarId),t=await Br(e),n=t?t.ext:"bin";console.log("fetching Thumbnail");const i=await Ur(this.thumbnailUrl);if(!i)throw new Error("Failed to fetch thumbnail.");const s=await Nr(i);if(!s)throw new Error("Failed to convert thumbnail to icon.");const c=new Map;c.set("boothThumbnail.ico",s),c.set(`${this.assetName}.${n}`,e);const a=await this._loadStaticFileAsText("desktop.ini");a!==null?c.set("desktop.ini",a):(console.warn("Warning: static/desktop.ini could not be loaded. Check the file path and server configuration."),c.set("desktop.ini",`[.ShellClassInfo]
IconResource=boothThumbnail.ico,0
[ViewState]
Mode=
Vid=
FolderType=Generic`));const u=await this._loadStaticFileAsText("setIcon.bat");u!==null?c.set("setIcon.bat",u):(console.warn("Warning: static/setIcon.bat could not be loaded. Check the file path and server configuration."),c.set("setIcon.bat",`@echo off
setlocal
set "folder=%~dp0"
set "folder=%folder:~0,-1%"
echo target folder: %folder%
attrib +s +r "%folder%"
attrib +h +s "%folder%\\desktop.ini"`));const m=await jr(c);if(!m)throw new Error("Failed to create zip archive.");chrome.runtime.sendMessage({action:"downloadZip",blobUrl:URL.createObjectURL(m),filename:this.customFileName+".zip"})}async _loadStaticFileAsText(e){try{const t=chrome.runtime.getURL(`static/${e}`),n=await fetch(t);return n.ok?await n.text():(console.error(`Error fetching ${e}: ${n.status} ${n.statusText}`),null)}catch(t){return console.error(`Failed to load file ${e}:`,t),null}}_resetProgressBar(){this.progressBar&&(this.progressBar.style.width="0%",this.progressBar.textContent="",this.progressBar.setAttribute("aria-valuenow","0"),this.progressBar.style.backgroundColor=""),this.progressBarWrapper&&(this.progressBarWrapper.style.visibility="hidden"),this.mainTextSpan&&(this.mainTextSpan.textContent=this.InitialMainText),this.customDownloadButton&&(this.customDownloadButton.disabled=!1)}}function Wr(d,e,t,n){var s,c,a;const i=[];return(s=d.namingRules)!=null&&s.includes("ショップ名")&&i.push(e),(c=d.namingRules)!=null&&c.includes("商品名")&&i.push(t),(a=d.namingRules)!=null&&a.includes("ファイル名")&&i.push(n),Hr(i.join("_"))}function Zr(d){var t,n,i;const e=[];return(t=d.namingRules)!=null&&t.includes("ショップ名")&&e.push("ショップ名"),(n=d.namingRules)!=null&&n.includes("商品名")&&e.push("商品名"),(i=d.namingRules)!=null&&i.includes("ファイル名")&&e.push("ファイル名"),e.join("_")}function Hr(d){return d.replace(/[\\/:*?"<>|]/g,"_").replace(/\.[^\.]+$/,"")}async function qr(d){try{const e=chrome.runtime.getURL(d),t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch template '${d}': ${t.statusText}`);const n=await t.text(),c=new DOMParser().parseFromString(n,"text/html").querySelector(".bwi-custom-wrapper");if(!c)throw new Error(`Root element '.bwi-custom-wrapper' not found in template '${d}'`);return c.cloneNode(!0)}catch(e){return console.error("Error loading UI template:",e),null}}async function Gr(){const d=document.createElement("link");d.rel="stylesheet",d.href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css",document.head.appendChild(d);const e=document.querySelectorAll(".mb-16");for(productItemElement of e){let t="unknownShopName",n="unknownItemName";const i=productItemElement.querySelector(".l-library-item-thumbnail").src;t=productItemElement.querySelector(".text-text-gray600").textContent.trim().replace(/\s+/g," "),n=productItemElement.querySelector(".text-text-default").textContent.trim().replace(/\s+/g," ");const a=await new Promise(m=>{chrome.storage.local.get(["namingRules"],m)}),u=productItemElement.querySelector(".mt-16").children;for(assetContainerElement of u){const m=assetContainerElement.querySelector(".typography-14").textContent.trim(),w=assetContainerElement.querySelector("a").href,f=Wr(a,t,n,m),x=await qr("src/ui_template.html");if(!x){console.error("Failed to load UI template for asset, skipping:",m);continue}const l=x.querySelector(".bwi-download-button");l.querySelector(".bwi-main-text");const b=l.querySelector(".bwi-format-label"),h=`${Zr(a)}.zip`;b.textContent=h,l.setAttribute("title",h);const g=new Mr({customFileName:f,downloadUrl:w,thumbnailUrl:i,assetName:m,customUiElement:x});l.addEventListener("click",async()=>{await g.start()});const p=assetContainerElement.querySelector(".mt-8");p?p.appendChild(x):assetContainerElement.appendChild(x)}}}Gr();
//# sourceMappingURL=content.js.map
