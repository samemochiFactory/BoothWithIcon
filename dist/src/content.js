var kt=Object.defineProperty;var Ct=(d,t,e)=>t in d?kt(d,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[t]=e;var Ze=(d,t,e)=>Ct(d,typeof t!="symbol"?t+"":t,e);const St="image/x-icon";class zt{async convertToBlobAsync(t,e=St){const n=await this.convertAsync(t);return new Blob([n],{type:e})}async convertAsync(t){const e=t.length;if(e>65536)throw new Error("TOO_MANY_FILES");const n=6+16*e,i=n+this.sumInputLen(t),o=new Uint8Array(i);o.set([0,0,1,0,...this.to2Bytes(e)],0);let f=n;for(let s=0;s<t.length;s++){const u=6+16*s,p=t[s],g=this.toBlob(p.png),l=await this.loadImageAsync(g),x=l.naturalWidth,c=l.naturalHeight;if(!p.ignoreSize&&(x>256||c>256))throw new Error("INVALID_SIZE");o.set([x>256?0:x,c>256?0:c,0,0,0,0,...p.bpp?this.to2Bytes(p.bpp):[0,0],...this.to4Bytes(g.size),...this.to4Bytes(f)],u);const w=p.png instanceof ArrayBuffer?p.png:await p.png.arrayBuffer();o.set(new Uint8Array(w),f),f+=g.size}return o}loadImageAsync(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=()=>n("INVALID_IMAGE"),i.src=URL.createObjectURL(t)})}toBlob(t,e="image/png"){return t instanceof Blob?t:new Blob([t],{type:e})}to2Bytes(t){return[t&255,t>>8&255]}to4Bytes(t){return[t&255,t>>8&255,t>>16&255,t>>24&255]}sumInputLen(t){let e=0;for(const n of t){const i=n.png;i instanceof Blob?e+=i.size:e+=i.byteLength}return e}}var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function Ne(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var He={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var rt;function Et(){return rt||(rt=1,function(d,t){(function(e){d.exports=e()})(function(){return function e(n,i,o){function f(p,g){if(!i[p]){if(!n[p]){var l=typeof Ne=="function"&&Ne;if(!g&&l)return l(p,!0);if(s)return s(p,!0);var x=new Error("Cannot find module '"+p+"'");throw x.code="MODULE_NOT_FOUND",x}var c=i[p]={exports:{}};n[p][0].call(c.exports,function(w){var h=n[p][1][w];return f(h||w)},c,c.exports,e,n,i,o)}return i[p].exports}for(var s=typeof Ne=="function"&&Ne,u=0;u<o.length;u++)f(o[u]);return f}({1:[function(e,n,i){var o=e("./utils"),f=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var p,g,l,x,c,w,h,v=[],m=0,_=u.length,C=_,E=o.getTypeOf(u)!=="string";m<u.length;)C=_-m,l=E?(p=u[m++],g=m<_?u[m++]:0,m<_?u[m++]:0):(p=u.charCodeAt(m++),g=m<_?u.charCodeAt(m++):0,m<_?u.charCodeAt(m++):0),x=p>>2,c=(3&p)<<4|g>>4,w=1<C?(15&g)<<2|l>>6:64,h=2<C?63&l:64,v.push(s.charAt(x)+s.charAt(c)+s.charAt(w)+s.charAt(h));return v.join("")},i.decode=function(u){var p,g,l,x,c,w,h=0,v=0,m="data:";if(u.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var _,C=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===s.charAt(64)&&C--,u.charAt(u.length-2)===s.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=f.uint8array?new Uint8Array(0|C):new Array(0|C);h<u.length;)p=s.indexOf(u.charAt(h++))<<2|(x=s.indexOf(u.charAt(h++)))>>4,g=(15&x)<<4|(c=s.indexOf(u.charAt(h++)))>>2,l=(3&c)<<6|(w=s.indexOf(u.charAt(h++))),_[v++]=p,c!==64&&(_[v++]=g),w!==64&&(_[v++]=l);return _}},{"./support":30,"./utils":32}],2:[function(e,n,i){var o=e("./external"),f=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),u=e("./stream/DataLengthProbe");function p(g,l,x,c,w){this.compressedSize=g,this.uncompressedSize=l,this.crc32=x,this.compression=c,this.compressedContent=w}p.prototype={getContentWorker:function(){var g=new f(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),l=this;return g.on("end",function(){if(this.streamInfo.data_length!==l.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new f(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(g,l,x){return g.pipe(new s).pipe(new u("uncompressedSize")).pipe(l.compressWorker(x)).pipe(new u("compressedSize")).withStreamInfo("compression",l)},n.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,n,i){var o=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,n,i){var o=e("./utils"),f=function(){for(var s,u=[],p=0;p<256;p++){s=p;for(var g=0;g<8;g++)s=1&s?3988292384^s>>>1:s>>>1;u[p]=s}return u}();n.exports=function(s,u){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(p,g,l,x){var c=f,w=x+l;p^=-1;for(var h=x;h<w;h++)p=p>>>8^c[255&(p^g[h])];return-1^p}(0|u,s,s.length,0):function(p,g,l,x){var c=f,w=x+l;p^=-1;for(var h=x;h<w;h++)p=p>>>8^c[255&(p^g.charCodeAt(h))];return-1^p}(0|u,s,s.length,0):0}},{"./utils":32}],5:[function(e,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,n,i){var o=null;o=typeof Promise<"u"?Promise:e("lie"),n.exports={Promise:o}},{lie:37}],7:[function(e,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=e("pako"),s=e("./utils"),u=e("./stream/GenericWorker"),p=o?"uint8array":"array";function g(l,x){u.call(this,"FlateWorker/"+l),this._pako=null,this._pakoAction=l,this._pakoOptions=x,this.meta={}}i.magic="\b\0",s.inherits(g,u),g.prototype.processChunk=function(l){this.meta=l.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(p,l.data),!1)},g.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var l=this;this._pako.onData=function(x){l.push({data:x,meta:l.meta})}},i.compressWorker=function(l){return new g("Deflate",l)},i.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,n,i){function o(c,w){var h,v="";for(h=0;h<w;h++)v+=String.fromCharCode(255&c),c>>>=8;return v}function f(c,w,h,v,m,_){var C,E,z=c.file,L=c.compression,O=_!==p.utf8encode,W=s.transformTo("string",_(z.name)),T=s.transformTo("string",p.utf8encode(z.name)),Z=z.comment,K=s.transformTo("string",_(Z)),k=s.transformTo("string",p.utf8encode(Z)),D=T.length!==z.name.length,a=k.length!==Z.length,U="",J="",P="",ee=z.dir,M=z.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};w&&!h||(Q.crc32=c.crc32,Q.compressedSize=c.compressedSize,Q.uncompressedSize=c.uncompressedSize);var B=0;w&&(B|=8),O||!D&&!a||(B|=2048);var F=0,Y=0;ee&&(F|=16),m==="UNIX"?(Y=798,F|=function(q,ae){var le=q;return q||(le=ae?16893:33204),(65535&le)<<16}(z.unixPermissions,ee)):(Y=20,F|=function(q){return 63&(q||0)}(z.dosPermissions)),C=M.getUTCHours(),C<<=6,C|=M.getUTCMinutes(),C<<=5,C|=M.getUTCSeconds()/2,E=M.getUTCFullYear()-1980,E<<=4,E|=M.getUTCMonth()+1,E<<=5,E|=M.getUTCDate(),D&&(J=o(1,1)+o(g(W),4)+T,U+="up"+o(J.length,2)+J),a&&(P=o(1,1)+o(g(K),4)+k,U+="uc"+o(P.length,2)+P);var V="";return V+=`
\0`,V+=o(B,2),V+=L.magic,V+=o(C,2),V+=o(E,2),V+=o(Q.crc32,4),V+=o(Q.compressedSize,4),V+=o(Q.uncompressedSize,4),V+=o(W.length,2),V+=o(U.length,2),{fileRecord:l.LOCAL_FILE_HEADER+V+W+U,dirRecord:l.CENTRAL_FILE_HEADER+o(Y,2)+V+o(K.length,2)+"\0\0\0\0"+o(F,4)+o(v,4)+W+U+K}}var s=e("../utils"),u=e("../stream/GenericWorker"),p=e("../utf8"),g=e("../crc32"),l=e("../signature");function x(c,w,h,v){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=h,this.encodeFileName=v,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(x,u),x.prototype.push=function(c){var w=c.meta.percent||0,h=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,u.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:h?(w+100*(h-v-1))/h:100}}))},x.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var w=this.streamFiles&&!c.file.dir;if(w){var h=f(c,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(c){this.accumulate=!1;var w=this.streamFiles&&!c.file.dir,h=f(c,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),w)this.push({data:function(v){return l.DATA_DESCRIPTOR+o(v.crc32,4)+o(v.compressedSize,4)+o(v.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var c=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var h=this.bytesWritten-c,v=function(m,_,C,E,z){var L=s.transformTo("string",z(E));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(m,2)+o(m,2)+o(_,4)+o(C,4)+o(L.length,2)+L}(this.dirRecords.length,h,c,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(c){this._sources.push(c);var w=this;return c.on("data",function(h){w.processChunk(h)}),c.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),c.on("error",function(h){w.error(h)}),this},x.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(c){var w=this._sources;if(!u.prototype.error.call(this,c))return!1;for(var h=0;h<w.length;h++)try{w[h].error(c)}catch{}return!0},x.prototype.lock=function(){u.prototype.lock.call(this);for(var c=this._sources,w=0;w<c.length;w++)c[w].lock()},n.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,n,i){var o=e("../compressions"),f=e("./ZipFileWorker");i.generateWorker=function(s,u,p){var g=new f(u.streamFiles,p,u.platform,u.encodeFileName),l=0;try{s.forEach(function(x,c){l++;var w=function(_,C){var E=_||C,z=o[E];if(!z)throw new Error(E+" is not a valid compression method !");return z}(c.options.compression,u.compression),h=c.options.compressionOptions||u.compressionOptions||{},v=c.dir,m=c.date;c._compressWorker(w,h).withStreamInfo("file",{name:x,dir:v,date:m,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(g)}),g.entriesCount=l}catch(x){g.error(x)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,n,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new o;for(var s in this)typeof this[s]!="function"&&(f[s]=this[s]);return f}}(o.prototype=e("./object")).loadAsync=e("./load"),o.support=e("./support"),o.defaults=e("./defaults"),o.version="3.10.1",o.loadAsync=function(f,s){return new o().loadAsync(f,s)},o.external=e("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,n,i){var o=e("./utils"),f=e("./external"),s=e("./utf8"),u=e("./zipEntries"),p=e("./stream/Crc32Probe"),g=e("./nodejsUtils");function l(x){return new f.Promise(function(c,w){var h=x.decompressed.getContentWorker().pipe(new p);h.on("error",function(v){w(v)}).on("end",function(){h.streamInfo.crc32!==x.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}n.exports=function(x,c){var w=this;return c=o.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),g.isNode&&g.isStream(x)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",x,!0,c.optimizedBinaryString,c.base64).then(function(h){var v=new u(c);return v.load(h),v}).then(function(h){var v=[f.Promise.resolve(h)],m=h.files;if(c.checkCRC32)for(var _=0;_<m.length;_++)v.push(l(m[_]));return f.Promise.all(v)}).then(function(h){for(var v=h.shift(),m=v.files,_=0;_<m.length;_++){var C=m[_],E=C.fileNameStr,z=o.resolve(C.fileNameStr);w.file(z,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:c.createFolders}),C.dir||(w.file(z).unsafeOriginalName=E)}return v.zipComment.length&&(w.comment=v.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,n,i){var o=e("../utils"),f=e("../stream/GenericWorker");function s(u,p){f.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(s,f),s.prototype._bindStream=function(u){var p=this;(this._stream=u).pause(),u.on("data",function(g){p.push({data:g,meta:{percent:0}})}).on("error",function(g){p.isPaused?this.generatedError=g:p.error(g)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},s.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,n,i){var o=e("readable-stream").Readable;function f(s,u,p){o.call(this,u),this._helper=s;var g=this;s.on("data",function(l,x){g.push(l)||g._helper.pause(),p&&p(x)}).on("error",function(l){g.emit("error",l)}).on("end",function(){g.push(null)})}e("../utils").inherits(f,o),f.prototype._read=function(){this._helper.resume()},n.exports=f},{"../utils":32,"readable-stream":16}],14:[function(e,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,f);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,f)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var f=new Buffer(o);return f.fill(0),f},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(e,n,i){function o(z,L,O){var W,T=s.getTypeOf(L),Z=s.extend(O||{},g);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(z=m(z)),Z.createFolders&&(W=v(z))&&_.call(this,W,!0);var K=T==="string"&&Z.binary===!1&&Z.base64===!1;O&&O.binary!==void 0||(Z.binary=!K),(L instanceof l&&L.uncompressedSize===0||Z.dir||!L||L.length===0)&&(Z.base64=!1,Z.binary=!0,L="",Z.compression="STORE",T="string");var k=null;k=L instanceof l||L instanceof u?L:w.isNode&&w.isStream(L)?new h(z,L):s.prepareContent(z,L,Z.binary,Z.optimizedBinaryString,Z.base64);var D=new x(z,k,Z);this.files[z]=D}var f=e("./utf8"),s=e("./utils"),u=e("./stream/GenericWorker"),p=e("./stream/StreamHelper"),g=e("./defaults"),l=e("./compressedObject"),x=e("./zipObject"),c=e("./generate"),w=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),v=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var L=z.lastIndexOf("/");return 0<L?z.substring(0,L):""},m=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},_=function(z,L){return L=L!==void 0?L:g.createFolders,z=m(z),this.files[z]||o.call(this,z,null,{dir:!0,createFolders:L}),this.files[z]};function C(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var L,O,W;for(L in this.files)W=this.files[L],(O=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&z(O,W)},filter:function(z){var L=[];return this.forEach(function(O,W){z(O,W)&&L.push(W)}),L},file:function(z,L,O){if(arguments.length!==1)return z=this.root+z,o.call(this,z,L,O),this;if(C(z)){var W=z;return this.filter(function(Z,K){return!K.dir&&W.test(Z)})}var T=this.files[this.root+z];return T&&!T.dir?T:null},folder:function(z){if(!z)return this;if(C(z))return this.filter(function(T,Z){return Z.dir&&z.test(T)});var L=this.root+z,O=_.call(this,L),W=this.clone();return W.root=O.name,W},remove:function(z){z=this.root+z;var L=this.files[z];if(L||(z.slice(-1)!=="/"&&(z+="/"),L=this.files[z]),L&&!L.dir)delete this.files[z];else for(var O=this.filter(function(T,Z){return Z.name.slice(0,z.length)===z}),W=0;W<O.length;W++)delete this.files[O[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var L,O={};try{if((O=s.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");s.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var W=O.comment||this.comment||"";L=c.generateWorker(this,O,W)}catch(T){(L=new u("error")).error(T)}return new p(L,O.type||"string",O.mimeType)},generateAsync:function(z,L){return this.generateInternalStream(z).accumulate(L)},generateNodeStream:function(z,L){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(L)}};n.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,n,i){n.exports=e("stream")},{stream:void 0}],17:[function(e,n,i){var o=e("./DataReader");function f(s){o.call(this,s);for(var u=0;u<this.data.length;u++)s[u]=255&s[u]}e("../utils").inherits(f,o),f.prototype.byteAt=function(s){return this.data[this.zero+s]},f.prototype.lastIndexOfSignature=function(s){for(var u=s.charCodeAt(0),p=s.charCodeAt(1),g=s.charCodeAt(2),l=s.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===u&&this.data[x+1]===p&&this.data[x+2]===g&&this.data[x+3]===l)return x-this.zero;return-1},f.prototype.readAndCheckSignature=function(s){var u=s.charCodeAt(0),p=s.charCodeAt(1),g=s.charCodeAt(2),l=s.charCodeAt(3),x=this.readData(4);return u===x[0]&&p===x[1]&&g===x[2]&&l===x[3]},f.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=f},{"../utils":32,"./DataReader":18}],18:[function(e,n,i){var o=e("../utils");function f(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var u,p=0;for(this.checkOffset(s),u=this.index+s-1;u>=this.index;u--)p=(p<<8)+this.byteAt(u);return this.index+=s,p},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=f},{"../utils":32}],19:[function(e,n,i){var o=e("./Uint8ArrayReader");function f(s){o.call(this,s)}e("../utils").inherits(f,o),f.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,n,i){var o=e("./DataReader");function f(s){o.call(this,s)}e("../utils").inherits(f,o),f.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},f.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},f.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},f.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=f},{"../utils":32,"./DataReader":18}],21:[function(e,n,i){var o=e("./ArrayReader");function f(s){o.call(this,s)}e("../utils").inherits(f,o),f.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(e,n,i){var o=e("../utils"),f=e("../support"),s=e("./ArrayReader"),u=e("./StringReader"),p=e("./NodeBufferReader"),g=e("./Uint8ArrayReader");n.exports=function(l){var x=o.getTypeOf(l);return o.checkSupport(x),x!=="string"||f.uint8array?x==="nodebuffer"?new p(l):f.uint8array?new g(o.transformTo("uint8array",l)):new s(o.transformTo("array",l)):new u(l)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,n,i){var o=e("./GenericWorker"),f=e("../utils");function s(u){o.call(this,"ConvertWorker to "+u),this.destType=u}f.inherits(s,o),s.prototype.processChunk=function(u){this.push({data:f.transformTo(this.destType,u.data),meta:u.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,n,i){var o=e("./GenericWorker"),f=e("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,o),s.prototype.processChunk=function(u){this.streamInfo.crc32=f(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,n,i){var o=e("../utils"),f=e("./GenericWorker");function s(u){f.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}o.inherits(s,f),s.prototype.processChunk=function(u){if(u){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+u.data.length}f.prototype.processChunk.call(this,u)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,n,i){var o=e("../utils"),f=e("./GenericWorker");function s(u){f.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=o.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}o.inherits(s,f),s.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,p);break;case"uint8array":u=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":u=this.data.slice(this.index,p)}return this.index=p,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,n,i){function o(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,s){return this._listeners[f].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,s){if(this._listeners[f])for(var u=0;u<this._listeners[f].length;u++)this._listeners[f][u].call(this,s)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var s=this;return f.on("data",function(u){s.processChunk(u)}),f.on("end",function(){s.end()}),f.on("error",function(u){s.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,s){return this.extraStreamInfo[f]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},n.exports=o},{}],29:[function(e,n,i){var o=e("../utils"),f=e("./ConvertWorker"),s=e("./GenericWorker"),u=e("../base64"),p=e("../support"),g=e("../external"),l=null;if(p.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(w,h){return new g.Promise(function(v,m){var _=[],C=w._internalType,E=w._outputType,z=w._mimeType;w.on("data",function(L,O){_.push(L),h&&h(O)}).on("error",function(L){_=[],m(L)}).on("end",function(){try{var L=function(O,W,T){switch(O){case"blob":return o.newBlob(o.transformTo("arraybuffer",W),T);case"base64":return u.encode(W);default:return o.transformTo(O,W)}}(E,function(O,W){var T,Z=0,K=null,k=0;for(T=0;T<W.length;T++)k+=W[T].length;switch(O){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(K=new Uint8Array(k),T=0;T<W.length;T++)K.set(W[T],Z),Z+=W[T].length;return K;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+O+"'")}}(C,_),z);v(L)}catch(O){m(O)}_=[]}).resume()})}function c(w,h,v){var m=h;switch(h){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=h,this._mimeType=v,o.checkSupport(m),this._worker=w.pipe(new f(m)),w.lock()}catch(_){this._worker=new s("error"),this._worker.error(_)}}c.prototype={accumulate:function(w){return x(this,w)},on:function(w,h){var v=this;return w==="data"?this._worker.on(w,function(m){h.call(v,m.data,m.meta)}):this._worker.on(w,function(){o.delay(h,arguments,v)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(o),i.blob=f.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(e,n,i){for(var o=e("./utils"),f=e("./support"),s=e("./nodejsUtils"),u=e("./stream/GenericWorker"),p=new Array(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;function l(){u.call(this,"utf-8 decode"),this.leftOver=null}function x(){u.call(this,"utf-8 encode")}i.utf8encode=function(c){return f.nodebuffer?s.newBufferFrom(c,"utf-8"):function(w){var h,v,m,_,C,E=w.length,z=0;for(_=0;_<E;_++)(64512&(v=w.charCodeAt(_)))==55296&&_+1<E&&(64512&(m=w.charCodeAt(_+1)))==56320&&(v=65536+(v-55296<<10)+(m-56320),_++),z+=v<128?1:v<2048?2:v<65536?3:4;for(h=f.uint8array?new Uint8Array(z):new Array(z),_=C=0;C<z;_++)(64512&(v=w.charCodeAt(_)))==55296&&_+1<E&&(64512&(m=w.charCodeAt(_+1)))==56320&&(v=65536+(v-55296<<10)+(m-56320),_++),v<128?h[C++]=v:(v<2048?h[C++]=192|v>>>6:(v<65536?h[C++]=224|v>>>12:(h[C++]=240|v>>>18,h[C++]=128|v>>>12&63),h[C++]=128|v>>>6&63),h[C++]=128|63&v);return h}(c)},i.utf8decode=function(c){return f.nodebuffer?o.transformTo("nodebuffer",c).toString("utf-8"):function(w){var h,v,m,_,C=w.length,E=new Array(2*C);for(h=v=0;h<C;)if((m=w[h++])<128)E[v++]=m;else if(4<(_=p[m]))E[v++]=65533,h+=_-1;else{for(m&=_===2?31:_===3?15:7;1<_&&h<C;)m=m<<6|63&w[h++],_--;1<_?E[v++]=65533:m<65536?E[v++]=m:(m-=65536,E[v++]=55296|m>>10&1023,E[v++]=56320|1023&m)}return E.length!==v&&(E.subarray?E=E.subarray(0,v):E.length=v),o.applyFromCharCode(E)}(c=o.transformTo(f.uint8array?"uint8array":"array",c))},o.inherits(l,u),l.prototype.processChunk=function(c){var w=o.transformTo(f.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var h=w;(w=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),w.set(h,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var v=function(_,C){var E;for((C=C||_.length)>_.length&&(C=_.length),E=C-1;0<=E&&(192&_[E])==128;)E--;return E<0||E===0?C:E+p[_[E]]>C?E:C}(w),m=w;v!==w.length&&(f.uint8array?(m=w.subarray(0,v),this.leftOver=w.subarray(v,w.length)):(m=w.slice(0,v),this.leftOver=w.slice(v,w.length))),this.push({data:i.utf8decode(m),meta:c.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=l,o.inherits(x,u),x.prototype.processChunk=function(c){this.push({data:i.utf8encode(c.data),meta:c.meta})},i.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,n,i){var o=e("./support"),f=e("./base64"),s=e("./nodejsUtils"),u=e("./external");function p(h){return h}function g(h,v){for(var m=0;m<h.length;++m)v[m]=255&h.charCodeAt(m);return v}e("setimmediate"),i.newBlob=function(h,v){i.checkSupport("blob");try{return new Blob([h],{type:v})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(h),m.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(h,v,m){var _=[],C=0,E=h.length;if(E<=m)return String.fromCharCode.apply(null,h);for(;C<E;)v==="array"||v==="nodebuffer"?_.push(String.fromCharCode.apply(null,h.slice(C,Math.min(C+m,E)))):_.push(String.fromCharCode.apply(null,h.subarray(C,Math.min(C+m,E)))),C+=m;return _.join("")},stringifyByChar:function(h){for(var v="",m=0;m<h.length;m++)v+=String.fromCharCode(h[m]);return v},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function x(h){var v=65536,m=i.getTypeOf(h),_=!0;if(m==="uint8array"?_=l.applyCanBeUsed.uint8array:m==="nodebuffer"&&(_=l.applyCanBeUsed.nodebuffer),_)for(;1<v;)try{return l.stringifyByChunk(h,m,v)}catch{v=Math.floor(v/2)}return l.stringifyByChar(h)}function c(h,v){for(var m=0;m<h.length;m++)v[m]=h[m];return v}i.applyFromCharCode=x;var w={};w.string={string:p,array:function(h){return g(h,new Array(h.length))},arraybuffer:function(h){return w.string.uint8array(h).buffer},uint8array:function(h){return g(h,new Uint8Array(h.length))},nodebuffer:function(h){return g(h,s.allocBuffer(h.length))}},w.array={string:x,array:p,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return s.newBufferFrom(h)}},w.arraybuffer={string:function(h){return x(new Uint8Array(h))},array:function(h){return c(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:p,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return s.newBufferFrom(new Uint8Array(h))}},w.uint8array={string:x,array:function(h){return c(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:p,nodebuffer:function(h){return s.newBufferFrom(h)}},w.nodebuffer={string:x,array:function(h){return c(h,new Array(h.length))},arraybuffer:function(h){return w.nodebuffer.uint8array(h).buffer},uint8array:function(h){return c(h,new Uint8Array(h.length))},nodebuffer:p},i.transformTo=function(h,v){if(v=v||"",!h)return v;i.checkSupport(h);var m=i.getTypeOf(v);return w[m][h](v)},i.resolve=function(h){for(var v=h.split("/"),m=[],_=0;_<v.length;_++){var C=v[_];C==="."||C===""&&_!==0&&_!==v.length-1||(C===".."?m.pop():m.push(C))}return m.join("/")},i.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(h)?"nodebuffer":o.uint8array&&h instanceof Uint8Array?"uint8array":o.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(h){if(!o[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(h){var v,m,_="";for(m=0;m<(h||"").length;m++)_+="\\x"+((v=h.charCodeAt(m))<16?"0":"")+v.toString(16).toUpperCase();return _},i.delay=function(h,v,m){setImmediate(function(){h.apply(m||null,v||[])})},i.inherits=function(h,v){function m(){}m.prototype=v.prototype,h.prototype=new m},i.extend=function(){var h,v,m={};for(h=0;h<arguments.length;h++)for(v in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],v)&&m[v]===void 0&&(m[v]=arguments[h][v]);return m},i.prepareContent=function(h,v,m,_,C){return u.Promise.resolve(v).then(function(E){return o.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new u.Promise(function(z,L){var O=new FileReader;O.onload=function(W){z(W.target.result)},O.onerror=function(W){L(W.target.error)},O.readAsArrayBuffer(E)}):E}).then(function(E){var z=i.getTypeOf(E);return z?(z==="arraybuffer"?E=i.transformTo("uint8array",E):z==="string"&&(C?E=f.decode(E):m&&_!==!0&&(E=function(L){return g(L,o.uint8array?new Uint8Array(L.length):new Array(L.length))}(E))),E):u.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,n,i){var o=e("./reader/readerFor"),f=e("./utils"),s=e("./signature"),u=e("./zipEntry"),p=e("./support");function g(l){this.files=[],this.loadOptions=l}g.prototype={checkSignature:function(l){if(!this.reader.readAndCheckSignature(l)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(x)+", expected "+f.pretty(l)+")")}},isSignature:function(l,x){var c=this.reader.index;this.reader.setIndex(l);var w=this.reader.readString(4)===x;return this.reader.setIndex(c),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var l=this.reader.readData(this.zipCommentLength),x=p.uint8array?"uint8array":"array",c=f.transformTo(x,l);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var l,x,c,w=this.zip64EndOfCentralSize-44;0<w;)l=this.reader.readInt(2),x=this.reader.readInt(4),c=this.reader.readData(x),this.zip64ExtensibleData[l]={id:l,length:x,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var l,x;for(l=0;l<this.files.length;l++)x=this.files[l],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var l;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(l=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(l);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var l=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(l<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(l);var x=l;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(l=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(l),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var w=x-c;if(0<w)this.isSignature(x,s.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(l){this.reader=o(l)},load:function(l){this.prepareReader(l),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,n,i){var o=e("./reader/readerFor"),f=e("./utils"),s=e("./compressedObject"),u=e("./crc32"),p=e("./utf8"),g=e("./compressions"),l=e("./support");function x(c,w){this.options=c,this.loadOptions=w}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var w,h;if(c.skip(22),this.fileNameLength=c.readInt(2),h=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(v){for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)&&g[m].magic===v)return g[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,w,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var w=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(w),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=o(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var w,h,v,m=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<m;)w=c.readInt(2),h=c.readInt(2),v=c.readData(h),this.extraFields[w]={id:w,length:h,value:v};c.setIndex(m)},handleUTF8:function(){var c=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var h=f.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var m=f.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var w=o(c.value);return w.readInt(1)!==1||u(this.fileName)!==w.readInt(4)?null:p.utf8decode(w.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var w=o(c.value);return w.readInt(1)!==1||u(this.fileComment)!==w.readInt(4)?null:p.utf8decode(w.readData(c.length-5))}return null}},n.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,n,i){function o(w,h,v){this.name=w,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=h,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var f=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),u=e("./utf8"),p=e("./compressedObject"),g=e("./stream/GenericWorker");o.prototype={internalStream:function(w){var h=null,v="string";try{if(!w)throw new Error("No output type specified.");var m=(v=w.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),h=this._decompressWorker();var _=!this._dataBinary;_&&!m&&(h=h.pipe(new u.Utf8EncodeWorker)),!_&&m&&(h=h.pipe(new u.Utf8DecodeWorker))}catch(C){(h=new g("error")).error(C)}return new f(h,v,"")},async:function(w,h){return this.internalStream(w).accumulate(h)},nodeStream:function(w,h){return this.internalStream(w||"nodebuffer").toNodejsStream(h)},_compressWorker:function(w,h){if(this._data instanceof p&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new u.Utf8EncodeWorker)),p.createWorkerFrom(v,w,h)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new s(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<l.length;c++)o.prototype[l[c]]=x;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,n,i){(function(o){var f,s,u=o.MutationObserver||o.WebKitMutationObserver;if(u){var p=0,g=new u(w),l=o.document.createTextNode("");g.observe(l,{characterData:!0}),f=function(){l.data=p=++p%2}}else if(o.setImmediate||o.MessageChannel===void 0)f="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var h=o.document.createElement("script");h.onreadystatechange=function(){w(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},o.document.documentElement.appendChild(h)}:function(){setTimeout(w,0)};else{var x=new o.MessageChannel;x.port1.onmessage=w,f=function(){x.port2.postMessage(0)}}var c=[];function w(){var h,v;s=!0;for(var m=c.length;m;){for(v=c,c=[],h=-1;++h<m;)v[h]();m=c.length}s=!1}n.exports=function(h){c.push(h)!==1||s||f()}}).call(this,typeof Le<"u"?Le:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,n,i){var o=e("immediate");function f(){}var s={},u=["REJECTED"],p=["FULFILLED"],g=["PENDING"];function l(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,m!==f&&h(this,m)}function x(m,_,C){this.promise=m,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function c(m,_,C){o(function(){var E;try{E=_(C)}catch(z){return s.reject(m,z)}E===m?s.reject(m,new TypeError("Cannot resolve promise with itself")):s.resolve(m,E)})}function w(m){var _=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof _=="function")return function(){_.apply(m,arguments)}}function h(m,_){var C=!1;function E(O){C||(C=!0,s.reject(m,O))}function z(O){C||(C=!0,s.resolve(m,O))}var L=v(function(){_(z,E)});L.status==="error"&&E(L.value)}function v(m,_){var C={};try{C.value=m(_),C.status="success"}catch(E){C.status="error",C.value=E}return C}(n.exports=l).prototype.finally=function(m){if(typeof m!="function")return this;var _=this.constructor;return this.then(function(C){return _.resolve(m()).then(function(){return C})},function(C){return _.resolve(m()).then(function(){throw C})})},l.prototype.catch=function(m){return this.then(null,m)},l.prototype.then=function(m,_){if(typeof m!="function"&&this.state===p||typeof _!="function"&&this.state===u)return this;var C=new this.constructor(f);return this.state!==g?c(C,this.state===p?m:_,this.outcome):this.queue.push(new x(C,m,_)),C},x.prototype.callFulfilled=function(m){s.resolve(this.promise,m)},x.prototype.otherCallFulfilled=function(m){c(this.promise,this.onFulfilled,m)},x.prototype.callRejected=function(m){s.reject(this.promise,m)},x.prototype.otherCallRejected=function(m){c(this.promise,this.onRejected,m)},s.resolve=function(m,_){var C=v(w,_);if(C.status==="error")return s.reject(m,C.value);var E=C.value;if(E)h(m,E);else{m.state=p,m.outcome=_;for(var z=-1,L=m.queue.length;++z<L;)m.queue[z].callFulfilled(_)}return m},s.reject=function(m,_){m.state=u,m.outcome=_;for(var C=-1,E=m.queue.length;++C<E;)m.queue[C].callRejected(_);return m},l.resolve=function(m){return m instanceof this?m:s.resolve(new this(f),m)},l.reject=function(m){var _=new this(f);return s.reject(_,m)},l.all=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=m.length,E=!1;if(!C)return this.resolve([]);for(var z=new Array(C),L=0,O=-1,W=new this(f);++O<C;)T(m[O],O);return W;function T(Z,K){_.resolve(Z).then(function(k){z[K]=k,++L!==C||E||(E=!0,s.resolve(W,z))},function(k){E||(E=!0,s.reject(W,k))})}},l.race=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=m.length,E=!1;if(!C)return this.resolve([]);for(var z=-1,L=new this(f);++z<C;)O=m[z],_.resolve(O).then(function(W){E||(E=!0,s.resolve(L,W))},function(W){E||(E=!0,s.reject(L,W))});var O;return L}},{immediate:36}],38:[function(e,n,i){var o={};(0,e("./lib/utils/common").assign)(o,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,n,i){var o=e("./zlib/deflate"),f=e("./utils/common"),s=e("./utils/strings"),u=e("./zlib/messages"),p=e("./zlib/zstream"),g=Object.prototype.toString,l=0,x=-1,c=0,w=8;function h(m){if(!(this instanceof h))return new h(m);this.options=f.assign({level:x,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},m||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var C=o.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(C!==l)throw new Error(u[C]);if(_.header&&o.deflateSetHeader(this.strm,_.header),_.dictionary){var E;if(E=typeof _.dictionary=="string"?s.string2buf(_.dictionary):g.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(C=o.deflateSetDictionary(this.strm,E))!==l)throw new Error(u[C]);this._dict_set=!0}}function v(m,_){var C=new h(_);if(C.push(m,!0),C.err)throw C.msg||u[C.err];return C.result}h.prototype.push=function(m,_){var C,E,z=this.strm,L=this.options.chunkSize;if(this.ended)return!1;E=_===~~_?_:_===!0?4:0,typeof m=="string"?z.input=s.string2buf(m):g.call(m)==="[object ArrayBuffer]"?z.input=new Uint8Array(m):z.input=m,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new f.Buf8(L),z.next_out=0,z.avail_out=L),(C=o.deflate(z,E))!==1&&C!==l)return this.onEnd(C),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(f.shrinkBuf(z.output,z.next_out))):this.onData(f.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&C!==1);return E===4?(C=o.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===l):E!==2||(this.onEnd(l),!(z.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=h,i.deflate=v,i.deflateRaw=function(m,_){return(_=_||{}).raw=!0,v(m,_)},i.gzip=function(m,_){return(_=_||{}).gzip=!0,v(m,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,n,i){var o=e("./zlib/inflate"),f=e("./utils/common"),s=e("./utils/strings"),u=e("./zlib/constants"),p=e("./zlib/messages"),g=e("./zlib/zstream"),l=e("./zlib/gzheader"),x=Object.prototype.toString;function c(h){if(!(this instanceof c))return new c(h);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},h||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||h&&h.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var m=o.inflateInit2(this.strm,v.windowBits);if(m!==u.Z_OK)throw new Error(p[m]);this.header=new l,o.inflateGetHeader(this.strm,this.header)}function w(h,v){var m=new c(v);if(m.push(h,!0),m.err)throw m.msg||p[m.err];return m.result}c.prototype.push=function(h,v){var m,_,C,E,z,L,O=this.strm,W=this.options.chunkSize,T=this.options.dictionary,Z=!1;if(this.ended)return!1;_=v===~~v?v:v===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof h=="string"?O.input=s.binstring2buf(h):x.call(h)==="[object ArrayBuffer]"?O.input=new Uint8Array(h):O.input=h,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new f.Buf8(W),O.next_out=0,O.avail_out=W),(m=o.inflate(O,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&T&&(L=typeof T=="string"?s.string2buf(T):x.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,m=o.inflateSetDictionary(this.strm,L)),m===u.Z_BUF_ERROR&&Z===!0&&(m=u.Z_OK,Z=!1),m!==u.Z_STREAM_END&&m!==u.Z_OK)return this.onEnd(m),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&m!==u.Z_STREAM_END&&(O.avail_in!==0||_!==u.Z_FINISH&&_!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=s.utf8border(O.output,O.next_out),E=O.next_out-C,z=s.buf2string(O.output,C),O.next_out=E,O.avail_out=W-E,E&&f.arraySet(O.output,O.output,C,E,0),this.onData(z)):this.onData(f.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(Z=!0)}while((0<O.avail_in||O.avail_out===0)&&m!==u.Z_STREAM_END);return m===u.Z_STREAM_END&&(_=u.Z_FINISH),_===u.Z_FINISH?(m=o.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===u.Z_OK):_!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(O.avail_out=0))},c.prototype.onData=function(h){this.chunks.push(h)},c.prototype.onEnd=function(h){h===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},i.Inflate=c,i.inflate=w,i.inflateRaw=function(h,v){return(v=v||{}).raw=!0,w(h,v)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var l in g)g.hasOwnProperty(l)&&(u[l]=g[l])}}return u},i.shrinkBuf=function(u,p){return u.length===p?u:u.subarray?u.subarray(0,p):(u.length=p,u)};var f={arraySet:function(u,p,g,l,x){if(p.subarray&&u.subarray)u.set(p.subarray(g,g+l),x);else for(var c=0;c<l;c++)u[x+c]=p[g+c]},flattenChunks:function(u){var p,g,l,x,c,w;for(p=l=0,g=u.length;p<g;p++)l+=u[p].length;for(w=new Uint8Array(l),p=x=0,g=u.length;p<g;p++)c=u[p],w.set(c,x),x+=c.length;return w}},s={arraySet:function(u,p,g,l,x){for(var c=0;c<l;c++)u[x+c]=p[g+c]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,f)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(o)},{}],42:[function(e,n,i){var o=e("./common"),f=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var u=new o.Buf8(256),p=0;p<256;p++)u[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function g(l,x){if(x<65537&&(l.subarray&&s||!l.subarray&&f))return String.fromCharCode.apply(null,o.shrinkBuf(l,x));for(var c="",w=0;w<x;w++)c+=String.fromCharCode(l[w]);return c}u[254]=u[254]=1,i.string2buf=function(l){var x,c,w,h,v,m=l.length,_=0;for(h=0;h<m;h++)(64512&(c=l.charCodeAt(h)))==55296&&h+1<m&&(64512&(w=l.charCodeAt(h+1)))==56320&&(c=65536+(c-55296<<10)+(w-56320),h++),_+=c<128?1:c<2048?2:c<65536?3:4;for(x=new o.Buf8(_),h=v=0;v<_;h++)(64512&(c=l.charCodeAt(h)))==55296&&h+1<m&&(64512&(w=l.charCodeAt(h+1)))==56320&&(c=65536+(c-55296<<10)+(w-56320),h++),c<128?x[v++]=c:(c<2048?x[v++]=192|c>>>6:(c<65536?x[v++]=224|c>>>12:(x[v++]=240|c>>>18,x[v++]=128|c>>>12&63),x[v++]=128|c>>>6&63),x[v++]=128|63&c);return x},i.buf2binstring=function(l){return g(l,l.length)},i.binstring2buf=function(l){for(var x=new o.Buf8(l.length),c=0,w=x.length;c<w;c++)x[c]=l.charCodeAt(c);return x},i.buf2string=function(l,x){var c,w,h,v,m=x||l.length,_=new Array(2*m);for(c=w=0;c<m;)if((h=l[c++])<128)_[w++]=h;else if(4<(v=u[h]))_[w++]=65533,c+=v-1;else{for(h&=v===2?31:v===3?15:7;1<v&&c<m;)h=h<<6|63&l[c++],v--;1<v?_[w++]=65533:h<65536?_[w++]=h:(h-=65536,_[w++]=55296|h>>10&1023,_[w++]=56320|1023&h)}return g(_,w)},i.utf8border=function(l,x){var c;for((x=x||l.length)>l.length&&(x=l.length),c=x-1;0<=c&&(192&l[c])==128;)c--;return c<0||c===0?x:c+u[l[c]]>x?c:x}},{"./common":41}],43:[function(e,n,i){n.exports=function(o,f,s,u){for(var p=65535&o|0,g=o>>>16&65535|0,l=0;s!==0;){for(s-=l=2e3<s?2e3:s;g=g+(p=p+f[u++]|0)|0,--l;);p%=65521,g%=65521}return p|g<<16|0}},{}],44:[function(e,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,n,i){var o=function(){for(var f,s=[],u=0;u<256;u++){f=u;for(var p=0;p<8;p++)f=1&f?3988292384^f>>>1:f>>>1;s[u]=f}return s}();n.exports=function(f,s,u,p){var g=o,l=p+u;f^=-1;for(var x=p;x<l;x++)f=f>>>8^g[255&(f^s[x])];return-1^f}},{}],46:[function(e,n,i){var o,f=e("../utils/common"),s=e("./trees"),u=e("./adler32"),p=e("./crc32"),g=e("./messages"),l=0,x=4,c=0,w=-2,h=-1,v=4,m=2,_=8,C=9,E=286,z=30,L=19,O=2*E+1,W=15,T=3,Z=258,K=Z+T+1,k=42,D=113,a=1,U=2,J=3,P=4;function ee(r,R){return r.msg=g[R],R}function M(r){return(r<<1)-(4<r?9:0)}function Q(r){for(var R=r.length;0<=--R;)r[R]=0}function B(r){var R=r.state,I=R.pending;I>r.avail_out&&(I=r.avail_out),I!==0&&(f.arraySet(r.output,R.pending_buf,R.pending_out,I,r.next_out),r.next_out+=I,R.pending_out+=I,r.total_out+=I,r.avail_out-=I,R.pending-=I,R.pending===0&&(R.pending_out=0))}function F(r,R){s._tr_flush_block(r,0<=r.block_start?r.block_start:-1,r.strstart-r.block_start,R),r.block_start=r.strstart,B(r.strm)}function Y(r,R){r.pending_buf[r.pending++]=R}function V(r,R){r.pending_buf[r.pending++]=R>>>8&255,r.pending_buf[r.pending++]=255&R}function q(r,R){var I,y,b=r.max_chain_length,S=r.strstart,N=r.prev_length,j=r.nice_match,A=r.strstart>r.w_size-K?r.strstart-(r.w_size-K):0,H=r.window,$=r.w_mask,G=r.prev,X=r.strstart+Z,ne=H[S+N-1],re=H[S+N];r.prev_length>=r.good_match&&(b>>=2),j>r.lookahead&&(j=r.lookahead);do if(H[(I=R)+N]===re&&H[I+N-1]===ne&&H[I]===H[S]&&H[++I]===H[S+1]){S+=2,I++;do;while(H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&H[++S]===H[++I]&&S<X);if(y=Z-(X-S),S=X-Z,N<y){if(r.match_start=R,j<=(N=y))break;ne=H[S+N-1],re=H[S+N]}}while((R=G[R&$])>A&&--b!=0);return N<=r.lookahead?N:r.lookahead}function ae(r){var R,I,y,b,S,N,j,A,H,$,G=r.w_size;do{if(b=r.window_size-r.lookahead-r.strstart,r.strstart>=G+(G-K)){for(f.arraySet(r.window,r.window,G,G,0),r.match_start-=G,r.strstart-=G,r.block_start-=G,R=I=r.hash_size;y=r.head[--R],r.head[R]=G<=y?y-G:0,--I;);for(R=I=G;y=r.prev[--R],r.prev[R]=G<=y?y-G:0,--I;);b+=G}if(r.strm.avail_in===0)break;if(N=r.strm,j=r.window,A=r.strstart+r.lookahead,H=b,$=void 0,$=N.avail_in,H<$&&($=H),I=$===0?0:(N.avail_in-=$,f.arraySet(j,N.input,N.next_in,$,A),N.state.wrap===1?N.adler=u(N.adler,j,$,A):N.state.wrap===2&&(N.adler=p(N.adler,j,$,A)),N.next_in+=$,N.total_in+=$,$),r.lookahead+=I,r.lookahead+r.insert>=T)for(S=r.strstart-r.insert,r.ins_h=r.window[S],r.ins_h=(r.ins_h<<r.hash_shift^r.window[S+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[S+T-1])&r.hash_mask,r.prev[S&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=S,S++,r.insert--,!(r.lookahead+r.insert<T)););}while(r.lookahead<K&&r.strm.avail_in!==0)}function le(r,R){for(var I,y;;){if(r.lookahead<K){if(ae(r),r.lookahead<K&&R===l)return a;if(r.lookahead===0)break}if(I=0,r.lookahead>=T&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+T-1])&r.hash_mask,I=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),I!==0&&r.strstart-I<=r.w_size-K&&(r.match_length=q(r,I)),r.match_length>=T)if(y=s._tr_tally(r,r.strstart-r.match_start,r.match_length-T),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=T){for(r.match_length--;r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+T-1])&r.hash_mask,I=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart,--r.match_length!=0;);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else y=s._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(y&&(F(r,!1),r.strm.avail_out===0))return a}return r.insert=r.strstart<T-1?r.strstart:T-1,R===x?(F(r,!0),r.strm.avail_out===0?J:P):r.last_lit&&(F(r,!1),r.strm.avail_out===0)?a:U}function te(r,R){for(var I,y,b;;){if(r.lookahead<K){if(ae(r),r.lookahead<K&&R===l)return a;if(r.lookahead===0)break}if(I=0,r.lookahead>=T&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+T-1])&r.hash_mask,I=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=T-1,I!==0&&r.prev_length<r.max_lazy_match&&r.strstart-I<=r.w_size-K&&(r.match_length=q(r,I),r.match_length<=5&&(r.strategy===1||r.match_length===T&&4096<r.strstart-r.match_start)&&(r.match_length=T-1)),r.prev_length>=T&&r.match_length<=r.prev_length){for(b=r.strstart+r.lookahead-T,y=s._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-T),r.lookahead-=r.prev_length-1,r.prev_length-=2;++r.strstart<=b&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+T-1])&r.hash_mask,I=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),--r.prev_length!=0;);if(r.match_available=0,r.match_length=T-1,r.strstart++,y&&(F(r,!1),r.strm.avail_out===0))return a}else if(r.match_available){if((y=s._tr_tally(r,0,r.window[r.strstart-1]))&&F(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return a}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(y=s._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<T-1?r.strstart:T-1,R===x?(F(r,!0),r.strm.avail_out===0?J:P):r.last_lit&&(F(r,!1),r.strm.avail_out===0)?a:U}function ie(r,R,I,y,b){this.good_length=r,this.max_lazy=R,this.nice_length=I,this.max_chain=y,this.func=b}function ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*O),this.dyn_dtree=new f.Buf16(2*(2*z+1)),this.bl_tree=new f.Buf16(2*(2*L+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(W+1),this.heap=new f.Buf16(2*E+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*E+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function oe(r){var R;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=m,(R=r.state).pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap?k:D,r.adler=R.wrap===2?0:1,R.last_flush=l,s._tr_init(R),c):ee(r,w)}function me(r){var R=oe(r);return R===c&&function(I){I.window_size=2*I.w_size,Q(I.head),I.max_lazy_match=o[I.level].max_lazy,I.good_match=o[I.level].good_length,I.nice_match=o[I.level].nice_length,I.max_chain_length=o[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=T-1,I.match_available=0,I.ins_h=0}(r.state),R}function de(r,R,I,y,b,S){if(!r)return w;var N=1;if(R===h&&(R=6),y<0?(N=0,y=-y):15<y&&(N=2,y-=16),b<1||C<b||I!==_||y<8||15<y||R<0||9<R||S<0||v<S)return ee(r,w);y===8&&(y=9);var j=new ue;return(r.state=j).strm=r,j.wrap=N,j.gzhead=null,j.w_bits=y,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=b+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+T-1)/T),j.window=new f.Buf8(2*j.w_size),j.head=new f.Buf16(j.hash_size),j.prev=new f.Buf16(j.w_size),j.lit_bufsize=1<<b+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new f.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=R,j.strategy=S,j.method=I,me(r)}o=[new ie(0,0,0,0,function(r,R){var I=65535;for(I>r.pending_buf_size-5&&(I=r.pending_buf_size-5);;){if(r.lookahead<=1){if(ae(r),r.lookahead===0&&R===l)return a;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var y=r.block_start+I;if((r.strstart===0||r.strstart>=y)&&(r.lookahead=r.strstart-y,r.strstart=y,F(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-K&&(F(r,!1),r.strm.avail_out===0))return a}return r.insert=0,R===x?(F(r,!0),r.strm.avail_out===0?J:P):(r.strstart>r.block_start&&(F(r,!1),r.strm.avail_out),a)}),new ie(4,4,8,4,le),new ie(4,5,16,8,le),new ie(4,6,32,32,le),new ie(4,4,16,16,te),new ie(8,16,32,32,te),new ie(8,16,128,128,te),new ie(8,32,128,256,te),new ie(32,128,258,1024,te),new ie(32,258,258,4096,te)],i.deflateInit=function(r,R){return de(r,R,_,15,8,0)},i.deflateInit2=de,i.deflateReset=me,i.deflateResetKeep=oe,i.deflateSetHeader=function(r,R){return r&&r.state?r.state.wrap!==2?w:(r.state.gzhead=R,c):w},i.deflate=function(r,R){var I,y,b,S;if(!r||!r.state||5<R||R<0)return r?ee(r,w):w;if(y=r.state,!r.output||!r.input&&r.avail_in!==0||y.status===666&&R!==x)return ee(r,r.avail_out===0?-5:w);if(y.strm=r,I=y.last_flush,y.last_flush=R,y.status===k)if(y.wrap===2)r.adler=0,Y(y,31),Y(y,139),Y(y,8),y.gzhead?(Y(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),Y(y,255&y.gzhead.time),Y(y,y.gzhead.time>>8&255),Y(y,y.gzhead.time>>16&255),Y(y,y.gzhead.time>>24&255),Y(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),Y(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(Y(y,255&y.gzhead.extra.length),Y(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(r.adler=p(r.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(Y(y,0),Y(y,0),Y(y,0),Y(y,0),Y(y,0),Y(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),Y(y,3),y.status=D);else{var N=_+(y.w_bits-8<<4)<<8;N|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(N|=32),N+=31-N%31,y.status=D,V(y,N),y.strstart!==0&&(V(y,r.adler>>>16),V(y,65535&r.adler)),r.adler=1}if(y.status===69)if(y.gzhead.extra){for(b=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>b&&(r.adler=p(r.adler,y.pending_buf,y.pending-b,b)),B(r),b=y.pending,y.pending!==y.pending_buf_size));)Y(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>b&&(r.adler=p(r.adler,y.pending_buf,y.pending-b,b)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){b=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>b&&(r.adler=p(r.adler,y.pending_buf,y.pending-b,b)),B(r),b=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,Y(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>b&&(r.adler=p(r.adler,y.pending_buf,y.pending-b,b)),S===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){b=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>b&&(r.adler=p(r.adler,y.pending_buf,y.pending-b,b)),B(r),b=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,Y(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>b&&(r.adler=p(r.adler,y.pending_buf,y.pending-b,b)),S===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&B(r),y.pending+2<=y.pending_buf_size&&(Y(y,255&r.adler),Y(y,r.adler>>8&255),r.adler=0,y.status=D)):y.status=D),y.pending!==0){if(B(r),r.avail_out===0)return y.last_flush=-1,c}else if(r.avail_in===0&&M(R)<=M(I)&&R!==x)return ee(r,-5);if(y.status===666&&r.avail_in!==0)return ee(r,-5);if(r.avail_in!==0||y.lookahead!==0||R!==l&&y.status!==666){var j=y.strategy===2?function(A,H){for(var $;;){if(A.lookahead===0&&(ae(A),A.lookahead===0)){if(H===l)return a;break}if(A.match_length=0,$=s._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,$&&(F(A,!1),A.strm.avail_out===0))return a}return A.insert=0,H===x?(F(A,!0),A.strm.avail_out===0?J:P):A.last_lit&&(F(A,!1),A.strm.avail_out===0)?a:U}(y,R):y.strategy===3?function(A,H){for(var $,G,X,ne,re=A.window;;){if(A.lookahead<=Z){if(ae(A),A.lookahead<=Z&&H===l)return a;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=T&&0<A.strstart&&(G=re[X=A.strstart-1])===re[++X]&&G===re[++X]&&G===re[++X]){ne=A.strstart+Z;do;while(G===re[++X]&&G===re[++X]&&G===re[++X]&&G===re[++X]&&G===re[++X]&&G===re[++X]&&G===re[++X]&&G===re[++X]&&X<ne);A.match_length=Z-(ne-X),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=T?($=s._tr_tally(A,1,A.match_length-T),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):($=s._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),$&&(F(A,!1),A.strm.avail_out===0))return a}return A.insert=0,H===x?(F(A,!0),A.strm.avail_out===0?J:P):A.last_lit&&(F(A,!1),A.strm.avail_out===0)?a:U}(y,R):o[y.level].func(y,R);if(j!==J&&j!==P||(y.status=666),j===a||j===J)return r.avail_out===0&&(y.last_flush=-1),c;if(j===U&&(R===1?s._tr_align(y):R!==5&&(s._tr_stored_block(y,0,0,!1),R===3&&(Q(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),B(r),r.avail_out===0))return y.last_flush=-1,c}return R!==x?c:y.wrap<=0?1:(y.wrap===2?(Y(y,255&r.adler),Y(y,r.adler>>8&255),Y(y,r.adler>>16&255),Y(y,r.adler>>24&255),Y(y,255&r.total_in),Y(y,r.total_in>>8&255),Y(y,r.total_in>>16&255),Y(y,r.total_in>>24&255)):(V(y,r.adler>>>16),V(y,65535&r.adler)),B(r),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?c:1)},i.deflateEnd=function(r){var R;return r&&r.state?(R=r.state.status)!==k&&R!==69&&R!==73&&R!==91&&R!==103&&R!==D&&R!==666?ee(r,w):(r.state=null,R===D?ee(r,-3):c):w},i.deflateSetDictionary=function(r,R){var I,y,b,S,N,j,A,H,$=R.length;if(!r||!r.state||(S=(I=r.state).wrap)===2||S===1&&I.status!==k||I.lookahead)return w;for(S===1&&(r.adler=u(r.adler,R,$,0)),I.wrap=0,$>=I.w_size&&(S===0&&(Q(I.head),I.strstart=0,I.block_start=0,I.insert=0),H=new f.Buf8(I.w_size),f.arraySet(H,R,$-I.w_size,I.w_size,0),R=H,$=I.w_size),N=r.avail_in,j=r.next_in,A=r.input,r.avail_in=$,r.next_in=0,r.input=R,ae(I);I.lookahead>=T;){for(y=I.strstart,b=I.lookahead-(T-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[y+T-1])&I.hash_mask,I.prev[y&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=y,y++,--b;);I.strstart=y,I.lookahead=T-1,ae(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=T-1,I.match_available=0,r.next_in=j,r.input=A,r.avail_in=N,I.wrap=S,c},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,n,i){n.exports=function(o,f){var s,u,p,g,l,x,c,w,h,v,m,_,C,E,z,L,O,W,T,Z,K,k,D,a,U;s=o.state,u=o.next_in,a=o.input,p=u+(o.avail_in-5),g=o.next_out,U=o.output,l=g-(f-o.avail_out),x=g+(o.avail_out-257),c=s.dmax,w=s.wsize,h=s.whave,v=s.wnext,m=s.window,_=s.hold,C=s.bits,E=s.lencode,z=s.distcode,L=(1<<s.lenbits)-1,O=(1<<s.distbits)-1;e:do{C<15&&(_+=a[u++]<<C,C+=8,_+=a[u++]<<C,C+=8),W=E[_&L];t:for(;;){if(_>>>=T=W>>>24,C-=T,(T=W>>>16&255)===0)U[g++]=65535&W;else{if(!(16&T)){if((64&T)==0){W=E[(65535&W)+(_&(1<<T)-1)];continue t}if(32&T){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}Z=65535&W,(T&=15)&&(C<T&&(_+=a[u++]<<C,C+=8),Z+=_&(1<<T)-1,_>>>=T,C-=T),C<15&&(_+=a[u++]<<C,C+=8,_+=a[u++]<<C,C+=8),W=z[_&O];r:for(;;){if(_>>>=T=W>>>24,C-=T,!(16&(T=W>>>16&255))){if((64&T)==0){W=z[(65535&W)+(_&(1<<T)-1)];continue r}o.msg="invalid distance code",s.mode=30;break e}if(K=65535&W,C<(T&=15)&&(_+=a[u++]<<C,(C+=8)<T&&(_+=a[u++]<<C,C+=8)),c<(K+=_&(1<<T)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(_>>>=T,C-=T,(T=g-l)<K){if(h<(T=K-T)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(D=m,(k=0)===v){if(k+=w-T,T<Z){for(Z-=T;U[g++]=m[k++],--T;);k=g-K,D=U}}else if(v<T){if(k+=w+v-T,(T-=v)<Z){for(Z-=T;U[g++]=m[k++],--T;);if(k=0,v<Z){for(Z-=T=v;U[g++]=m[k++],--T;);k=g-K,D=U}}}else if(k+=v-T,T<Z){for(Z-=T;U[g++]=m[k++],--T;);k=g-K,D=U}for(;2<Z;)U[g++]=D[k++],U[g++]=D[k++],U[g++]=D[k++],Z-=3;Z&&(U[g++]=D[k++],1<Z&&(U[g++]=D[k++]))}else{for(k=g-K;U[g++]=U[k++],U[g++]=U[k++],U[g++]=U[k++],2<(Z-=3););Z&&(U[g++]=U[k++],1<Z&&(U[g++]=U[k++]))}break}}break}}while(u<p&&g<x);u-=Z=C>>3,_&=(1<<(C-=Z<<3))-1,o.next_in=u,o.next_out=g,o.avail_in=u<p?p-u+5:5-(u-p),o.avail_out=g<x?x-g+257:257-(g-x),s.hold=_,s.bits=C}},{}],49:[function(e,n,i){var o=e("../utils/common"),f=e("./adler32"),s=e("./crc32"),u=e("./inffast"),p=e("./inftrees"),g=1,l=2,x=0,c=-2,w=1,h=852,v=592;function m(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(k){var D;return k&&k.state?(D=k.state,k.total_in=k.total_out=D.total=0,k.msg="",D.wrap&&(k.adler=1&D.wrap),D.mode=w,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new o.Buf32(h),D.distcode=D.distdyn=new o.Buf32(v),D.sane=1,D.back=-1,x):c}function E(k){var D;return k&&k.state?((D=k.state).wsize=0,D.whave=0,D.wnext=0,C(k)):c}function z(k,D){var a,U;return k&&k.state?(U=k.state,D<0?(a=0,D=-D):(a=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?c:(U.window!==null&&U.wbits!==D&&(U.window=null),U.wrap=a,U.wbits=D,E(k))):c}function L(k,D){var a,U;return k?(U=new _,(k.state=U).window=null,(a=z(k,D))!==x&&(k.state=null),a):c}var O,W,T=!0;function Z(k){if(T){var D;for(O=new o.Buf32(512),W=new o.Buf32(32),D=0;D<144;)k.lens[D++]=8;for(;D<256;)k.lens[D++]=9;for(;D<280;)k.lens[D++]=7;for(;D<288;)k.lens[D++]=8;for(p(g,k.lens,0,288,O,0,k.work,{bits:9}),D=0;D<32;)k.lens[D++]=5;p(l,k.lens,0,32,W,0,k.work,{bits:5}),T=!1}k.lencode=O,k.lenbits=9,k.distcode=W,k.distbits=5}function K(k,D,a,U){var J,P=k.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new o.Buf8(P.wsize)),U>=P.wsize?(o.arraySet(P.window,D,a-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(U<(J=P.wsize-P.wnext)&&(J=U),o.arraySet(P.window,D,a-U,J,P.wnext),(U-=J)?(o.arraySet(P.window,D,a-U,U,0),P.wnext=U,P.whave=P.wsize):(P.wnext+=J,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=J))),0}i.inflateReset=E,i.inflateReset2=z,i.inflateResetKeep=C,i.inflateInit=function(k){return L(k,15)},i.inflateInit2=L,i.inflate=function(k,D){var a,U,J,P,ee,M,Q,B,F,Y,V,q,ae,le,te,ie,ue,oe,me,de,r,R,I,y,b=0,S=new o.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return c;(a=k.state).mode===12&&(a.mode=13),ee=k.next_out,J=k.output,Q=k.avail_out,P=k.next_in,U=k.input,M=k.avail_in,B=a.hold,F=a.bits,Y=M,V=Q,R=x;e:for(;;)switch(a.mode){case w:if(a.wrap===0){a.mode=13;break}for(;F<16;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if(2&a.wrap&&B===35615){S[a.check=0]=255&B,S[1]=B>>>8&255,a.check=s(a.check,S,2,0),F=B=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&B)<<8)+(B>>8))%31){k.msg="incorrect header check",a.mode=30;break}if((15&B)!=8){k.msg="unknown compression method",a.mode=30;break}if(F-=4,r=8+(15&(B>>>=4)),a.wbits===0)a.wbits=r;else if(r>a.wbits){k.msg="invalid window size",a.mode=30;break}a.dmax=1<<r,k.adler=a.check=1,a.mode=512&B?10:12,F=B=0;break;case 2:for(;F<16;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if(a.flags=B,(255&a.flags)!=8){k.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){k.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=B>>8&1),512&a.flags&&(S[0]=255&B,S[1]=B>>>8&255,a.check=s(a.check,S,2,0)),F=B=0,a.mode=3;case 3:for(;F<32;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}a.head&&(a.head.time=B),512&a.flags&&(S[0]=255&B,S[1]=B>>>8&255,S[2]=B>>>16&255,S[3]=B>>>24&255,a.check=s(a.check,S,4,0)),F=B=0,a.mode=4;case 4:for(;F<16;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}a.head&&(a.head.xflags=255&B,a.head.os=B>>8),512&a.flags&&(S[0]=255&B,S[1]=B>>>8&255,a.check=s(a.check,S,2,0)),F=B=0,a.mode=5;case 5:if(1024&a.flags){for(;F<16;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}a.length=B,a.head&&(a.head.extra_len=B),512&a.flags&&(S[0]=255&B,S[1]=B>>>8&255,a.check=s(a.check,S,2,0)),F=B=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(M<(q=a.length)&&(q=M),q&&(a.head&&(r=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),o.arraySet(a.head.extra,U,P,q,r)),512&a.flags&&(a.check=s(a.check,U,q,P)),M-=q,P+=q,a.length-=q),a.length))break e;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(M===0)break e;for(q=0;r=U[P+q++],a.head&&r&&a.length<65536&&(a.head.name+=String.fromCharCode(r)),r&&q<M;);if(512&a.flags&&(a.check=s(a.check,U,q,P)),M-=q,P+=q,r)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(M===0)break e;for(q=0;r=U[P+q++],a.head&&r&&a.length<65536&&(a.head.comment+=String.fromCharCode(r)),r&&q<M;);if(512&a.flags&&(a.check=s(a.check,U,q,P)),M-=q,P+=q,r)break e}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;F<16;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if(B!==(65535&a.check)){k.msg="header crc mismatch",a.mode=30;break}F=B=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),k.adler=a.check=0,a.mode=12;break;case 10:for(;F<32;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}k.adler=a.check=m(B),F=B=0,a.mode=11;case 11:if(a.havedict===0)return k.next_out=ee,k.avail_out=Q,k.next_in=P,k.avail_in=M,a.hold=B,a.bits=F,2;k.adler=a.check=1,a.mode=12;case 12:if(D===5||D===6)break e;case 13:if(a.last){B>>>=7&F,F-=7&F,a.mode=27;break}for(;F<3;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}switch(a.last=1&B,F-=1,3&(B>>>=1)){case 0:a.mode=14;break;case 1:if(Z(a),a.mode=20,D!==6)break;B>>>=2,F-=2;break e;case 2:a.mode=17;break;case 3:k.msg="invalid block type",a.mode=30}B>>>=2,F-=2;break;case 14:for(B>>>=7&F,F-=7&F;F<32;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if((65535&B)!=(B>>>16^65535)){k.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&B,F=B=0,a.mode=15,D===6)break e;case 15:a.mode=16;case 16:if(q=a.length){if(M<q&&(q=M),Q<q&&(q=Q),q===0)break e;o.arraySet(J,U,P,q,ee),M-=q,P+=q,Q-=q,ee+=q,a.length-=q;break}a.mode=12;break;case 17:for(;F<14;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if(a.nlen=257+(31&B),B>>>=5,F-=5,a.ndist=1+(31&B),B>>>=5,F-=5,a.ncode=4+(15&B),B>>>=4,F-=4,286<a.nlen||30<a.ndist){k.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;F<3;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}a.lens[N[a.have++]]=7&B,B>>>=3,F-=3}for(;a.have<19;)a.lens[N[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,I={bits:a.lenbits},R=p(0,a.lens,0,19,a.lencode,0,a.work,I),a.lenbits=I.bits,R){k.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;ie=(b=a.lencode[B&(1<<a.lenbits)-1])>>>16&255,ue=65535&b,!((te=b>>>24)<=F);){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if(ue<16)B>>>=te,F-=te,a.lens[a.have++]=ue;else{if(ue===16){for(y=te+2;F<y;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if(B>>>=te,F-=te,a.have===0){k.msg="invalid bit length repeat",a.mode=30;break}r=a.lens[a.have-1],q=3+(3&B),B>>>=2,F-=2}else if(ue===17){for(y=te+3;F<y;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}F-=te,r=0,q=3+(7&(B>>>=te)),B>>>=3,F-=3}else{for(y=te+7;F<y;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}F-=te,r=0,q=11+(127&(B>>>=te)),B>>>=7,F-=7}if(a.have+q>a.nlen+a.ndist){k.msg="invalid bit length repeat",a.mode=30;break}for(;q--;)a.lens[a.have++]=r}}if(a.mode===30)break;if(a.lens[256]===0){k.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,I={bits:a.lenbits},R=p(g,a.lens,0,a.nlen,a.lencode,0,a.work,I),a.lenbits=I.bits,R){k.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,I={bits:a.distbits},R=p(l,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,I),a.distbits=I.bits,R){k.msg="invalid distances set",a.mode=30;break}if(a.mode=20,D===6)break e;case 20:a.mode=21;case 21:if(6<=M&&258<=Q){k.next_out=ee,k.avail_out=Q,k.next_in=P,k.avail_in=M,a.hold=B,a.bits=F,u(k,V),ee=k.next_out,J=k.output,Q=k.avail_out,P=k.next_in,U=k.input,M=k.avail_in,B=a.hold,F=a.bits,a.mode===12&&(a.back=-1);break}for(a.back=0;ie=(b=a.lencode[B&(1<<a.lenbits)-1])>>>16&255,ue=65535&b,!((te=b>>>24)<=F);){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if(ie&&(240&ie)==0){for(oe=te,me=ie,de=ue;ie=(b=a.lencode[de+((B&(1<<oe+me)-1)>>oe)])>>>16&255,ue=65535&b,!(oe+(te=b>>>24)<=F);){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}B>>>=oe,F-=oe,a.back+=oe}if(B>>>=te,F-=te,a.back+=te,a.length=ue,ie===0){a.mode=26;break}if(32&ie){a.back=-1,a.mode=12;break}if(64&ie){k.msg="invalid literal/length code",a.mode=30;break}a.extra=15&ie,a.mode=22;case 22:if(a.extra){for(y=a.extra;F<y;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}a.length+=B&(1<<a.extra)-1,B>>>=a.extra,F-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;ie=(b=a.distcode[B&(1<<a.distbits)-1])>>>16&255,ue=65535&b,!((te=b>>>24)<=F);){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if((240&ie)==0){for(oe=te,me=ie,de=ue;ie=(b=a.distcode[de+((B&(1<<oe+me)-1)>>oe)])>>>16&255,ue=65535&b,!(oe+(te=b>>>24)<=F);){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}B>>>=oe,F-=oe,a.back+=oe}if(B>>>=te,F-=te,a.back+=te,64&ie){k.msg="invalid distance code",a.mode=30;break}a.offset=ue,a.extra=15&ie,a.mode=24;case 24:if(a.extra){for(y=a.extra;F<y;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}a.offset+=B&(1<<a.extra)-1,B>>>=a.extra,F-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){k.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(Q===0)break e;if(q=V-Q,a.offset>q){if((q=a.offset-q)>a.whave&&a.sane){k.msg="invalid distance too far back",a.mode=30;break}ae=q>a.wnext?(q-=a.wnext,a.wsize-q):a.wnext-q,q>a.length&&(q=a.length),le=a.window}else le=J,ae=ee-a.offset,q=a.length;for(Q<q&&(q=Q),Q-=q,a.length-=q;J[ee++]=le[ae++],--q;);a.length===0&&(a.mode=21);break;case 26:if(Q===0)break e;J[ee++]=a.length,Q--,a.mode=21;break;case 27:if(a.wrap){for(;F<32;){if(M===0)break e;M--,B|=U[P++]<<F,F+=8}if(V-=Q,k.total_out+=V,a.total+=V,V&&(k.adler=a.check=a.flags?s(a.check,J,V,ee-V):f(a.check,J,V,ee-V)),V=Q,(a.flags?B:m(B))!==a.check){k.msg="incorrect data check",a.mode=30;break}F=B=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;F<32;){if(M===0)break e;M--,B+=U[P++]<<F,F+=8}if(B!==(4294967295&a.total)){k.msg="incorrect length check",a.mode=30;break}F=B=0}a.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;case 32:default:return c}return k.next_out=ee,k.avail_out=Q,k.next_in=P,k.avail_in=M,a.hold=B,a.bits=F,(a.wsize||V!==k.avail_out&&a.mode<30&&(a.mode<27||D!==4))&&K(k,k.output,k.next_out,V-k.avail_out)?(a.mode=31,-4):(Y-=k.avail_in,V-=k.avail_out,k.total_in+=Y,k.total_out+=V,a.total+=V,a.wrap&&V&&(k.adler=a.check=a.flags?s(a.check,J,V,k.next_out-V):f(a.check,J,V,k.next_out-V)),k.data_type=a.bits+(a.last?64:0)+(a.mode===12?128:0)+(a.mode===20||a.mode===15?256:0),(Y==0&&V===0||D===4)&&R===x&&(R=-5),R)},i.inflateEnd=function(k){if(!k||!k.state)return c;var D=k.state;return D.window&&(D.window=null),k.state=null,x},i.inflateGetHeader=function(k,D){var a;return k&&k.state?(2&(a=k.state).wrap)==0?c:((a.head=D).done=!1,x):c},i.inflateSetDictionary=function(k,D){var a,U=D.length;return k&&k.state?(a=k.state).wrap!==0&&a.mode!==11?c:a.mode===11&&f(1,D,U,0)!==a.check?-3:K(k,D,U,U)?(a.mode=31,-4):(a.havedict=1,x):c},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,n,i){var o=e("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(g,l,x,c,w,h,v,m){var _,C,E,z,L,O,W,T,Z,K=m.bits,k=0,D=0,a=0,U=0,J=0,P=0,ee=0,M=0,Q=0,B=0,F=null,Y=0,V=new o.Buf16(16),q=new o.Buf16(16),ae=null,le=0;for(k=0;k<=15;k++)V[k]=0;for(D=0;D<c;D++)V[l[x+D]]++;for(J=K,U=15;1<=U&&V[U]===0;U--);if(U<J&&(J=U),U===0)return w[h++]=20971520,w[h++]=20971520,m.bits=1,0;for(a=1;a<U&&V[a]===0;a++);for(J<a&&(J=a),k=M=1;k<=15;k++)if(M<<=1,(M-=V[k])<0)return-1;if(0<M&&(g===0||U!==1))return-1;for(q[1]=0,k=1;k<15;k++)q[k+1]=q[k]+V[k];for(D=0;D<c;D++)l[x+D]!==0&&(v[q[l[x+D]]++]=D);if(O=g===0?(F=ae=v,19):g===1?(F=f,Y-=257,ae=s,le-=257,256):(F=u,ae=p,-1),k=a,L=h,ee=D=B=0,E=-1,z=(Q=1<<(P=J))-1,g===1&&852<Q||g===2&&592<Q)return 1;for(;;){for(W=k-ee,Z=v[D]<O?(T=0,v[D]):v[D]>O?(T=ae[le+v[D]],F[Y+v[D]]):(T=96,0),_=1<<k-ee,a=C=1<<P;w[L+(B>>ee)+(C-=_)]=W<<24|T<<16|Z|0,C!==0;);for(_=1<<k-1;B&_;)_>>=1;if(_!==0?(B&=_-1,B+=_):B=0,D++,--V[k]==0){if(k===U)break;k=l[x+v[D]]}if(J<k&&(B&z)!==E){for(ee===0&&(ee=J),L+=a,M=1<<(P=k-ee);P+ee<U&&!((M-=V[P+ee])<=0);)P++,M<<=1;if(Q+=1<<P,g===1&&852<Q||g===2&&592<Q)return 1;w[E=B&z]=J<<24|P<<16|L-h|0}}return B!==0&&(w[L+B]=k-ee<<24|64<<16|0),m.bits=J,0}},{"../utils/common":41}],51:[function(e,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,n,i){var o=e("../utils/common"),f=0,s=1;function u(b){for(var S=b.length;0<=--S;)b[S]=0}var p=0,g=29,l=256,x=l+1+g,c=30,w=19,h=2*x+1,v=15,m=16,_=7,C=256,E=16,z=17,L=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(x+2));u(K);var k=new Array(2*c);u(k);var D=new Array(512);u(D);var a=new Array(256);u(a);var U=new Array(g);u(U);var J,P,ee,M=new Array(c);function Q(b,S,N,j,A){this.static_tree=b,this.extra_bits=S,this.extra_base=N,this.elems=j,this.max_length=A,this.has_stree=b&&b.length}function B(b,S){this.dyn_tree=b,this.max_code=0,this.stat_desc=S}function F(b){return b<256?D[b]:D[256+(b>>>7)]}function Y(b,S){b.pending_buf[b.pending++]=255&S,b.pending_buf[b.pending++]=S>>>8&255}function V(b,S,N){b.bi_valid>m-N?(b.bi_buf|=S<<b.bi_valid&65535,Y(b,b.bi_buf),b.bi_buf=S>>m-b.bi_valid,b.bi_valid+=N-m):(b.bi_buf|=S<<b.bi_valid&65535,b.bi_valid+=N)}function q(b,S,N){V(b,N[2*S],N[2*S+1])}function ae(b,S){for(var N=0;N|=1&b,b>>>=1,N<<=1,0<--S;);return N>>>1}function le(b,S,N){var j,A,H=new Array(v+1),$=0;for(j=1;j<=v;j++)H[j]=$=$+N[j-1]<<1;for(A=0;A<=S;A++){var G=b[2*A+1];G!==0&&(b[2*A]=ae(H[G]++,G))}}function te(b){var S;for(S=0;S<x;S++)b.dyn_ltree[2*S]=0;for(S=0;S<c;S++)b.dyn_dtree[2*S]=0;for(S=0;S<w;S++)b.bl_tree[2*S]=0;b.dyn_ltree[2*C]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function ie(b){8<b.bi_valid?Y(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function ue(b,S,N,j){var A=2*S,H=2*N;return b[A]<b[H]||b[A]===b[H]&&j[S]<=j[N]}function oe(b,S,N){for(var j=b.heap[N],A=N<<1;A<=b.heap_len&&(A<b.heap_len&&ue(S,b.heap[A+1],b.heap[A],b.depth)&&A++,!ue(S,j,b.heap[A],b.depth));)b.heap[N]=b.heap[A],N=A,A<<=1;b.heap[N]=j}function me(b,S,N){var j,A,H,$,G=0;if(b.last_lit!==0)for(;j=b.pending_buf[b.d_buf+2*G]<<8|b.pending_buf[b.d_buf+2*G+1],A=b.pending_buf[b.l_buf+G],G++,j===0?q(b,A,S):(q(b,(H=a[A])+l+1,S),($=O[H])!==0&&V(b,A-=U[H],$),q(b,H=F(--j),N),($=W[H])!==0&&V(b,j-=M[H],$)),G<b.last_lit;);q(b,C,S)}function de(b,S){var N,j,A,H=S.dyn_tree,$=S.stat_desc.static_tree,G=S.stat_desc.has_stree,X=S.stat_desc.elems,ne=-1;for(b.heap_len=0,b.heap_max=h,N=0;N<X;N++)H[2*N]!==0?(b.heap[++b.heap_len]=ne=N,b.depth[N]=0):H[2*N+1]=0;for(;b.heap_len<2;)H[2*(A=b.heap[++b.heap_len]=ne<2?++ne:0)]=1,b.depth[A]=0,b.opt_len--,G&&(b.static_len-=$[2*A+1]);for(S.max_code=ne,N=b.heap_len>>1;1<=N;N--)oe(b,H,N);for(A=X;N=b.heap[1],b.heap[1]=b.heap[b.heap_len--],oe(b,H,1),j=b.heap[1],b.heap[--b.heap_max]=N,b.heap[--b.heap_max]=j,H[2*A]=H[2*N]+H[2*j],b.depth[A]=(b.depth[N]>=b.depth[j]?b.depth[N]:b.depth[j])+1,H[2*N+1]=H[2*j+1]=A,b.heap[1]=A++,oe(b,H,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(re,we){var Fe,ye,Be,fe,Re,We,Ce=we.dyn_tree,et=we.max_code,bt=we.stat_desc.static_tree,yt=we.stat_desc.has_stree,_t=we.stat_desc.extra_bits,tt=we.stat_desc.extra_base,Ie=we.stat_desc.max_length,Ue=0;for(fe=0;fe<=v;fe++)re.bl_count[fe]=0;for(Ce[2*re.heap[re.heap_max]+1]=0,Fe=re.heap_max+1;Fe<h;Fe++)Ie<(fe=Ce[2*Ce[2*(ye=re.heap[Fe])+1]+1]+1)&&(fe=Ie,Ue++),Ce[2*ye+1]=fe,et<ye||(re.bl_count[fe]++,Re=0,tt<=ye&&(Re=_t[ye-tt]),We=Ce[2*ye],re.opt_len+=We*(fe+Re),yt&&(re.static_len+=We*(bt[2*ye+1]+Re)));if(Ue!==0){do{for(fe=Ie-1;re.bl_count[fe]===0;)fe--;re.bl_count[fe]--,re.bl_count[fe+1]+=2,re.bl_count[Ie]--,Ue-=2}while(0<Ue);for(fe=Ie;fe!==0;fe--)for(ye=re.bl_count[fe];ye!==0;)et<(Be=re.heap[--Fe])||(Ce[2*Be+1]!==fe&&(re.opt_len+=(fe-Ce[2*Be+1])*Ce[2*Be],Ce[2*Be+1]=fe),ye--)}}(b,S),le(H,ne,b.bl_count)}function r(b,S,N){var j,A,H=-1,$=S[1],G=0,X=7,ne=4;for($===0&&(X=138,ne=3),S[2*(N+1)+1]=65535,j=0;j<=N;j++)A=$,$=S[2*(j+1)+1],++G<X&&A===$||(G<ne?b.bl_tree[2*A]+=G:A!==0?(A!==H&&b.bl_tree[2*A]++,b.bl_tree[2*E]++):G<=10?b.bl_tree[2*z]++:b.bl_tree[2*L]++,H=A,ne=(G=0)===$?(X=138,3):A===$?(X=6,3):(X=7,4))}function R(b,S,N){var j,A,H=-1,$=S[1],G=0,X=7,ne=4;for($===0&&(X=138,ne=3),j=0;j<=N;j++)if(A=$,$=S[2*(j+1)+1],!(++G<X&&A===$)){if(G<ne)for(;q(b,A,b.bl_tree),--G!=0;);else A!==0?(A!==H&&(q(b,A,b.bl_tree),G--),q(b,E,b.bl_tree),V(b,G-3,2)):G<=10?(q(b,z,b.bl_tree),V(b,G-3,3)):(q(b,L,b.bl_tree),V(b,G-11,7));H=A,ne=(G=0)===$?(X=138,3):A===$?(X=6,3):(X=7,4)}}u(M);var I=!1;function y(b,S,N,j){V(b,(p<<1)+(j?1:0),3),function(A,H,$,G){ie(A),Y(A,$),Y(A,~$),o.arraySet(A.pending_buf,A.window,H,$,A.pending),A.pending+=$}(b,S,N)}i._tr_init=function(b){I||(function(){var S,N,j,A,H,$=new Array(v+1);for(A=j=0;A<g-1;A++)for(U[A]=j,S=0;S<1<<O[A];S++)a[j++]=A;for(a[j-1]=A,A=H=0;A<16;A++)for(M[A]=H,S=0;S<1<<W[A];S++)D[H++]=A;for(H>>=7;A<c;A++)for(M[A]=H<<7,S=0;S<1<<W[A]-7;S++)D[256+H++]=A;for(N=0;N<=v;N++)$[N]=0;for(S=0;S<=143;)K[2*S+1]=8,S++,$[8]++;for(;S<=255;)K[2*S+1]=9,S++,$[9]++;for(;S<=279;)K[2*S+1]=7,S++,$[7]++;for(;S<=287;)K[2*S+1]=8,S++,$[8]++;for(le(K,x+1,$),S=0;S<c;S++)k[2*S+1]=5,k[2*S]=ae(S,5);J=new Q(K,O,l+1,x,v),P=new Q(k,W,0,c,v),ee=new Q(new Array(0),T,0,w,_)}(),I=!0),b.l_desc=new B(b.dyn_ltree,J),b.d_desc=new B(b.dyn_dtree,P),b.bl_desc=new B(b.bl_tree,ee),b.bi_buf=0,b.bi_valid=0,te(b)},i._tr_stored_block=y,i._tr_flush_block=function(b,S,N,j){var A,H,$=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(G){var X,ne=4093624447;for(X=0;X<=31;X++,ne>>>=1)if(1&ne&&G.dyn_ltree[2*X]!==0)return f;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return s;for(X=32;X<l;X++)if(G.dyn_ltree[2*X]!==0)return s;return f}(b)),de(b,b.l_desc),de(b,b.d_desc),$=function(G){var X;for(r(G,G.dyn_ltree,G.l_desc.max_code),r(G,G.dyn_dtree,G.d_desc.max_code),de(G,G.bl_desc),X=w-1;3<=X&&G.bl_tree[2*Z[X]+1]===0;X--);return G.opt_len+=3*(X+1)+5+5+4,X}(b),A=b.opt_len+3+7>>>3,(H=b.static_len+3+7>>>3)<=A&&(A=H)):A=H=N+5,N+4<=A&&S!==-1?y(b,S,N,j):b.strategy===4||H===A?(V(b,2+(j?1:0),3),me(b,K,k)):(V(b,4+(j?1:0),3),function(G,X,ne,re){var we;for(V(G,X-257,5),V(G,ne-1,5),V(G,re-4,4),we=0;we<re;we++)V(G,G.bl_tree[2*Z[we]+1],3);R(G,G.dyn_ltree,X-1),R(G,G.dyn_dtree,ne-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,$+1),me(b,b.dyn_ltree,b.dyn_dtree)),te(b),j&&ie(b)},i._tr_tally=function(b,S,N){return b.pending_buf[b.d_buf+2*b.last_lit]=S>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&S,b.pending_buf[b.l_buf+b.last_lit]=255&N,b.last_lit++,S===0?b.dyn_ltree[2*N]++:(b.matches++,S--,b.dyn_ltree[2*(a[N]+l+1)]++,b.dyn_dtree[2*F(S)]++),b.last_lit===b.lit_bufsize-1},i._tr_align=function(b){V(b,2,3),q(b,C,K),function(S){S.bi_valid===16?(Y(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(e,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,n,i){(function(o){(function(f,s){if(!f.setImmediate){var u,p,g,l,x=1,c={},w=!1,h=f.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(f);v=v&&v.setTimeout?v:f,u={}.toString.call(f.process)==="[object process]"?function(E){process.nextTick(function(){_(E)})}:function(){if(f.postMessage&&!f.importScripts){var E=!0,z=f.onmessage;return f.onmessage=function(){E=!1},f.postMessage("","*"),f.onmessage=z,E}}()?(l="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",C,!1):f.attachEvent("onmessage",C),function(E){f.postMessage(l+E,"*")}):f.MessageChannel?((g=new MessageChannel).port1.onmessage=function(E){_(E.data)},function(E){g.port2.postMessage(E)}):h&&"onreadystatechange"in h.createElement("script")?(p=h.documentElement,function(E){var z=h.createElement("script");z.onreadystatechange=function(){_(E),z.onreadystatechange=null,p.removeChild(z),z=null},p.appendChild(z)}):function(E){setTimeout(_,0,E)},v.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var z=new Array(arguments.length-1),L=0;L<z.length;L++)z[L]=arguments[L+1];var O={callback:E,args:z};return c[x]=O,u(x),x++},v.clearImmediate=m}function m(E){delete c[E]}function _(E){if(w)setTimeout(_,0,E);else{var z=c[E];if(z){w=!0;try{(function(L){var O=L.callback,W=L.args;switch(W.length){case 0:O();break;case 1:O(W[0]);break;case 2:O(W[0],W[1]);break;case 3:O(W[0],W[1],W[2]);break;default:O.apply(s,W)}})(z)}finally{m(E),w=!1}}}}function C(E){E.source===f&&typeof E.data=="string"&&E.data.indexOf(l)===0&&_(+E.data.slice(l.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Le<"u"?Le:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(He)),He.exports}var At=Et();const Ft=lt(At);var je={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var it;function Bt(){return it||(it=1,je.read=function(d,t,e,n,i){var o,f,s=i*8-n-1,u=(1<<s)-1,p=u>>1,g=-7,l=e?i-1:0,x=e?-1:1,c=d[t+l];for(l+=x,o=c&(1<<-g)-1,c>>=-g,g+=s;g>0;o=o*256+d[t+l],l+=x,g-=8);for(f=o&(1<<-g)-1,o>>=-g,g+=n;g>0;f=f*256+d[t+l],l+=x,g-=8);if(o===0)o=1-p;else{if(o===u)return f?NaN:(c?-1:1)*(1/0);f=f+Math.pow(2,n),o=o-p}return(c?-1:1)*f*Math.pow(2,o-n)},je.write=function(d,t,e,n,i,o){var f,s,u,p=o*8-i-1,g=(1<<p)-1,l=g>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:o-1,w=n?1:-1,h=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,f=g):(f=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-f))<1&&(f--,u*=2),f+l>=1?t+=x/u:t+=x*Math.pow(2,1-l),t*u>=2&&(f++,u/=2),f+l>=g?(s=0,f=g):f+l>=1?(s=(t*u-1)*Math.pow(2,i),f=f+l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),f=0));i>=8;d[e+c]=s&255,c+=w,s/=256,i-=8);for(f=f<<i|s,p+=i;p>0;d[e+c]=f&255,c+=w,f/=256,p-=8);d[e+c-w]|=h*128}),je}Bt();function pe(d){return new DataView(d.buffer,d.byteOffset)}const It={len:1,get(d,t){return pe(d).getUint8(t)},put(d,t,e){return pe(d).setUint8(t,e),t+1}},ce={len:2,get(d,t){return pe(d).getUint16(t,!0)},put(d,t,e){return pe(d).setUint16(t,e,!0),t+2}},Te={len:2,get(d,t){return pe(d).getUint16(t)},put(d,t,e){return pe(d).setUint16(t,e),t+2}},he={len:4,get(d,t){return pe(d).getUint32(t,!0)},put(d,t,e){return pe(d).setUint32(t,e,!0),t+4}},Tt={len:4,get(d,t){return pe(d).getUint32(t)},put(d,t,e){return pe(d).setUint32(t,e),t+4}},Ot={len:4,get(d,t){return pe(d).getInt32(t)},put(d,t,e){return pe(d).setInt32(t,e),t+4}},Dt={len:8,get(d,t){return pe(d).getBigUint64(t,!0)},put(d,t,e){return pe(d).setBigUint64(t,e,!0),t+8}};class Se{constructor(t,e){this.len=t,this.encoding=e,this.textDecoder=new TextDecoder(e)}get(t,e){return this.textDecoder.decode(t.subarray(e,e+this.len))}}const Rt="End-Of-Stream";class ve extends Error{constructor(){super(Rt),this.name="EndOfStreamError"}}class Ut extends Error{constructor(t="The operation was aborted"){super(t),this.name="AbortError"}}class ut{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(t,e=!1){const n=await this.read(t,e);return this.peekQueue.push(t.subarray(0,n)),n}async read(t,e=!1){if(t.length===0)return 0;let n=this.readFromPeekBuffer(t);if(this.endOfStream||(n+=await this.readRemainderFromStream(t.subarray(n),e)),n===0)throw new ve;return n}readFromPeekBuffer(t){let e=t.length,n=0;for(;this.peekQueue.length>0&&e>0;){const i=this.peekQueue.pop();if(!i)throw new Error("peekData should be defined");const o=Math.min(i.length,e);t.set(i.subarray(0,o),n),n+=o,e-=o,o<i.length&&this.peekQueue.push(i.subarray(o))}return n}async readRemainderFromStream(t,e){let n=0;for(;n<t.length&&!this.endOfStream;){if(this.interrupted)throw new Ut;const i=await this.readFromStream(t.subarray(n),e);if(i===0)break;n+=i}if(!e&&n<t.length)throw new ve;return n}}class Lt extends ut{constructor(t){super(),this.reader=t}async abort(){return this.close()}async close(){this.reader.releaseLock()}}class Nt extends Lt{async readFromStream(t,e){if(t.length===0)return 0;const n=await this.reader.read(new Uint8Array(t.length),{min:e?void 0:t.length});return n.done&&(this.endOfStream=n.done),n.value?(t.set(n.value),n.value.length):0}}class nt extends ut{constructor(t){super(),this.reader=t,this.buffer=null}writeChunk(t,e){const n=Math.min(e.length,t.length);return t.set(e.subarray(0,n)),n<e.length?this.buffer=e.subarray(n):this.buffer=null,n}async readFromStream(t,e){if(t.length===0)return 0;let n=0;for(this.buffer&&(n+=this.writeChunk(t,this.buffer));n<t.length&&!this.endOfStream;){const i=await this.reader.read();if(i.done){this.endOfStream=!0;break}i.value&&(n+=this.writeChunk(t.subarray(n),i.value))}if(n===0&&this.endOfStream)throw new ve;return n}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}function jt(d){try{const t=d.getReader({mode:"byob"});return t instanceof ReadableStreamDefaultReader?new nt(t):new Nt(t)}catch(t){if(t instanceof TypeError)return new nt(d.getReader());throw t}}class ht{constructor(t){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=t==null?void 0:t.onClose,t!=null&&t.abortSignal&&t.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(t,e=this.position){const n=new Uint8Array(t.len);if(await this.readBuffer(n,{position:e})<t.len)throw new ve;return t.get(n,0)}async peekToken(t,e=this.position){const n=new Uint8Array(t.len);if(await this.peekBuffer(n,{position:e})<t.len)throw new ve;return t.get(n,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new ve;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new ve;return t.get(this.numBuffer,0)}async ignore(t){if(this.fileInfo.size!==void 0){const e=this.fileInfo.size-this.position;if(t>e)return this.position+=e,e}return this.position+=t,t}async close(){var t;await this.abort(),await((t=this.onClose)==null?void 0:t.call(this))}normalizeOptions(t,e){if(!this.supportsRandomAccess()&&e&&e.position!==void 0&&e.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return{mayBeLess:!1,offset:0,length:t.length,position:this.position,...e}}abort(){return Promise.resolve()}}const Pt=256e3;class Mt extends ht{constructor(t,e){super(e),this.streamReader=t,this.fileInfo=(e==null?void 0:e.fileInfo)??{}}async readBuffer(t,e){const n=this.normalizeOptions(t,e),i=n.position-this.position;if(i>0)return await this.ignore(i),this.readBuffer(t,e);if(i<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(n.length===0)return 0;const o=await this.streamReader.read(t.subarray(0,n.length),n.mayBeLess);if(this.position+=o,(!e||!e.mayBeLess)&&o<n.length)throw new ve;return o}async peekBuffer(t,e){const n=this.normalizeOptions(t,e);let i=0;if(n.position){const o=n.position-this.position;if(o>0){const f=new Uint8Array(n.length+o);return i=await this.peekBuffer(f,{mayBeLess:n.mayBeLess}),t.set(f.subarray(o)),i-o}if(o<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{i=await this.streamReader.peek(t.subarray(0,n.length),n.mayBeLess)}catch(o){if(e!=null&&e.mayBeLess&&o instanceof ve)return 0;throw o}if(!n.mayBeLess&&i<n.length)throw new ve}return i}async ignore(t){const e=Math.min(Pt,t),n=new Uint8Array(e);let i=0;for(;i<t;){const o=t-i,f=await this.readBuffer(n,{length:Math.min(e,o)});if(f<0)return f;i+=f}return i}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}class Wt extends ht{constructor(t,e){super(e),this.uint8Array=t,this.fileInfo={...(e==null?void 0:e.fileInfo)??{},size:t.length}}async readBuffer(t,e){e!=null&&e.position&&(this.position=e.position);const n=await this.peekBuffer(t,e);return this.position+=n,n}async peekBuffer(t,e){const n=this.normalizeOptions(t,e),i=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&i<n.length)throw new ve;return t.set(this.uint8Array.subarray(n.position,n.position+i)),i}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(t){this.position=t}}function Zt(d,t){const e=jt(d),n=t??{},i=n.onClose;return n.onClose=async()=>{if(await e.close(),i)return i()},new Mt(e,n)}function Ht(d,t){return new Wt(d,t)}var ge=Uint8Array,Ee=Uint16Array,qt=Int32Array,dt=new ge([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pt=new ge([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gt=new ge([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mt=function(d,t){for(var e=new Ee(31),n=0;n<31;++n)e[n]=t+=1<<d[n-1];for(var i=new qt(e[30]),n=1;n<30;++n)for(var o=e[n];o<e[n+1];++o)i[o]=o-e[n]<<5|n;return{b:e,r:i}},xt=mt(dt,2),gt=xt.b,Vt=xt.r;gt[28]=258,Vt[258]=28;var $t=mt(pt,0),Kt=$t.b,Je=new Ee(32768);for(var se=0;se<32768;++se){var ze=(se&43690)>>1|(se&21845)<<1;ze=(ze&52428)>>2|(ze&13107)<<2,ze=(ze&61680)>>4|(ze&3855)<<4,Je[se]=((ze&65280)>>8|(ze&255)<<8)>>1}var Oe=function(d,t,e){for(var n=d.length,i=0,o=new Ee(t);i<n;++i)d[i]&&++o[d[i]-1];var f=new Ee(t);for(i=1;i<t;++i)f[i]=f[i-1]+o[i-1]<<1;var s;if(e){s=new Ee(1<<t);var u=15-t;for(i=0;i<n;++i)if(d[i])for(var p=i<<4|d[i],g=t-d[i],l=f[d[i]-1]++<<g,x=l|(1<<g)-1;l<=x;++l)s[Je[l]>>u]=p}else for(s=new Ee(n),i=0;i<n;++i)d[i]&&(s[i]=Je[f[d[i]-1]++]>>15-d[i]);return s},De=new ge(288);for(var se=0;se<144;++se)De[se]=8;for(var se=144;se<256;++se)De[se]=9;for(var se=256;se<280;++se)De[se]=7;for(var se=280;se<288;++se)De[se]=8;var vt=new ge(32);for(var se=0;se<32;++se)vt[se]=5;var Yt=Oe(De,9,1),Xt=Oe(vt,5,1),qe=function(d){for(var t=d[0],e=1;e<d.length;++e)d[e]>t&&(t=d[e]);return t},be=function(d,t,e){var n=t/8|0;return(d[n]|d[n+1]<<8)>>(t&7)&e},Ge=function(d,t){var e=t/8|0;return(d[e]|d[e+1]<<8|d[e+2]<<16)>>(t&7)},Jt=function(d){return(d+7)/8|0},Qt=function(d,t,e){return(e==null||e>d.length)&&(e=d.length),new ge(d.subarray(t,e))},er=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xe=function(d,t,e){var n=new Error(t||er[d]);if(n.code=d,Error.captureStackTrace&&Error.captureStackTrace(n,xe),!e)throw n;return n},Qe=function(d,t,e,n){var i=d.length,o=0;if(!i||t.f&&!t.l)return e||new ge(0);var f=!e,s=f||t.i!=2,u=t.i;f&&(e=new ge(i*3));var p=function(oe){var me=e.length;if(oe>me){var de=new ge(Math.max(me*2,oe));de.set(e),e=de}},g=t.f||0,l=t.p||0,x=t.b||0,c=t.l,w=t.d,h=t.m,v=t.n,m=i*8;do{if(!c){g=be(d,l,1);var _=be(d,l+1,3);if(l+=3,_)if(_==1)c=Yt,w=Xt,h=9,v=5;else if(_==2){var L=be(d,l,31)+257,O=be(d,l+10,15)+4,W=L+be(d,l+5,31)+1;l+=14;for(var T=new ge(W),Z=new ge(19),K=0;K<O;++K)Z[Gt[K]]=be(d,l+K*3,7);l+=O*3;for(var k=qe(Z),D=(1<<k)-1,a=Oe(Z,k,1),K=0;K<W;){var U=a[be(d,l,D)];l+=U&15;var C=U>>4;if(C<16)T[K++]=C;else{var J=0,P=0;for(C==16?(P=3+be(d,l,3),l+=2,J=T[K-1]):C==17?(P=3+be(d,l,7),l+=3):C==18&&(P=11+be(d,l,127),l+=7);P--;)T[K++]=J}}var ee=T.subarray(0,L),M=T.subarray(L);h=qe(ee),v=qe(M),c=Oe(ee,h,1),w=Oe(M,v,1)}else xe(1);else{var C=Jt(l)+4,E=d[C-4]|d[C-3]<<8,z=C+E;if(z>i){u&&xe(0);break}s&&p(x+E),e.set(d.subarray(C,z),x),t.b=x+=E,t.p=l=z*8,t.f=g;continue}if(l>m){u&&xe(0);break}}s&&p(x+131072);for(var Q=(1<<h)-1,B=(1<<v)-1,F=l;;F=l){var J=c[Ge(d,l)&Q],Y=J>>4;if(l+=J&15,l>m){u&&xe(0);break}if(J||xe(2),Y<256)e[x++]=Y;else if(Y==256){F=l,c=null;break}else{var V=Y-254;if(Y>264){var K=Y-257,q=dt[K];V=be(d,l,(1<<q)-1)+gt[K],l+=q}var ae=w[Ge(d,l)&B],le=ae>>4;ae||xe(3),l+=ae&15;var M=Kt[le];if(le>3){var q=pt[le];M+=Ge(d,l)&(1<<q)-1,l+=q}if(l>m){u&&xe(0);break}s&&p(x+131072);var te=x+V;if(x<M){var ie=o-M,ue=Math.min(M,te);for(ie+x<0&&xe(3);x<ue;++x)e[x]=n[ie+x]}for(;x<te;++x)e[x]=e[x-M]}}t.l=c,t.p=F,t.b=x,t.f=g,c&&(g=1,t.m=h,t.d=w,t.n=v)}while(!g);return x!=e.length&&f?Qt(e,0,x):e.subarray(0,x)},tr=new ge(0),rr=function(d){(d[0]!=31||d[1]!=139||d[2]!=8)&&xe(6,"invalid gzip data");var t=d[3],e=10;t&4&&(e+=(d[10]|d[11]<<8)+2);for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!d[e++]);return e+(t&2)},ir=function(d){var t=d.length;return(d[t-4]|d[t-3]<<8|d[t-2]<<16|d[t-1]<<24)>>>0},nr=function(d,t){return((d[0]&15)!=8||d[0]>>4>7||(d[0]<<8|d[1])%31)&&xe(6,"invalid zlib data"),(d[1]>>5&1)==1&&xe(6,"invalid zlib data: "+(d[1]&32?"need":"unexpected")+" dictionary"),(d[1]>>3&4)+2};function ar(d,t){return Qe(d,{i:2},t,t)}function sr(d,t){var e=rr(d);return e+8>d.length&&xe(6,"invalid gzip data"),Qe(d.subarray(e,-8),{i:2},new ge(ir(d)),t)}function or(d,t){return Qe(d.subarray(nr(d),-4),{i:2},t,t)}function cr(d,t){return d[0]==31&&d[1]==139&&d[2]==8?sr(d,t):(d[0]&15)!=8||d[0]>>4>7||(d[0]<<8|d[1])%31?ar(d,t):or(d,t)}var fr=typeof TextDecoder<"u"&&new TextDecoder,lr=0;try{fr.decode(tr,{stream:!0}),lr=1}catch{}var Pe={exports:{}},Ve,at;function ur(){if(at)return Ve;at=1;var d=1e3,t=d*60,e=t*60,n=e*24,i=n*7,o=n*365.25;Ve=function(g,l){l=l||{};var x=typeof g;if(x==="string"&&g.length>0)return f(g);if(x==="number"&&isFinite(g))return l.long?u(g):s(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function f(g){if(g=String(g),!(g.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(l){var x=parseFloat(l[1]),c=(l[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return x*o;case"weeks":case"week":case"w":return x*i;case"days":case"day":case"d":return x*n;case"hours":case"hour":case"hrs":case"hr":case"h":return x*e;case"minutes":case"minute":case"mins":case"min":case"m":return x*t;case"seconds":case"second":case"secs":case"sec":case"s":return x*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return x;default:return}}}}function s(g){var l=Math.abs(g);return l>=n?Math.round(g/n)+"d":l>=e?Math.round(g/e)+"h":l>=t?Math.round(g/t)+"m":l>=d?Math.round(g/d)+"s":g+"ms"}function u(g){var l=Math.abs(g);return l>=n?p(g,l,n,"day"):l>=e?p(g,l,e,"hour"):l>=t?p(g,l,t,"minute"):l>=d?p(g,l,d,"second"):g+" ms"}function p(g,l,x,c){var w=l>=x*1.5;return Math.round(g/x)+" "+c+(w?"s":"")}return Ve}var $e,st;function hr(){if(st)return $e;st=1;function d(t){n.debug=n,n.default=n,n.coerce=p,n.disable=s,n.enable=o,n.enabled=u,n.humanize=ur(),n.destroy=g,Object.keys(t).forEach(l=>{n[l]=t[l]}),n.names=[],n.skips=[],n.formatters={};function e(l){let x=0;for(let c=0;c<l.length;c++)x=(x<<5)-x+l.charCodeAt(c),x|=0;return n.colors[Math.abs(x)%n.colors.length]}n.selectColor=e;function n(l){let x,c=null,w,h;function v(...m){if(!v.enabled)return;const _=v,C=Number(new Date),E=C-(x||C);_.diff=E,_.prev=x,_.curr=C,x=C,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let z=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(O,W)=>{if(O==="%%")return"%";z++;const T=n.formatters[W];if(typeof T=="function"){const Z=m[z];O=T.call(_,Z),m.splice(z,1),z--}return O}),n.formatArgs.call(_,m),(_.log||n.log).apply(_,m)}return v.namespace=l,v.useColors=n.useColors(),v.color=n.selectColor(l),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>c!==null?c:(w!==n.namespaces&&(w=n.namespaces,h=n.enabled(l)),h),set:m=>{c=m}}),typeof n.init=="function"&&n.init(v),v}function i(l,x){const c=n(this.namespace+(typeof x>"u"?":":x)+l);return c.log=this.log,c}function o(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];const x=(typeof l=="string"?l:"").trim().replace(" ",",").split(",").filter(Boolean);for(const c of x)c[0]==="-"?n.skips.push(c.slice(1)):n.names.push(c)}function f(l,x){let c=0,w=0,h=-1,v=0;for(;c<l.length;)if(w<x.length&&(x[w]===l[c]||x[w]==="*"))x[w]==="*"?(h=w,v=c,w++):(c++,w++);else if(h!==-1)w=h+1,v++,c=v;else return!1;for(;w<x.length&&x[w]==="*";)w++;return w===x.length}function s(){const l=[...n.names,...n.skips.map(x=>"-"+x)].join(",");return n.enable(""),l}function u(l){for(const x of n.skips)if(f(l,x))return!1;for(const x of n.names)if(f(l,x))return!0;return!1}function p(l){return l instanceof Error?l.stack||l.message:l}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return $e=d,$e}var ot;function dr(){return ot||(ot=1,function(d,t){var e={};t.formatArgs=i,t.save=o,t.load=f,t.useColors=n,t.storage=s(),t.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let p;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(p=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(p[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+d.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;p.splice(1,0,g,"color: inherit");let l=0,x=0;p[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(l++,c==="%c"&&(x=l))}),p.splice(x,0,g)}t.log=console.debug||console.log||(()=>{});function o(p){try{p?t.storage.setItem("debug",p):t.storage.removeItem("debug")}catch{}}function f(){let p;try{p=t.storage.getItem("debug")}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=e.DEBUG),p}function s(){try{return localStorage}catch{}}d.exports=hr()(t);const{formatters:u}=d.exports;u.j=function(p){try{return JSON.stringify(p)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}}(Pe,Pe.exports)),Pe.exports}var pr=dr();const mr=lt(pr),Ae={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},ct={get(d){return ce.get(d,6),{signature:he.get(d,0),compressedSize:he.get(d,8),uncompressedSize:he.get(d,12)}},len:16},xr={get(d){const t=ce.get(d,6);return{signature:he.get(d,0),minVersion:ce.get(d,4),dataDescriptor:!!(t&8),compressedMethod:ce.get(d,8),compressedSize:he.get(d,18),uncompressedSize:he.get(d,22),filenameLength:ce.get(d,26),extraFieldLength:ce.get(d,28),filename:null}},len:30},gr={get(d){return{signature:he.get(d,0),nrOfThisDisk:ce.get(d,4),nrOfThisDiskWithTheStart:ce.get(d,6),nrOfEntriesOnThisDisk:ce.get(d,8),nrOfEntriesOfSize:ce.get(d,10),sizeOfCd:he.get(d,12),offsetOfStartOfCd:he.get(d,16),zipFileCommentLength:ce.get(d,20)}},len:22},vr={get(d){const t=ce.get(d,8);return{signature:he.get(d,0),minVersion:ce.get(d,6),dataDescriptor:!!(t&8),compressedMethod:ce.get(d,10),compressedSize:he.get(d,20),uncompressedSize:he.get(d,24),filenameLength:ce.get(d,28),extraFieldLength:ce.get(d,30),fileCommentLength:ce.get(d,32),relativeOffsetOfLocalHeader:he.get(d,42),filename:null}},len:46};function wt(d){const t=new Uint8Array(he.len);return he.put(t,0,d),t}const _e=mr("tokenizer:inflate"),Ke=256*1024,wr=wt(Ae.DataDescriptor),Me=wt(Ae.EndOfCentralDirectory);class br{constructor(t){this.tokenizer=t,this.syncBuffer=new Uint8Array(Ke)}async isZip(){return await this.peekSignature()===Ae.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(he)}async findEndOfCentralDirectoryLocator(){const t=this.tokenizer,e=Math.min(16*1024,t.fileInfo.size),n=this.syncBuffer.subarray(0,e);await this.tokenizer.readBuffer(n,{position:t.fileInfo.size-e});for(let i=n.length-4;i>=0;i--)if(n[i]===Me[0]&&n[i+1]===Me[1]&&n[i+2]===Me[2]&&n[i+3]===Me[3])return t.fileInfo.size-e+i;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){_e("Cannot reading central-directory without random-read support");return}_e("Reading central-directory...");const t=this.tokenizer.position,e=await this.findEndOfCentralDirectoryLocator();if(e>0){_e("Central-directory 32-bit signature found");const n=await this.tokenizer.readToken(gr,e),i=[];this.tokenizer.setPosition(n.offsetOfStartOfCd);for(let o=0;o<n.nrOfEntriesOfSize;++o){const f=await this.tokenizer.readToken(vr);if(f.signature!==Ae.CentralFileHeader)throw new Error("Expected Central-File-Header signature");f.filename=await this.tokenizer.readToken(new Se(f.filenameLength,"utf-8")),await this.tokenizer.ignore(f.extraFieldLength),await this.tokenizer.ignore(f.fileCommentLength),i.push(f),_e(`Add central-directory file-entry: n=${o+1}/${i.length}: filename=${i[o].filename}`)}return this.tokenizer.setPosition(t),i}this.tokenizer.setPosition(t)}async unzip(t){const e=await this.readCentralDirectory();if(e)return this.iterateOverCentralDirectory(e,t);let n=!1;do{const i=await this.readLocalFileHeader();if(!i)break;const o=t(i);n=!!o.stop;let f;if(await this.tokenizer.ignore(i.extraFieldLength),i.dataDescriptor&&i.compressedSize===0){const s=[];let u=Ke;_e("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let p=-1;for(;p<0&&u===Ke;){u=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),p=yr(this.syncBuffer.subarray(0,u),wr);const g=p>=0?p:u;if(o.handler){const l=new Uint8Array(g);await this.tokenizer.readBuffer(l),s.push(l)}else await this.tokenizer.ignore(g)}_e(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),o.handler&&await this.inflate(i,_r(s),o.handler)}else o.handler?(_e(`Reading compressed-file-data: ${i.compressedSize} bytes`),f=new Uint8Array(i.compressedSize),await this.tokenizer.readBuffer(f),await this.inflate(i,f,o.handler)):(_e(`Ignoring compressed-file-data: ${i.compressedSize} bytes`),await this.tokenizer.ignore(i.compressedSize));if(_e(`Reading data-descriptor at pos=${this.tokenizer.position}`),i.dataDescriptor&&(await this.tokenizer.readToken(ct)).signature!==134695760)throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-ct.len}`)}while(!n)}async iterateOverCentralDirectory(t,e){for(const n of t){const i=e(n);if(i.handler){this.tokenizer.setPosition(n.relativeOffsetOfLocalHeader);const o=await this.readLocalFileHeader();if(o){await this.tokenizer.ignore(o.extraFieldLength);const f=new Uint8Array(n.compressedSize);await this.tokenizer.readBuffer(f),await this.inflate(o,f,i.handler)}}if(i.stop)break}}inflate(t,e,n){if(t.compressedMethod===0)return n(e);_e(`Decompress filename=${t.filename}, compressed-size=${e.length}`);const i=cr(e);return n(i)}async readLocalFileHeader(){const t=await this.tokenizer.peekToken(he);if(t===Ae.LocalFileHeader){const e=await this.tokenizer.readToken(xr);return e.filename=await this.tokenizer.readToken(new Se(e.filenameLength,"utf-8")),e}if(t===Ae.CentralFileHeader)return!1;throw t===3759263696?new Error("Encrypted ZIP"):new Error("Unexpected signature")}}function yr(d,t){const e=d.length,n=t.length;if(n>e)return-1;for(let i=0;i<=e-n;i++){let o=!0;for(let f=0;f<n;f++)if(d[i+f]!==t[f]){o=!1;break}if(o)return i}return-1}function _r(d){const t=d.reduce((i,o)=>i+o.length,0),e=new Uint8Array(t);let n=0;for(const i of d)e.set(i,n),n+=i.length;return e}new globalThis.TextDecoder("utf8");new globalThis.TextEncoder;Array.from({length:256},(d,t)=>t.toString(16).padStart(2,"0"));function ft(d){const{byteLength:t}=d;if(t===6)return d.getUint16(0)*2**32+d.getUint32(2);if(t===5)return d.getUint8(0)*2**32+d.getUint32(1);if(t===4)return d.getUint32(0);if(t===3)return d.getUint8(0)*2**16+d.getUint16(1);if(t===2)return d.getUint16(0);if(t===1)return d.getUint8(0)}function kr(d,t){const e=d.length,n=t.length;if(n===0||n>e)return-1;const i=e-n;for(let o=0;o<=i;o++){let f=!0;for(let s=0;s<n;s++)if(d[o+s]!==t[s]){f=!1;break}if(f)return o}return-1}function Cr(d,t){return kr(d,t)!==-1}function Sr(d){return[...d].map(t=>t.charCodeAt(0))}function zr(d,t=0){const e=Number.parseInt(new Se(6).get(d,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(e))return!1;let n=8*32;for(let i=t;i<t+148;i++)n+=d[i];for(let i=t+156;i<t+512;i++)n+=d[i];return e===n}const Er={get:(d,t)=>d[t+3]&127|d[t+2]<<7|d[t+1]<<14|d[t]<<21,len:4},Ar=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","rm"],Fr=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/x-parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/java-archive","application/vnd.rn-realmedia"],Ye=4100;async function Br(d){return new Ir().fromBlob(d)}function Xe(d){switch(d){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:"application/vnd.oasis.opendocument.text-template"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:"application/vnd.oasis.opendocument.spreadsheet-template"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:"application/vnd.oasis.opendocument.presentation-template"};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:"application/vnd.oasis.opendocument.graphics"};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:"application/vnd.oasis.opendocument.graphics-template"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"application/vnd.ms-excel.sheet.macroEnabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroEnabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.template"};case"application/vnd.ms-excel.template.macroEnabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"application/vnd.ms-word.document.macroEnabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroEnabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.template"};case"application/vnd.ms-word.template.macroEnabledTemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroEnabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:"application/vnd.openxmlformats-officedocument.presentationml.template"};case"application/vnd.ms-powerpoint.template.macroEnabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroEnabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"application/vnd.ms-powerpoint.presentation.macroEnabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroEnabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"}}}function ke(d,t,e){e={offset:0,...e};for(const[n,i]of t.entries())if(e.mask){if(i!==(e.mask[n]&d[n+e.offset]))return!1}else if(i!==d[n+e.offset])return!1;return!0}class Ir{constructor(t){Ze(this,"detectConfident",async t=>{if(this.buffer=new Uint8Array(Ye),t.fileInfo.size===void 0&&(t.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=t,await t.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await t.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(t);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await t.ignore(6);const e=await t.readToken(Er);return t.position+e>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(e),this.fromTokenizer(t))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let e;return await new br(t).unzip(n=>{switch(n.filename){case"META-INF/mozilla.rsa":return e={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return e={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(i){const o=new TextDecoder("utf-8").decode(i).trim();e=Xe(o)},stop:!0};case"[Content_Types].xml":return{async handler(i){let o=new TextDecoder("utf-8").decode(i);const f=o.indexOf('.main+xml"');if(f===-1){const s="application/vnd.ms-package.3dmanufacturing-3dmodel+xml";o.includes(`ContentType="${s}"`)&&(e=Xe(s))}else{o=o.slice(0,Math.max(0,f));const s=o.lastIndexOf('"'),u=o.slice(Math.max(0,s+1));e=Xe(u)}},stop:!0};default:return/classes\d*\.dex/.test(n.filename)?(e={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0}):{}}}),e??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await t.ignore(28);const e=new Uint8Array(8);return await t.readBuffer(e),ke(e,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/ogg; codecs=opus"}:ke(e,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:ke(e,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:ke(e,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:ke(e,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:ke(e,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{if(await t.ignore(1350)===1350){const i=new Uint8Array(Math.min(10485760,t.fileInfo.size-1350));if(await t.readBuffer(i,{mayBeLess:!0}),Cr(i,new TextEncoder().encode("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}}catch(e){if(!(e instanceof ve))throw e}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const e=await this.readTiffHeader(!1);if(e)return e}if(this.check([77,77])){const e=await this.readTiffHeader(!0);if(e)return e}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function e(){const s=await t.peekNumber(It);let u=128,p=0;for(;(s&u)===0&&u!==0;)++p,u>>=1;const g=new Uint8Array(p+1);return await t.readBuffer(g),g}async function n(){const s=await e(),u=await e();u[0]^=128>>u.length-1;const p=Math.min(6,u.length),g=new DataView(s.buffer),l=new DataView(u.buffer,u.length-p,p);return{id:ft(g),len:ft(l)}}async function i(s){for(;s>0;){const u=await n();if(u.id===17026)return(await t.readToken(new Se(u.len))).replaceAll(/\00.*$/g,"");await t.ignore(u.len),--s}}const o=await n();switch(await i(o.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const e=new Se(4,"latin1").get(this.buffer,2);if(e.match("^d*")&&e>=1e3&&e<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await t.ignore(8),await t.readToken(new Se(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&[`
`,"\r","	"," ","\0"].some(e=>this.checkString(e,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await t.ignore(8);async function e(){return{length:await t.readToken(Ot),type:await t.readToken(new Se(4,"latin1"))}}do{const n=await e();if(n.length<0)return;switch(n.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(n.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){const e=new Se(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(e){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function e(){const n=new Uint8Array(16);return await t.readBuffer(n),{id:n,size:Number(await t.readToken(Dt))}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){const n=await e();let i=n.size-24;if(ke(n.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const o=new Uint8Array(16);if(i-=await t.readBuffer(o),ke(o,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(ke(o,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(i)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await t.ignore(20),await t.readToken(new Se(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(this.buffer,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const e=new DataView(this.buffer.buffer).getUint32(12,!0);if(e>12&&this.buffer.length>=e+16)try{const n=new TextDecoder().decode(this.buffer.slice(16,e+16));if(JSON.parse(n).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await t.peekBuffer(this.buffer,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),zr(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}});Ze(this,"detectImprecise",async t=>{if(this.buffer=new Uint8Array(Ye),await t.peekBuffer(this.buffer,{length:Math.min(8,t.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}});this.detectors=[...(t==null?void 0:t.customDetectors)??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:t==null?void 0:t.signal}}async fromTokenizer(t){const e=t.position;for(const n of this.detectors){const i=await n.detect(t);if(i)return i;if(e!==t.position)return}}async fromBuffer(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Uint8Array?t:new Uint8Array(t);if((e==null?void 0:e.length)>1)return this.fromTokenizer(Ht(e,this.tokenizerOptions))}async fromBlob(t){return this.fromStream(t.stream())}async fromStream(t){const e=await Zt(t,this.tokenizerOptions);try{return await this.fromTokenizer(e)}finally{await e.close()}}async toDetectionStream(t,e){const{sampleSize:n=Ye}=e;let i,o;const f=t.getReader({mode:"byob"});try{const{value:p,done:g}=await f.read(new Uint8Array(n));if(o=p,!g&&p)try{i=await this.fromBuffer(p.slice(0,n))}catch(l){if(!(l instanceof ve))throw l;i=void 0}o=p}finally{f.releaseLock()}const s=new TransformStream({async start(p){p.enqueue(o)},transform(p,g){g.enqueue(p)}}),u=t.pipeThrough(s);return u.fileType=i,u}check(t,e){return ke(this.buffer,t,e)}checkString(t,e){return this.check(Sr(t),e)}async readTiffTag(t){const e=await this.tokenizer.readToken(t?Te:ce);switch(this.tokenizer.ignore(10),e){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(t){const e=await this.tokenizer.readToken(t?Te:ce);for(let n=0;n<e;++n){const i=await this.readTiffTag(t);if(i)return i}}async readTiffHeader(t){const e=(t?Te:ce).get(this.buffer,2),n=(t?Tt:he).get(this.buffer,4);if(e===42){if(n>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n>=8){const o=(t?Te:ce).get(this.buffer,8),f=(t?Te:ce).get(this.buffer,10);if(o===28&&f===254||o===31&&f===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(n),await this.readTiffIFD(t)??{ext:"tif",mime:"image/tiff"}}if(e===43)return{ext:"tif",mime:"image/tiff"}}}new Set(Ar);new Set(Fr);async function Tr(d,t,e,n,i){const o=await Ur(t,i);(await Br(o)).ext;const s=await Or(e),u=await Dr(s),p=new Map;p.set("boothThumbnail.ico",u),p.set(n,o),p.set("desktop.ini",`[.ShellClassInfo]
IconResource=boothThumbnail.ico,0
[ViewState]
Mode=
Vid=
FolderType=Generic`),p.set("setIcon.bat",`@echo off
setlocal
set "folder=%~dp0"
set "folder=%folder:~0,-1%"
echo target folder: %folder%
attrib +s +r "%folder%"
attrib +h +s "%folder%desktop.ini"`);const g=await Lr(p);chrome.runtime.sendMessage({action:"downloadZip",blobUrl:URL.createObjectURL(g),filename:d+".zip"})}async function Or(d){return new Promise((t,e)=>{chrome.runtime.sendMessage({action:"fetchThumbnail",url:d},n=>{if(n&&n.data){const i=new Uint8Array(n.data),o=new Blob([i]);t(o)}else e(new Error("商品データの取得に失敗しました"))})})}async function Dr(d){try{const t=document.createElement("canvas"),e=t.getContext("2d"),n=256;t.width=n,t.height=n,await new Promise((s,u)=>{const p=new Image;p.onload=()=>{e.drawImage(p,0,0,n,n),URL.revokeObjectURL(p.src),s()},p.onerror=g=>u(new Error(`画像の読み込みに失敗: ${g}`)),p.src=URL.createObjectURL(d)});const i=await new Promise((s,u)=>{t.toBlob(p=>{p?s(p):u(new Error("PNG blob生成に失敗"))},"image/png")});return await new zt().convertToBlobAsync([{png:i}])}catch(t){throw console.error("ICO変換エラー:",t),t}}function Rr(d){const t=d.reduce((i,o)=>i+o.length,0),e=new Uint8Array(t);let n=0;for(const i of d)e.set(i,n),n+=i.length;return e}async function Ur(d,t){return new Promise((e,n)=>{const i=[];let o=0,f="application/zip";const s=u=>{if(u.action==="receiveChunk"){console.log(`チャンク受信: ${u.chunkIndex+1}/${u.totalChunks}`);const p=u.dataUrl.split(",")[0];console.log("prefix : ",p);const g=u.dataUrl.split(",")[1],l=atob(g),x=new Array(l.length);for(let w=0;w<l.length;w++)x[w]=l.charCodeAt(w);const c=new Uint8Array(x);if(i[u.chunkIndex]=c,i.filter(Boolean).length===o){const w=Rr(i);console.log("saving as type : ",f);const h=new Blob([w],{type:f});chrome.runtime.onMessage.removeListener(s),e(h)}}};chrome.runtime.onMessage.addListener(s),chrome.runtime.sendMessage({action:"fetchItem",url:d,progressBarId:t},u=>{if(chrome.runtime.lastError){chrome.runtime.onMessage.removeListener(s),n(new Error("メッセージ送信エラー: "+chrome.runtime.lastError.message));return}if(u.error){chrome.runtime.onMessage.removeListener(s),n(new Error(u.error));return}u.status==="start"&&(console.log(`ダウンロード開始: 合計${u.totalChunks}チャンク, ${u.totalSize}バイト`),o=u.totalChunks,f=u.type||f,console.log("filetype : ",f))})})}async function Lr(d){const t=new Ft;for(const[e,n]of d)t.file(e,n);return t.generateAsync({type:"blob"})}function Nr(d){return d.replace(/[\\/:*?"<>|]/g,"_")}function jr(){const d=document.createElement("button");return d.classList.add("text-wrap"),d.textContent="ダウンロード(サムネ付)",d.className="btn btn-outline-primary btn-sm",d}function Pr(){const d=document.createElement("div");d.style.visibility="hidden",d.className="progress",d.style.height="20px",d.style.borderRadius="10px",d.id=crypto.randomUUID();const t=document.createElement("div");t.className="progress-bar",t.ariaValueMax="100",t.ariaValueMin="0",t.style.width="0%",t.style.backgroundColor="#fc4d50",t.style.borderRadius="10px",t.textContent="",d.appendChild(t);const e=n=>{if(n.action==="receiveChunk"&&n.progressBarId===d.id){const i=Math.round(100*((n.chunkIndex+1)/n.totalChunks));t.textContent=`${i}%`,t.style.width=`${i}%`}};return chrome.runtime.onMessage.addListener(e),d}async function Mr(){const d=document.createElement("link");d.rel="stylesheet",d.href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css",document.head.appendChild(d);const t=document.querySelectorAll(".mb-16");for(productItemElement of t){let e="unknownShopName",n="unknownItemName";const i=productItemElement.querySelector(".l-library-item-thumbnail").src;e=productItemElement.querySelector(".text-text-gray600").textContent.trim().replace(/\s+/g," "),n=productItemElement.querySelector(".text-text-default").textContent.trim().replace(/\s+/g," ");const s=productItemElement.querySelector(".mt-16").children;for(assetContainerElement of s){const u=assetContainerElement.querySelector(".typography-14").textContent,p=assetContainerElement.querySelector("a").href,g=Nr(`${e}_${n}`),l=document.createElement("div"),x=jr(),c=Pr();x.addEventListener("click",async()=>{if(x.textContent="Loading...",c.style.visibility="visible",x.disabled=!0,console.log("click!"),console.log("ファイル名:",g),!p){console.error("ダウンロードURLが取得できていません");return}try{await Tr(g,p,i,u,c.id),x.textContent="ダウンロード(サムネ付)"}catch(w){console.error("Zipアーカイブの作成またはダウンロード中にエラーが発生しました:",w),x.textContent="ERROR!"}finally{x.disabled=!1;const w=c.querySelector(".progress-bar");w.style.width="0%",w.textContent="",c.style.visibility="hidden"}}),l.appendChild(x),l.appendChild(c),assetContainerElement.appendChild(l)}}}Mr();
