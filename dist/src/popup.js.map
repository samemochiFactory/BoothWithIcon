{"version":3,"file":"popup.js","sources":["../../src/popup.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', async () => {\r\n    // 設定を読み込む\r\n    chrome.storage.local.get(['namingRules', 'includeIcon'], (result) => {\r\n        const namingRules = result.namingRules || [];\r\n        if (namingRules.length === 0) {\r\n            namingRules = ['ファイル名']; // デフォルトで「ファイル名」を設定\r\n            // このデフォルト値をストレージにも保存する（任意だが、次回読み込み時の一貫性のため推奨）\r\n            chrome.storage.local.set({ namingRules });\r\n        }\r\n        document.getElementById('namingRuleShopProduct').checked = namingRules.includes('ショップ名');\r\n        document.getElementById('namingRuleProductName').checked = namingRules.includes('商品名');\r\n        document.getElementById('namingRuleFileName').checked = namingRules.includes('ファイル名');\r\n    });\r\n\r\n    // 変更イベントで保存\r\n    document.querySelectorAll('input[type=\"checkbox\"]').forEach(checkbox => {\r\n        checkbox.addEventListener('change', () => {\r\n            const namingRules = [];\r\n            if (document.getElementById('namingRuleShopProduct').checked) namingRules.push('ショップ名');\r\n            if (document.getElementById('namingRuleProductName').checked) namingRules.push('商品名');\r\n            if (document.getElementById('namingRuleFileName').checked) namingRules.push('ファイル名');\r\n            if (namingRules.length === 0) {\r\n                namingRules.push('ファイル名');\r\n                document.getElementById('namingRuleFileName').checked = true; // UIにも反映\r\n            }\r\n            chrome.storage.local.set({\r\n                namingRules\r\n            });\r\n        });\r\n    });\r\n});\r\ndocument.getElementById('applySettingsBtn').addEventListener('click', () => {\r\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n        if (tabs[0]?.id) {\r\n            chrome.tabs.reload(tabs[0].id); // アクティブなタブをリロード\r\n        }\r\n    });\r\n});"],"names":["document","addEventListener","async","chrome","storage","local","get","result","namingRules","length","set","getElementById","checked","includes","querySelectorAll","forEach","checkbox","push","tabs","query","active","currentWindow","_a","id","reload"],"mappings":"AAAAA,SAASC,iBAAiB,oBAAoBC,UAEnCC,OAAAC,QAAQC,MAAMC,IAAI,CAAC,cAAe,gBAAiBC,IAChD,MAAAC,EAAcD,EAAOC,aAAe,GACf,IAAvBA,EAAYC,SACZD,EAAc,CAAC,SAEfL,OAAOC,QAAQC,MAAMK,IAAI,CAAEF,iBAE/BR,SAASW,eAAe,yBAAyBC,QAAUJ,EAAYK,SAAS,SAChFb,SAASW,eAAe,yBAAyBC,QAAUJ,EAAYK,SAAS,OAChFb,SAASW,eAAe,sBAAsBC,QAAUJ,EAAYK,SAAS,YAIjFb,SAASc,iBAAiB,0BAA0BC,SAAoBC,IAC3DA,EAAAf,iBAAiB,UAAU,KAChC,MAAMO,EAAc,GAChBR,SAASW,eAAe,yBAAyBC,SAASJ,EAAYS,KAAK,SAC3EjB,SAASW,eAAe,yBAAyBC,SAASJ,EAAYS,KAAK,OAC3EjB,SAASW,eAAe,sBAAsBC,SAASJ,EAAYS,KAAK,SACjD,IAAvBT,EAAYC,SACZD,EAAYS,KAAK,SACRjB,SAAAW,eAAe,sBAAsBC,SAAU,GAErDT,OAAAC,QAAQC,MAAMK,IAAI,CACrBF,yBAKhBR,SAASW,eAAe,oBAAoBV,iBAAiB,SAAS,KAC3DE,OAAAe,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,IAASH,IAhC9D,IAAAI,GAiCY,OAAAA,EAAKJ,EAAA,SAAL,EAAAI,EAASC,KACTpB,OAAOe,KAAKM,OAAON,EAAK,GAAGK"}