var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xr(z){return z&&z.__esModule&&Object.prototype.hasOwnProperty.call(z,"default")?z.default:z}function br(z){if(Object.prototype.hasOwnProperty.call(z,"__esModule"))return z;var Z=z.default;if(typeof Z=="function"){var x=function b(){return this instanceof b?Reflect.construct(Z,arguments,this.constructor):Z.apply(this,arguments)};x.prototype=Z.prototype}else x={};return Object.defineProperty(x,"__esModule",{value:!0}),Object.keys(z).forEach(function(b){var c=Object.getOwnPropertyDescriptor(z,b);Object.defineProperty(x,b,c.get?c:{enumerable:!0,get:function(){return z[b]}})}),x}function Dt(z){throw new Error('Could not dynamically require "'+z+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Oe;function kr(){return Oe||(Oe=1,function(z,Z){(function(x){z.exports=x()})(function(){return function x(b,c,u){function n(d,p){if(!c[d]){if(!b[d]){var _=typeof Dt=="function"&&Dt;if(!p&&_)return _(d,!0);if(r)return r(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var o=c[d]={exports:{}};b[d][0].call(o.exports,function(y){var f=b[d][1][y];return n(f||y)},o,o.exports,x,b,c,u)}return c[d].exports}for(var r=typeof Dt=="function"&&Dt,s=0;s<u.length;s++)n(u[s]);return n}({1:[function(x,b,c){var u=x("./utils"),n=x("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(s){for(var d,p,_,v,o,y,f,w=[],m=0,g=s.length,A=g,I=u.getTypeOf(s)!=="string";m<s.length;)A=g-m,_=I?(d=s[m++],p=m<g?s[m++]:0,m<g?s[m++]:0):(d=s.charCodeAt(m++),p=m<g?s.charCodeAt(m++):0,m<g?s.charCodeAt(m++):0),v=d>>2,o=(3&d)<<4|p>>4,y=1<A?(15&p)<<2|_>>6:64,f=2<A?63&_:64,w.push(r.charAt(v)+r.charAt(o)+r.charAt(y)+r.charAt(f));return w.join("")},c.decode=function(s){var d,p,_,v,o,y,f=0,w=0,m="data:";if(s.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var g,A=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===r.charAt(64)&&A--,s.charAt(s.length-2)===r.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=n.uint8array?new Uint8Array(0|A):new Array(0|A);f<s.length;)d=r.indexOf(s.charAt(f++))<<2|(v=r.indexOf(s.charAt(f++)))>>4,p=(15&v)<<4|(o=r.indexOf(s.charAt(f++)))>>2,_=(3&o)<<6|(y=r.indexOf(s.charAt(f++))),g[w++]=d,o!==64&&(g[w++]=p),y!==64&&(g[w++]=_);return g}},{"./support":30,"./utils":32}],2:[function(x,b,c){var u=x("./external"),n=x("./stream/DataWorker"),r=x("./stream/Crc32Probe"),s=x("./stream/DataLengthProbe");function d(p,_,v,o,y){this.compressedSize=p,this.uncompressedSize=_,this.crc32=v,this.compression=o,this.compressedContent=y}d.prototype={getContentWorker:function(){var p=new n(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),_=this;return p.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new n(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(p,_,v){return p.pipe(new r).pipe(new s("uncompressedSize")).pipe(_.compressWorker(v)).pipe(new s("compressedSize")).withStreamInfo("compression",_)},b.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(x,b,c){var u=x("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},c.DEFLATE=x("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(x,b,c){var u=x("./utils"),n=function(){for(var r,s=[],d=0;d<256;d++){r=d;for(var p=0;p<8;p++)r=1&r?3988292384^r>>>1:r>>>1;s[d]=r}return s}();b.exports=function(r,s){return r!==void 0&&r.length?u.getTypeOf(r)!=="string"?function(d,p,_,v){var o=n,y=v+_;d^=-1;for(var f=v;f<y;f++)d=d>>>8^o[255&(d^p[f])];return-1^d}(0|s,r,r.length,0):function(d,p,_,v){var o=n,y=v+_;d^=-1;for(var f=v;f<y;f++)d=d>>>8^o[255&(d^p.charCodeAt(f))];return-1^d}(0|s,r,r.length,0):0}},{"./utils":32}],5:[function(x,b,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(x,b,c){var u=null;u=typeof Promise<"u"?Promise:x("lie"),b.exports={Promise:u}},{lie:37}],7:[function(x,b,c){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",n=x("pako"),r=x("./utils"),s=x("./stream/GenericWorker"),d=u?"uint8array":"array";function p(_,v){s.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=v,this.meta={}}c.magic="\b\0",r.inherits(p,s),p.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(d,_.data),!1)},p.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(v){_.push({data:v,meta:_.meta})}},c.compressWorker=function(_){return new p("Deflate",_)},c.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(x,b,c){function u(o,y){var f,w="";for(f=0;f<y;f++)w+=String.fromCharCode(255&o),o>>>=8;return w}function n(o,y,f,w,m,g){var A,I,S=o.file,O=o.compression,P=g!==d.utf8encode,F=r.transformTo("string",g(S.name)),U=r.transformTo("string",d.utf8encode(S.name)),j=S.comment,J=r.transformTo("string",g(j)),C=r.transformTo("string",d.utf8encode(j)),D=U.length!==S.name.length,h=C.length!==j.length,Y="",nt="",V="",tt=S.dir,q=S.date,$={crc32:0,compressedSize:0,uncompressedSize:0};y&&!f||($.crc32=o.crc32,$.compressedSize=o.compressedSize,$.uncompressedSize=o.uncompressedSize);var L=0;y&&(L|=8),P||!D&&!h||(L|=2048);var R=0,Q=0;tt&&(R|=16),m==="UNIX"?(Q=798,R|=function(N,it){var ut=N;return N||(ut=it?16893:33204),(65535&ut)<<16}(S.unixPermissions,tt)):(Q=20,R|=function(N){return 63&(N||0)}(S.dosPermissions)),A=q.getUTCHours(),A<<=6,A|=q.getUTCMinutes(),A<<=5,A|=q.getUTCSeconds()/2,I=q.getUTCFullYear()-1980,I<<=4,I|=q.getUTCMonth()+1,I<<=5,I|=q.getUTCDate(),D&&(nt=u(1,1)+u(p(F),4)+U,Y+="up"+u(nt.length,2)+nt),h&&(V=u(1,1)+u(p(J),4)+C,Y+="uc"+u(V.length,2)+V);var X="";return X+=`
\0`,X+=u(L,2),X+=O.magic,X+=u(A,2),X+=u(I,2),X+=u($.crc32,4),X+=u($.compressedSize,4),X+=u($.uncompressedSize,4),X+=u(F.length,2),X+=u(Y.length,2),{fileRecord:_.LOCAL_FILE_HEADER+X+F+Y,dirRecord:_.CENTRAL_FILE_HEADER+u(Q,2)+X+u(J.length,2)+"\0\0\0\0"+u(R,4)+u(w,4)+F+Y+J}}var r=x("../utils"),s=x("../stream/GenericWorker"),d=x("../utf8"),p=x("../crc32"),_=x("../signature");function v(o,y,f,w){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=f,this.encodeFileName=w,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(v,s),v.prototype.push=function(o){var y=o.meta.percent||0,f=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,s.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:f?(y+100*(f-w-1))/f:100}}))},v.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var y=this.streamFiles&&!o.file.dir;if(y){var f=n(o,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(o){this.accumulate=!1;var y=this.streamFiles&&!o.file.dir,f=n(o,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),y)this.push({data:function(w){return _.DATA_DESCRIPTOR+u(w.crc32,4)+u(w.compressedSize,4)+u(w.uncompressedSize,4)}(o),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var o=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var f=this.bytesWritten-o,w=function(m,g,A,I,S){var O=r.transformTo("string",S(I));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(m,2)+u(m,2)+u(g,4)+u(A,4)+u(O.length,2)+O}(this.dirRecords.length,f,o,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(o){this._sources.push(o);var y=this;return o.on("data",function(f){y.processChunk(f)}),o.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),o.on("error",function(f){y.error(f)}),this},v.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(o){var y=this._sources;if(!s.prototype.error.call(this,o))return!1;for(var f=0;f<y.length;f++)try{y[f].error(o)}catch{}return!0},v.prototype.lock=function(){s.prototype.lock.call(this);for(var o=this._sources,y=0;y<o.length;y++)o[y].lock()},b.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(x,b,c){var u=x("../compressions"),n=x("./ZipFileWorker");c.generateWorker=function(r,s,d){var p=new n(s.streamFiles,d,s.platform,s.encodeFileName),_=0;try{r.forEach(function(v,o){_++;var y=function(g,A){var I=g||A,S=u[I];if(!S)throw new Error(I+" is not a valid compression method !");return S}(o.options.compression,s.compression),f=o.options.compressionOptions||s.compressionOptions||{},w=o.dir,m=o.date;o._compressWorker(y,f).withStreamInfo("file",{name:v,dir:w,date:m,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(p)}),p.entriesCount=_}catch(v){p.error(v)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(x,b,c){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new u;for(var r in this)typeof this[r]!="function"&&(n[r]=this[r]);return n}}(u.prototype=x("./object")).loadAsync=x("./load"),u.support=x("./support"),u.defaults=x("./defaults"),u.version="3.10.1",u.loadAsync=function(n,r){return new u().loadAsync(n,r)},u.external=x("./external"),b.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(x,b,c){var u=x("./utils"),n=x("./external"),r=x("./utf8"),s=x("./zipEntries"),d=x("./stream/Crc32Probe"),p=x("./nodejsUtils");function _(v){return new n.Promise(function(o,y){var f=v.decompressed.getContentWorker().pipe(new d);f.on("error",function(w){y(w)}).on("end",function(){f.streamInfo.crc32!==v.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}b.exports=function(v,o){var y=this;return o=u.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),p.isNode&&p.isStream(v)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",v,!0,o.optimizedBinaryString,o.base64).then(function(f){var w=new s(o);return w.load(f),w}).then(function(f){var w=[n.Promise.resolve(f)],m=f.files;if(o.checkCRC32)for(var g=0;g<m.length;g++)w.push(_(m[g]));return n.Promise.all(w)}).then(function(f){for(var w=f.shift(),m=w.files,g=0;g<m.length;g++){var A=m[g],I=A.fileNameStr,S=u.resolve(A.fileNameStr);y.file(S,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:o.createFolders}),A.dir||(y.file(S).unsafeOriginalName=I)}return w.zipComment.length&&(y.comment=w.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(x,b,c){var u=x("../utils"),n=x("../stream/GenericWorker");function r(s,d){n.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(d)}u.inherits(r,n),r.prototype._bindStream=function(s){var d=this;(this._stream=s).pause(),s.on("data",function(p){d.push({data:p,meta:{percent:0}})}).on("error",function(p){d.isPaused?this.generatedError=p:d.error(p)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},r.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(x,b,c){var u=x("readable-stream").Readable;function n(r,s,d){u.call(this,s),this._helper=r;var p=this;r.on("data",function(_,v){p.push(_)||p._helper.pause(),d&&d(v)}).on("error",function(_){p.emit("error",_)}).on("end",function(){p.push(null)})}x("../utils").inherits(n,u),n.prototype._read=function(){this._helper.resume()},b.exports=n},{"../utils":32,"readable-stream":16}],14:[function(x,b,c){b.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,n);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,n)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var n=new Buffer(u);return n.fill(0),n},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(x,b,c){function u(S,O,P){var F,U=r.getTypeOf(O),j=r.extend(P||{},p);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(S=m(S)),j.createFolders&&(F=w(S))&&g.call(this,F,!0);var J=U==="string"&&j.binary===!1&&j.base64===!1;P&&P.binary!==void 0||(j.binary=!J),(O instanceof _&&O.uncompressedSize===0||j.dir||!O||O.length===0)&&(j.base64=!1,j.binary=!0,O="",j.compression="STORE",U="string");var C=null;C=O instanceof _||O instanceof s?O:y.isNode&&y.isStream(O)?new f(S,O):r.prepareContent(S,O,j.binary,j.optimizedBinaryString,j.base64);var D=new v(S,C,j);this.files[S]=D}var n=x("./utf8"),r=x("./utils"),s=x("./stream/GenericWorker"),d=x("./stream/StreamHelper"),p=x("./defaults"),_=x("./compressedObject"),v=x("./zipObject"),o=x("./generate"),y=x("./nodejsUtils"),f=x("./nodejs/NodejsStreamInputAdapter"),w=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var O=S.lastIndexOf("/");return 0<O?S.substring(0,O):""},m=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},g=function(S,O){return O=O!==void 0?O:p.createFolders,S=m(S),this.files[S]||u.call(this,S,null,{dir:!0,createFolders:O}),this.files[S]};function A(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var O,P,F;for(O in this.files)F=this.files[O],(P=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&S(P,F)},filter:function(S){var O=[];return this.forEach(function(P,F){S(P,F)&&O.push(F)}),O},file:function(S,O,P){if(arguments.length!==1)return S=this.root+S,u.call(this,S,O,P),this;if(A(S)){var F=S;return this.filter(function(j,J){return!J.dir&&F.test(j)})}var U=this.files[this.root+S];return U&&!U.dir?U:null},folder:function(S){if(!S)return this;if(A(S))return this.filter(function(U,j){return j.dir&&S.test(U)});var O=this.root+S,P=g.call(this,O),F=this.clone();return F.root=P.name,F},remove:function(S){S=this.root+S;var O=this.files[S];if(O||(S.slice(-1)!=="/"&&(S+="/"),O=this.files[S]),O&&!O.dir)delete this.files[S];else for(var P=this.filter(function(U,j){return j.name.slice(0,S.length)===S}),F=0;F<P.length;F++)delete this.files[P[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var O,P={};try{if((P=r.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");r.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var F=P.comment||this.comment||"";O=o.generateWorker(this,P,F)}catch(U){(O=new s("error")).error(U)}return new d(O,P.type||"string",P.mimeType)},generateAsync:function(S,O){return this.generateInternalStream(S).accumulate(O)},generateNodeStream:function(S,O){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(O)}};b.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(x,b,c){b.exports=x("stream")},{stream:void 0}],17:[function(x,b,c){var u=x("./DataReader");function n(r){u.call(this,r);for(var s=0;s<this.data.length;s++)r[s]=255&r[s]}x("../utils").inherits(n,u),n.prototype.byteAt=function(r){return this.data[this.zero+r]},n.prototype.lastIndexOfSignature=function(r){for(var s=r.charCodeAt(0),d=r.charCodeAt(1),p=r.charCodeAt(2),_=r.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===s&&this.data[v+1]===d&&this.data[v+2]===p&&this.data[v+3]===_)return v-this.zero;return-1},n.prototype.readAndCheckSignature=function(r){var s=r.charCodeAt(0),d=r.charCodeAt(1),p=r.charCodeAt(2),_=r.charCodeAt(3),v=this.readData(4);return s===v[0]&&d===v[1]&&p===v[2]&&_===v[3]},n.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},b.exports=n},{"../utils":32,"./DataReader":18}],18:[function(x,b,c){var u=x("../utils");function n(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var s,d=0;for(this.checkOffset(r),s=this.index+r-1;s>=this.index;s--)d=(d<<8)+this.byteAt(s);return this.index+=r,d},readString:function(r){return u.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},b.exports=n},{"../utils":32}],19:[function(x,b,c){var u=x("./Uint8ArrayReader");function n(r){u.call(this,r)}x("../utils").inherits(n,u),n.prototype.readData=function(r){this.checkOffset(r);var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},b.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(x,b,c){var u=x("./DataReader");function n(r){u.call(this,r)}x("../utils").inherits(n,u),n.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},n.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},n.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},n.prototype.readData=function(r){this.checkOffset(r);var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},b.exports=n},{"../utils":32,"./DataReader":18}],21:[function(x,b,c){var u=x("./ArrayReader");function n(r){u.call(this,r)}x("../utils").inherits(n,u),n.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},b.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(x,b,c){var u=x("../utils"),n=x("../support"),r=x("./ArrayReader"),s=x("./StringReader"),d=x("./NodeBufferReader"),p=x("./Uint8ArrayReader");b.exports=function(_){var v=u.getTypeOf(_);return u.checkSupport(v),v!=="string"||n.uint8array?v==="nodebuffer"?new d(_):n.uint8array?new p(u.transformTo("uint8array",_)):new r(u.transformTo("array",_)):new s(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(x,b,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(x,b,c){var u=x("./GenericWorker"),n=x("../utils");function r(s){u.call(this,"ConvertWorker to "+s),this.destType=s}n.inherits(r,u),r.prototype.processChunk=function(s){this.push({data:n.transformTo(this.destType,s.data),meta:s.meta})},b.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(x,b,c){var u=x("./GenericWorker"),n=x("../crc32");function r(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}x("../utils").inherits(r,u),r.prototype.processChunk=function(s){this.streamInfo.crc32=n(s.data,this.streamInfo.crc32||0),this.push(s)},b.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(x,b,c){var u=x("../utils"),n=x("./GenericWorker");function r(s){n.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}u.inherits(r,n),r.prototype.processChunk=function(s){if(s){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+s.data.length}n.prototype.processChunk.call(this,s)},b.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(x,b,c){var u=x("../utils"),n=x("./GenericWorker");function r(s){n.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=u.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}u.inherits(r,n),r.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,d);break;case"uint8array":s=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":s=this.data.slice(this.index,d)}return this.index=d,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(x,b,c){function u(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,r){return this._listeners[n].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,r){if(this._listeners[n])for(var s=0;s<this._listeners[n].length;s++)this._listeners[n][s].call(this,r)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var r=this;return n.on("data",function(s){r.processChunk(s)}),n.on("end",function(){r.end()}),n.on("error",function(s){r.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var n=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,r){return this.extraStreamInfo[n]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,n)&&(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},b.exports=u},{}],29:[function(x,b,c){var u=x("../utils"),n=x("./ConvertWorker"),r=x("./GenericWorker"),s=x("../base64"),d=x("../support"),p=x("../external"),_=null;if(d.nodestream)try{_=x("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(y,f){return new p.Promise(function(w,m){var g=[],A=y._internalType,I=y._outputType,S=y._mimeType;y.on("data",function(O,P){g.push(O),f&&f(P)}).on("error",function(O){g=[],m(O)}).on("end",function(){try{var O=function(P,F,U){switch(P){case"blob":return u.newBlob(u.transformTo("arraybuffer",F),U);case"base64":return s.encode(F);default:return u.transformTo(P,F)}}(I,function(P,F){var U,j=0,J=null,C=0;for(U=0;U<F.length;U++)C+=F[U].length;switch(P){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(J=new Uint8Array(C),U=0;U<F.length;U++)J.set(F[U],j),j+=F[U].length;return J;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+P+"'")}}(A,g),S);w(O)}catch(P){m(P)}g=[]}).resume()})}function o(y,f,w){var m=f;switch(f){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=f,this._mimeType=w,u.checkSupport(m),this._worker=y.pipe(new n(m)),y.lock()}catch(g){this._worker=new r("error"),this._worker.error(g)}}o.prototype={accumulate:function(y){return v(this,y)},on:function(y,f){var w=this;return y==="data"?this._worker.on(y,function(m){f.call(w,m.data,m.meta)}):this._worker.on(y,function(){u.delay(f,arguments,w)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},y)}},b.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(x,b,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var u=new ArrayBuffer(0);try{c.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(u),c.blob=n.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!x("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(x,b,c){for(var u=x("./utils"),n=x("./support"),r=x("./nodejsUtils"),s=x("./stream/GenericWorker"),d=new Array(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;d[254]=d[254]=1;function _(){s.call(this,"utf-8 decode"),this.leftOver=null}function v(){s.call(this,"utf-8 encode")}c.utf8encode=function(o){return n.nodebuffer?r.newBufferFrom(o,"utf-8"):function(y){var f,w,m,g,A,I=y.length,S=0;for(g=0;g<I;g++)(64512&(w=y.charCodeAt(g)))==55296&&g+1<I&&(64512&(m=y.charCodeAt(g+1)))==56320&&(w=65536+(w-55296<<10)+(m-56320),g++),S+=w<128?1:w<2048?2:w<65536?3:4;for(f=n.uint8array?new Uint8Array(S):new Array(S),g=A=0;A<S;g++)(64512&(w=y.charCodeAt(g)))==55296&&g+1<I&&(64512&(m=y.charCodeAt(g+1)))==56320&&(w=65536+(w-55296<<10)+(m-56320),g++),w<128?f[A++]=w:(w<2048?f[A++]=192|w>>>6:(w<65536?f[A++]=224|w>>>12:(f[A++]=240|w>>>18,f[A++]=128|w>>>12&63),f[A++]=128|w>>>6&63),f[A++]=128|63&w);return f}(o)},c.utf8decode=function(o){return n.nodebuffer?u.transformTo("nodebuffer",o).toString("utf-8"):function(y){var f,w,m,g,A=y.length,I=new Array(2*A);for(f=w=0;f<A;)if((m=y[f++])<128)I[w++]=m;else if(4<(g=d[m]))I[w++]=65533,f+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&f<A;)m=m<<6|63&y[f++],g--;1<g?I[w++]=65533:m<65536?I[w++]=m:(m-=65536,I[w++]=55296|m>>10&1023,I[w++]=56320|1023&m)}return I.length!==w&&(I.subarray?I=I.subarray(0,w):I.length=w),u.applyFromCharCode(I)}(o=u.transformTo(n.uint8array?"uint8array":"array",o))},u.inherits(_,s),_.prototype.processChunk=function(o){var y=u.transformTo(n.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var f=y;(y=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),y.set(f,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var w=function(g,A){var I;for((A=A||g.length)>g.length&&(A=g.length),I=A-1;0<=I&&(192&g[I])==128;)I--;return I<0||I===0?A:I+d[g[I]]>A?I:A}(y),m=y;w!==y.length&&(n.uint8array?(m=y.subarray(0,w),this.leftOver=y.subarray(w,y.length)):(m=y.slice(0,w),this.leftOver=y.slice(w,y.length))),this.push({data:c.utf8decode(m),meta:o.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=_,u.inherits(v,s),v.prototype.processChunk=function(o){this.push({data:c.utf8encode(o.data),meta:o.meta})},c.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(x,b,c){var u=x("./support"),n=x("./base64"),r=x("./nodejsUtils"),s=x("./external");function d(f){return f}function p(f,w){for(var m=0;m<f.length;++m)w[m]=255&f.charCodeAt(m);return w}x("setimmediate"),c.newBlob=function(f,w){c.checkSupport("blob");try{return new Blob([f],{type:w})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(f),m.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(f,w,m){var g=[],A=0,I=f.length;if(I<=m)return String.fromCharCode.apply(null,f);for(;A<I;)w==="array"||w==="nodebuffer"?g.push(String.fromCharCode.apply(null,f.slice(A,Math.min(A+m,I)))):g.push(String.fromCharCode.apply(null,f.subarray(A,Math.min(A+m,I)))),A+=m;return g.join("")},stringifyByChar:function(f){for(var w="",m=0;m<f.length;m++)w+=String.fromCharCode(f[m]);return w},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function v(f){var w=65536,m=c.getTypeOf(f),g=!0;if(m==="uint8array"?g=_.applyCanBeUsed.uint8array:m==="nodebuffer"&&(g=_.applyCanBeUsed.nodebuffer),g)for(;1<w;)try{return _.stringifyByChunk(f,m,w)}catch{w=Math.floor(w/2)}return _.stringifyByChar(f)}function o(f,w){for(var m=0;m<f.length;m++)w[m]=f[m];return w}c.applyFromCharCode=v;var y={};y.string={string:d,array:function(f){return p(f,new Array(f.length))},arraybuffer:function(f){return y.string.uint8array(f).buffer},uint8array:function(f){return p(f,new Uint8Array(f.length))},nodebuffer:function(f){return p(f,r.allocBuffer(f.length))}},y.array={string:v,array:d,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return r.newBufferFrom(f)}},y.arraybuffer={string:function(f){return v(new Uint8Array(f))},array:function(f){return o(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:d,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return r.newBufferFrom(new Uint8Array(f))}},y.uint8array={string:v,array:function(f){return o(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:d,nodebuffer:function(f){return r.newBufferFrom(f)}},y.nodebuffer={string:v,array:function(f){return o(f,new Array(f.length))},arraybuffer:function(f){return y.nodebuffer.uint8array(f).buffer},uint8array:function(f){return o(f,new Uint8Array(f.length))},nodebuffer:d},c.transformTo=function(f,w){if(w=w||"",!f)return w;c.checkSupport(f);var m=c.getTypeOf(w);return y[m][f](w)},c.resolve=function(f){for(var w=f.split("/"),m=[],g=0;g<w.length;g++){var A=w[g];A==="."||A===""&&g!==0&&g!==w.length-1||(A===".."?m.pop():m.push(A))}return m.join("/")},c.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":u.nodebuffer&&r.isBuffer(f)?"nodebuffer":u.uint8array&&f instanceof Uint8Array?"uint8array":u.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(f){if(!u[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(f){var w,m,g="";for(m=0;m<(f||"").length;m++)g+="\\x"+((w=f.charCodeAt(m))<16?"0":"")+w.toString(16).toUpperCase();return g},c.delay=function(f,w,m){setImmediate(function(){f.apply(m||null,w||[])})},c.inherits=function(f,w){function m(){}m.prototype=w.prototype,f.prototype=new m},c.extend=function(){var f,w,m={};for(f=0;f<arguments.length;f++)for(w in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],w)&&m[w]===void 0&&(m[w]=arguments[f][w]);return m},c.prepareContent=function(f,w,m,g,A){return s.Promise.resolve(w).then(function(I){return u.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new s.Promise(function(S,O){var P=new FileReader;P.onload=function(F){S(F.target.result)},P.onerror=function(F){O(F.target.error)},P.readAsArrayBuffer(I)}):I}).then(function(I){var S=c.getTypeOf(I);return S?(S==="arraybuffer"?I=c.transformTo("uint8array",I):S==="string"&&(A?I=n.decode(I):m&&g!==!0&&(I=function(O){return p(O,u.uint8array?new Uint8Array(O.length):new Array(O.length))}(I))),I):s.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(x,b,c){var u=x("./reader/readerFor"),n=x("./utils"),r=x("./signature"),s=x("./zipEntry"),d=x("./support");function p(_){this.files=[],this.loadOptions=_}p.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(v)+", expected "+n.pretty(_)+")")}},isSignature:function(_,v){var o=this.reader.index;this.reader.setIndex(_);var y=this.reader.readString(4)===v;return this.reader.setIndex(o),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),v=d.uint8array?"uint8array":"array",o=n.transformTo(v,_);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,v,o,y=this.zip64EndOfCentralSize-44;0<y;)_=this.reader.readInt(2),v=this.reader.readInt(4),o=this.reader.readData(v),this.zip64ExtensibleData[_]={id:_,length:v,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,v;for(_=0;_<this.files.length;_++)v=this.files[_],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(_=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var v=_;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var y=v-o;if(0<y)this.isSignature(v,r.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(_){this.reader=u(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(x,b,c){var u=x("./reader/readerFor"),n=x("./utils"),r=x("./compressedObject"),s=x("./crc32"),d=x("./utf8"),p=x("./compressions"),_=x("./support");function v(o,y){this.options=o,this.loadOptions=y}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(o){var y,f;if(o.skip(22),this.fileNameLength=o.readInt(2),f=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(w){for(var m in p)if(Object.prototype.hasOwnProperty.call(p,m)&&p[m].magic===w)return p[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,y,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var y=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(y),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),o==0&&(this.dosPermissions=63&this.externalFileAttributes),o==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var o=u(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(o){var y,f,w,m=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<m;)y=o.readInt(2),f=o.readInt(2),w=o.readData(f),this.extraFields[y]={id:y,length:f,value:w};o.setIndex(m)},handleUTF8:function(){var o=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var f=n.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var m=n.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var y=u(o.value);return y.readInt(1)!==1||s(this.fileName)!==y.readInt(4)?null:d.utf8decode(y.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var y=u(o.value);return y.readInt(1)!==1||s(this.fileComment)!==y.readInt(4)?null:d.utf8decode(y.readData(o.length-5))}return null}},b.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(x,b,c){function u(y,f,w){this.name=y,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=f,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var n=x("./stream/StreamHelper"),r=x("./stream/DataWorker"),s=x("./utf8"),d=x("./compressedObject"),p=x("./stream/GenericWorker");u.prototype={internalStream:function(y){var f=null,w="string";try{if(!y)throw new Error("No output type specified.");var m=(w=y.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),f=this._decompressWorker();var g=!this._dataBinary;g&&!m&&(f=f.pipe(new s.Utf8EncodeWorker)),!g&&m&&(f=f.pipe(new s.Utf8DecodeWorker))}catch(A){(f=new p("error")).error(A)}return new n(f,w,"")},async:function(y,f){return this.internalStream(y).accumulate(f)},nodeStream:function(y,f){return this.internalStream(y||"nodebuffer").toNodejsStream(f)},_compressWorker:function(y,f){if(this._data instanceof d&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new s.Utf8EncodeWorker)),d.createWorkerFrom(w,y,f)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof p?this._data:new r(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<_.length;o++)u.prototype[_[o]]=v;b.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(x,b,c){(function(u){var n,r,s=u.MutationObserver||u.WebKitMutationObserver;if(s){var d=0,p=new s(y),_=u.document.createTextNode("");p.observe(_,{characterData:!0}),n=function(){_.data=d=++d%2}}else if(u.setImmediate||u.MessageChannel===void 0)n="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var f=u.document.createElement("script");f.onreadystatechange=function(){y(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},u.document.documentElement.appendChild(f)}:function(){setTimeout(y,0)};else{var v=new u.MessageChannel;v.port1.onmessage=y,n=function(){v.port2.postMessage(0)}}var o=[];function y(){var f,w;r=!0;for(var m=o.length;m;){for(w=o,o=[],f=-1;++f<m;)w[f]();m=o.length}r=!1}b.exports=function(f){o.push(f)!==1||r||n()}}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(x,b,c){var u=x("immediate");function n(){}var r={},s=["REJECTED"],d=["FULFILLED"],p=["PENDING"];function _(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,m!==n&&f(this,m)}function v(m,g,A){this.promise=m,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function o(m,g,A){u(function(){var I;try{I=g(A)}catch(S){return r.reject(m,S)}I===m?r.reject(m,new TypeError("Cannot resolve promise with itself")):r.resolve(m,I)})}function y(m){var g=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof g=="function")return function(){g.apply(m,arguments)}}function f(m,g){var A=!1;function I(P){A||(A=!0,r.reject(m,P))}function S(P){A||(A=!0,r.resolve(m,P))}var O=w(function(){g(S,I)});O.status==="error"&&I(O.value)}function w(m,g){var A={};try{A.value=m(g),A.status="success"}catch(I){A.status="error",A.value=I}return A}(b.exports=_).prototype.finally=function(m){if(typeof m!="function")return this;var g=this.constructor;return this.then(function(A){return g.resolve(m()).then(function(){return A})},function(A){return g.resolve(m()).then(function(){throw A})})},_.prototype.catch=function(m){return this.then(null,m)},_.prototype.then=function(m,g){if(typeof m!="function"&&this.state===d||typeof g!="function"&&this.state===s)return this;var A=new this.constructor(n);return this.state!==p?o(A,this.state===d?m:g,this.outcome):this.queue.push(new v(A,m,g)),A},v.prototype.callFulfilled=function(m){r.resolve(this.promise,m)},v.prototype.otherCallFulfilled=function(m){o(this.promise,this.onFulfilled,m)},v.prototype.callRejected=function(m){r.reject(this.promise,m)},v.prototype.otherCallRejected=function(m){o(this.promise,this.onRejected,m)},r.resolve=function(m,g){var A=w(y,g);if(A.status==="error")return r.reject(m,A.value);var I=A.value;if(I)f(m,I);else{m.state=d,m.outcome=g;for(var S=-1,O=m.queue.length;++S<O;)m.queue[S].callFulfilled(g)}return m},r.reject=function(m,g){m.state=s,m.outcome=g;for(var A=-1,I=m.queue.length;++A<I;)m.queue[A].callRejected(g);return m},_.resolve=function(m){return m instanceof this?m:r.resolve(new this(n),m)},_.reject=function(m){var g=new this(n);return r.reject(g,m)},_.all=function(m){var g=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=m.length,I=!1;if(!A)return this.resolve([]);for(var S=new Array(A),O=0,P=-1,F=new this(n);++P<A;)U(m[P],P);return F;function U(j,J){g.resolve(j).then(function(C){S[J]=C,++O!==A||I||(I=!0,r.resolve(F,S))},function(C){I||(I=!0,r.reject(F,C))})}},_.race=function(m){var g=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=m.length,I=!1;if(!A)return this.resolve([]);for(var S=-1,O=new this(n);++S<A;)P=m[S],g.resolve(P).then(function(F){I||(I=!0,r.resolve(O,F))},function(F){I||(I=!0,r.reject(O,F))});var P;return O}},{immediate:36}],38:[function(x,b,c){var u={};(0,x("./lib/utils/common").assign)(u,x("./lib/deflate"),x("./lib/inflate"),x("./lib/zlib/constants")),b.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(x,b,c){var u=x("./zlib/deflate"),n=x("./utils/common"),r=x("./utils/strings"),s=x("./zlib/messages"),d=x("./zlib/zstream"),p=Object.prototype.toString,_=0,v=-1,o=0,y=8;function f(m){if(!(this instanceof f))return new f(m);this.options=n.assign({level:v,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},m||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var A=u.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(A!==_)throw new Error(s[A]);if(g.header&&u.deflateSetHeader(this.strm,g.header),g.dictionary){var I;if(I=typeof g.dictionary=="string"?r.string2buf(g.dictionary):p.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(A=u.deflateSetDictionary(this.strm,I))!==_)throw new Error(s[A]);this._dict_set=!0}}function w(m,g){var A=new f(g);if(A.push(m,!0),A.err)throw A.msg||s[A.err];return A.result}f.prototype.push=function(m,g){var A,I,S=this.strm,O=this.options.chunkSize;if(this.ended)return!1;I=g===~~g?g:g===!0?4:0,typeof m=="string"?S.input=r.string2buf(m):p.call(m)==="[object ArrayBuffer]"?S.input=new Uint8Array(m):S.input=m,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new n.Buf8(O),S.next_out=0,S.avail_out=O),(A=u.deflate(S,I))!==1&&A!==_)return this.onEnd(A),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(n.shrinkBuf(S.output,S.next_out))):this.onData(n.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&A!==1);return I===4?(A=u.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===_):I!==2||(this.onEnd(_),!(S.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},c.Deflate=f,c.deflate=w,c.deflateRaw=function(m,g){return(g=g||{}).raw=!0,w(m,g)},c.gzip=function(m,g){return(g=g||{}).gzip=!0,w(m,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(x,b,c){var u=x("./zlib/inflate"),n=x("./utils/common"),r=x("./utils/strings"),s=x("./zlib/constants"),d=x("./zlib/messages"),p=x("./zlib/zstream"),_=x("./zlib/gzheader"),v=Object.prototype.toString;function o(f){if(!(this instanceof o))return new o(f);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},f||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||f&&f.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var m=u.inflateInit2(this.strm,w.windowBits);if(m!==s.Z_OK)throw new Error(d[m]);this.header=new _,u.inflateGetHeader(this.strm,this.header)}function y(f,w){var m=new o(w);if(m.push(f,!0),m.err)throw m.msg||d[m.err];return m.result}o.prototype.push=function(f,w){var m,g,A,I,S,O,P=this.strm,F=this.options.chunkSize,U=this.options.dictionary,j=!1;if(this.ended)return!1;g=w===~~w?w:w===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof f=="string"?P.input=r.binstring2buf(f):v.call(f)==="[object ArrayBuffer]"?P.input=new Uint8Array(f):P.input=f,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new n.Buf8(F),P.next_out=0,P.avail_out=F),(m=u.inflate(P,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&U&&(O=typeof U=="string"?r.string2buf(U):v.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,m=u.inflateSetDictionary(this.strm,O)),m===s.Z_BUF_ERROR&&j===!0&&(m=s.Z_OK,j=!1),m!==s.Z_STREAM_END&&m!==s.Z_OK)return this.onEnd(m),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&m!==s.Z_STREAM_END&&(P.avail_in!==0||g!==s.Z_FINISH&&g!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=r.utf8border(P.output,P.next_out),I=P.next_out-A,S=r.buf2string(P.output,A),P.next_out=I,P.avail_out=F-I,I&&n.arraySet(P.output,P.output,A,I,0),this.onData(S)):this.onData(n.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(j=!0)}while((0<P.avail_in||P.avail_out===0)&&m!==s.Z_STREAM_END);return m===s.Z_STREAM_END&&(g=s.Z_FINISH),g===s.Z_FINISH?(m=u.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===s.Z_OK):g!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(P.avail_out=0))},o.prototype.onData=function(f){this.chunks.push(f)},o.prototype.onEnd=function(f){f===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},c.Inflate=o,c.inflate=y,c.inflateRaw=function(f,w){return(w=w||{}).raw=!0,y(f,w)},c.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(x,b,c){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(s){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var p=d.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var _ in p)p.hasOwnProperty(_)&&(s[_]=p[_])}}return s},c.shrinkBuf=function(s,d){return s.length===d?s:s.subarray?s.subarray(0,d):(s.length=d,s)};var n={arraySet:function(s,d,p,_,v){if(d.subarray&&s.subarray)s.set(d.subarray(p,p+_),v);else for(var o=0;o<_;o++)s[v+o]=d[p+o]},flattenChunks:function(s){var d,p,_,v,o,y;for(d=_=0,p=s.length;d<p;d++)_+=s[d].length;for(y=new Uint8Array(_),d=v=0,p=s.length;d<p;d++)o=s[d],y.set(o,v),v+=o.length;return y}},r={arraySet:function(s,d,p,_,v){for(var o=0;o<_;o++)s[v+o]=d[p+o]},flattenChunks:function(s){return[].concat.apply([],s)}};c.setTyped=function(s){s?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,n)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,r))},c.setTyped(u)},{}],42:[function(x,b,c){var u=x("./common"),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var s=new u.Buf8(256),d=0;d<256;d++)s[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function p(_,v){if(v<65537&&(_.subarray&&r||!_.subarray&&n))return String.fromCharCode.apply(null,u.shrinkBuf(_,v));for(var o="",y=0;y<v;y++)o+=String.fromCharCode(_[y]);return o}s[254]=s[254]=1,c.string2buf=function(_){var v,o,y,f,w,m=_.length,g=0;for(f=0;f<m;f++)(64512&(o=_.charCodeAt(f)))==55296&&f+1<m&&(64512&(y=_.charCodeAt(f+1)))==56320&&(o=65536+(o-55296<<10)+(y-56320),f++),g+=o<128?1:o<2048?2:o<65536?3:4;for(v=new u.Buf8(g),f=w=0;w<g;f++)(64512&(o=_.charCodeAt(f)))==55296&&f+1<m&&(64512&(y=_.charCodeAt(f+1)))==56320&&(o=65536+(o-55296<<10)+(y-56320),f++),o<128?v[w++]=o:(o<2048?v[w++]=192|o>>>6:(o<65536?v[w++]=224|o>>>12:(v[w++]=240|o>>>18,v[w++]=128|o>>>12&63),v[w++]=128|o>>>6&63),v[w++]=128|63&o);return v},c.buf2binstring=function(_){return p(_,_.length)},c.binstring2buf=function(_){for(var v=new u.Buf8(_.length),o=0,y=v.length;o<y;o++)v[o]=_.charCodeAt(o);return v},c.buf2string=function(_,v){var o,y,f,w,m=v||_.length,g=new Array(2*m);for(o=y=0;o<m;)if((f=_[o++])<128)g[y++]=f;else if(4<(w=s[f]))g[y++]=65533,o+=w-1;else{for(f&=w===2?31:w===3?15:7;1<w&&o<m;)f=f<<6|63&_[o++],w--;1<w?g[y++]=65533:f<65536?g[y++]=f:(f-=65536,g[y++]=55296|f>>10&1023,g[y++]=56320|1023&f)}return p(g,y)},c.utf8border=function(_,v){var o;for((v=v||_.length)>_.length&&(v=_.length),o=v-1;0<=o&&(192&_[o])==128;)o--;return o<0||o===0?v:o+s[_[o]]>v?o:v}},{"./common":41}],43:[function(x,b,c){b.exports=function(u,n,r,s){for(var d=65535&u|0,p=u>>>16&65535|0,_=0;r!==0;){for(r-=_=2e3<r?2e3:r;p=p+(d=d+n[s++]|0)|0,--_;);d%=65521,p%=65521}return d|p<<16|0}},{}],44:[function(x,b,c){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(x,b,c){var u=function(){for(var n,r=[],s=0;s<256;s++){n=s;for(var d=0;d<8;d++)n=1&n?3988292384^n>>>1:n>>>1;r[s]=n}return r}();b.exports=function(n,r,s,d){var p=u,_=d+s;n^=-1;for(var v=d;v<_;v++)n=n>>>8^p[255&(n^r[v])];return-1^n}},{}],46:[function(x,b,c){var u,n=x("../utils/common"),r=x("./trees"),s=x("./adler32"),d=x("./crc32"),p=x("./messages"),_=0,v=4,o=0,y=-2,f=-1,w=4,m=2,g=8,A=9,I=286,S=30,O=19,P=2*I+1,F=15,U=3,j=258,J=j+U+1,C=42,D=113,h=1,Y=2,nt=3,V=4;function tt(a,B){return a.msg=p[B],B}function q(a){return(a<<1)-(4<a?9:0)}function $(a){for(var B=a.length;0<=--B;)a[B]=0}function L(a){var B=a.state,l=B.pending;l>a.avail_out&&(l=a.avail_out),l!==0&&(n.arraySet(a.output,B.pending_buf,B.pending_out,l,a.next_out),a.next_out+=l,B.pending_out+=l,a.total_out+=l,a.avail_out-=l,B.pending-=l,B.pending===0&&(B.pending_out=0))}function R(a,B){r._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,B),a.block_start=a.strstart,L(a.strm)}function Q(a,B){a.pending_buf[a.pending++]=B}function X(a,B){a.pending_buf[a.pending++]=B>>>8&255,a.pending_buf[a.pending++]=255&B}function N(a,B){var l,t,e=a.max_chain_length,i=a.strstart,k=a.prev_length,T=a.nice_match,E=a.strstart>a.w_size-J?a.strstart-(a.w_size-J):0,M=a.window,G=a.w_mask,H=a.prev,W=a.strstart+j,K=M[i+k-1],et=M[i+k];a.prev_length>=a.good_match&&(e>>=2),T>a.lookahead&&(T=a.lookahead);do if(M[(l=B)+k]===et&&M[l+k-1]===K&&M[l]===M[i]&&M[++l]===M[i+1]){i+=2,l++;do;while(M[++i]===M[++l]&&M[++i]===M[++l]&&M[++i]===M[++l]&&M[++i]===M[++l]&&M[++i]===M[++l]&&M[++i]===M[++l]&&M[++i]===M[++l]&&M[++i]===M[++l]&&i<W);if(t=j-(W-i),i=W-j,k<t){if(a.match_start=B,T<=(k=t))break;K=M[i+k-1],et=M[i+k]}}while((B=H[B&G])>E&&--e!=0);return k<=a.lookahead?k:a.lookahead}function it(a){var B,l,t,e,i,k,T,E,M,G,H=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=H+(H-J)){for(n.arraySet(a.window,a.window,H,H,0),a.match_start-=H,a.strstart-=H,a.block_start-=H,B=l=a.hash_size;t=a.head[--B],a.head[B]=H<=t?t-H:0,--l;);for(B=l=H;t=a.prev[--B],a.prev[B]=H<=t?t-H:0,--l;);e+=H}if(a.strm.avail_in===0)break;if(k=a.strm,T=a.window,E=a.strstart+a.lookahead,M=e,G=void 0,G=k.avail_in,M<G&&(G=M),l=G===0?0:(k.avail_in-=G,n.arraySet(T,k.input,k.next_in,G,E),k.state.wrap===1?k.adler=s(k.adler,T,G,E):k.state.wrap===2&&(k.adler=d(k.adler,T,G,E)),k.next_in+=G,k.total_in+=G,G),a.lookahead+=l,a.lookahead+a.insert>=U)for(i=a.strstart-a.insert,a.ins_h=a.window[i],a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+U-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++,a.insert--,!(a.lookahead+a.insert<U)););}while(a.lookahead<J&&a.strm.avail_in!==0)}function ut(a,B){for(var l,t;;){if(a.lookahead<J){if(it(a),a.lookahead<J&&B===_)return h;if(a.lookahead===0)break}if(l=0,a.lookahead>=U&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+U-1])&a.hash_mask,l=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),l!==0&&a.strstart-l<=a.w_size-J&&(a.match_length=N(a,l)),a.match_length>=U)if(t=r._tr_tally(a,a.strstart-a.match_start,a.match_length-U),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=U){for(a.match_length--;a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+U-1])&a.hash_mask,l=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart,--a.match_length!=0;);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else t=r._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(t&&(R(a,!1),a.strm.avail_out===0))return h}return a.insert=a.strstart<U-1?a.strstart:U-1,B===v?(R(a,!0),a.strm.avail_out===0?nt:V):a.last_lit&&(R(a,!1),a.strm.avail_out===0)?h:Y}function st(a,B){for(var l,t,e;;){if(a.lookahead<J){if(it(a),a.lookahead<J&&B===_)return h;if(a.lookahead===0)break}if(l=0,a.lookahead>=U&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+U-1])&a.hash_mask,l=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=U-1,l!==0&&a.prev_length<a.max_lazy_match&&a.strstart-l<=a.w_size-J&&(a.match_length=N(a,l),a.match_length<=5&&(a.strategy===1||a.match_length===U&&4096<a.strstart-a.match_start)&&(a.match_length=U-1)),a.prev_length>=U&&a.match_length<=a.prev_length){for(e=a.strstart+a.lookahead-U,t=r._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-U),a.lookahead-=a.prev_length-1,a.prev_length-=2;++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+U-1])&a.hash_mask,l=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),--a.prev_length!=0;);if(a.match_available=0,a.match_length=U-1,a.strstart++,t&&(R(a,!1),a.strm.avail_out===0))return h}else if(a.match_available){if((t=r._tr_tally(a,0,a.window[a.strstart-1]))&&R(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return h}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(t=r._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<U-1?a.strstart:U-1,B===v?(R(a,!0),a.strm.avail_out===0?nt:V):a.last_lit&&(R(a,!1),a.strm.avail_out===0)?h:Y}function at(a,B,l,t,e){this.good_length=a,this.max_lazy=B,this.nice_length=l,this.max_chain=t,this.func=e}function ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*P),this.dyn_dtree=new n.Buf16(2*(2*S+1)),this.bl_tree=new n.Buf16(2*(2*O+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(F+1),this.heap=new n.Buf16(2*I+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*I+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(a){var B;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=m,(B=a.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?C:D,a.adler=B.wrap===2?0:1,B.last_flush=_,r._tr_init(B),o):tt(a,y)}function mt(a){var B=ot(a);return B===o&&function(l){l.window_size=2*l.w_size,$(l.head),l.max_lazy_match=u[l.level].max_lazy,l.good_match=u[l.level].good_length,l.nice_match=u[l.level].nice_length,l.max_chain_length=u[l.level].max_chain,l.strstart=0,l.block_start=0,l.lookahead=0,l.insert=0,l.match_length=l.prev_length=U-1,l.match_available=0,l.ins_h=0}(a.state),B}function lt(a,B,l,t,e,i){if(!a)return y;var k=1;if(B===f&&(B=6),t<0?(k=0,t=-t):15<t&&(k=2,t-=16),e<1||A<e||l!==g||t<8||15<t||B<0||9<B||i<0||w<i)return tt(a,y);t===8&&(t=9);var T=new ft;return(a.state=T).strm=a,T.wrap=k,T.gzhead=null,T.w_bits=t,T.w_size=1<<T.w_bits,T.w_mask=T.w_size-1,T.hash_bits=e+7,T.hash_size=1<<T.hash_bits,T.hash_mask=T.hash_size-1,T.hash_shift=~~((T.hash_bits+U-1)/U),T.window=new n.Buf8(2*T.w_size),T.head=new n.Buf16(T.hash_size),T.prev=new n.Buf16(T.w_size),T.lit_bufsize=1<<e+6,T.pending_buf_size=4*T.lit_bufsize,T.pending_buf=new n.Buf8(T.pending_buf_size),T.d_buf=1*T.lit_bufsize,T.l_buf=3*T.lit_bufsize,T.level=B,T.strategy=i,T.method=l,mt(a)}u=[new at(0,0,0,0,function(a,B){var l=65535;for(l>a.pending_buf_size-5&&(l=a.pending_buf_size-5);;){if(a.lookahead<=1){if(it(a),a.lookahead===0&&B===_)return h;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var t=a.block_start+l;if((a.strstart===0||a.strstart>=t)&&(a.lookahead=a.strstart-t,a.strstart=t,R(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-J&&(R(a,!1),a.strm.avail_out===0))return h}return a.insert=0,B===v?(R(a,!0),a.strm.avail_out===0?nt:V):(a.strstart>a.block_start&&(R(a,!1),a.strm.avail_out),h)}),new at(4,4,8,4,ut),new at(4,5,16,8,ut),new at(4,6,32,32,ut),new at(4,4,16,16,st),new at(8,16,32,32,st),new at(8,16,128,128,st),new at(8,32,128,256,st),new at(32,128,258,1024,st),new at(32,258,258,4096,st)],c.deflateInit=function(a,B){return lt(a,B,g,15,8,0)},c.deflateInit2=lt,c.deflateReset=mt,c.deflateResetKeep=ot,c.deflateSetHeader=function(a,B){return a&&a.state?a.state.wrap!==2?y:(a.state.gzhead=B,o):y},c.deflate=function(a,B){var l,t,e,i;if(!a||!a.state||5<B||B<0)return a?tt(a,y):y;if(t=a.state,!a.output||!a.input&&a.avail_in!==0||t.status===666&&B!==v)return tt(a,a.avail_out===0?-5:y);if(t.strm=a,l=t.last_flush,t.last_flush=B,t.status===C)if(t.wrap===2)a.adler=0,Q(t,31),Q(t,139),Q(t,8),t.gzhead?(Q(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Q(t,255&t.gzhead.time),Q(t,t.gzhead.time>>8&255),Q(t,t.gzhead.time>>16&255),Q(t,t.gzhead.time>>24&255),Q(t,t.level===9?2:2<=t.strategy||t.level<2?4:0),Q(t,255&t.gzhead.os),t.gzhead.extra&&t.gzhead.extra.length&&(Q(t,255&t.gzhead.extra.length),Q(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(a.adler=d(a.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=69):(Q(t,0),Q(t,0),Q(t,0),Q(t,0),Q(t,0),Q(t,t.level===9?2:2<=t.strategy||t.level<2?4:0),Q(t,3),t.status=D);else{var k=g+(t.w_bits-8<<4)<<8;k|=(2<=t.strategy||t.level<2?0:t.level<6?1:t.level===6?2:3)<<6,t.strstart!==0&&(k|=32),k+=31-k%31,t.status=D,X(t,k),t.strstart!==0&&(X(t,a.adler>>>16),X(t,65535&a.adler)),a.adler=1}if(t.status===69)if(t.gzhead.extra){for(e=t.pending;t.gzindex<(65535&t.gzhead.extra.length)&&(t.pending!==t.pending_buf_size||(t.gzhead.hcrc&&t.pending>e&&(a.adler=d(a.adler,t.pending_buf,t.pending-e,e)),L(a),e=t.pending,t.pending!==t.pending_buf_size));)Q(t,255&t.gzhead.extra[t.gzindex]),t.gzindex++;t.gzhead.hcrc&&t.pending>e&&(a.adler=d(a.adler,t.pending_buf,t.pending-e,e)),t.gzindex===t.gzhead.extra.length&&(t.gzindex=0,t.status=73)}else t.status=73;if(t.status===73)if(t.gzhead.name){e=t.pending;do{if(t.pending===t.pending_buf_size&&(t.gzhead.hcrc&&t.pending>e&&(a.adler=d(a.adler,t.pending_buf,t.pending-e,e)),L(a),e=t.pending,t.pending===t.pending_buf_size)){i=1;break}i=t.gzindex<t.gzhead.name.length?255&t.gzhead.name.charCodeAt(t.gzindex++):0,Q(t,i)}while(i!==0);t.gzhead.hcrc&&t.pending>e&&(a.adler=d(a.adler,t.pending_buf,t.pending-e,e)),i===0&&(t.gzindex=0,t.status=91)}else t.status=91;if(t.status===91)if(t.gzhead.comment){e=t.pending;do{if(t.pending===t.pending_buf_size&&(t.gzhead.hcrc&&t.pending>e&&(a.adler=d(a.adler,t.pending_buf,t.pending-e,e)),L(a),e=t.pending,t.pending===t.pending_buf_size)){i=1;break}i=t.gzindex<t.gzhead.comment.length?255&t.gzhead.comment.charCodeAt(t.gzindex++):0,Q(t,i)}while(i!==0);t.gzhead.hcrc&&t.pending>e&&(a.adler=d(a.adler,t.pending_buf,t.pending-e,e)),i===0&&(t.status=103)}else t.status=103;if(t.status===103&&(t.gzhead.hcrc?(t.pending+2>t.pending_buf_size&&L(a),t.pending+2<=t.pending_buf_size&&(Q(t,255&a.adler),Q(t,a.adler>>8&255),a.adler=0,t.status=D)):t.status=D),t.pending!==0){if(L(a),a.avail_out===0)return t.last_flush=-1,o}else if(a.avail_in===0&&q(B)<=q(l)&&B!==v)return tt(a,-5);if(t.status===666&&a.avail_in!==0)return tt(a,-5);if(a.avail_in!==0||t.lookahead!==0||B!==_&&t.status!==666){var T=t.strategy===2?function(E,M){for(var G;;){if(E.lookahead===0&&(it(E),E.lookahead===0)){if(M===_)return h;break}if(E.match_length=0,G=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,G&&(R(E,!1),E.strm.avail_out===0))return h}return E.insert=0,M===v?(R(E,!0),E.strm.avail_out===0?nt:V):E.last_lit&&(R(E,!1),E.strm.avail_out===0)?h:Y}(t,B):t.strategy===3?function(E,M){for(var G,H,W,K,et=E.window;;){if(E.lookahead<=j){if(it(E),E.lookahead<=j&&M===_)return h;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=U&&0<E.strstart&&(H=et[W=E.strstart-1])===et[++W]&&H===et[++W]&&H===et[++W]){K=E.strstart+j;do;while(H===et[++W]&&H===et[++W]&&H===et[++W]&&H===et[++W]&&H===et[++W]&&H===et[++W]&&H===et[++W]&&H===et[++W]&&W<K);E.match_length=j-(K-W),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=U?(G=r._tr_tally(E,1,E.match_length-U),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(G=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),G&&(R(E,!1),E.strm.avail_out===0))return h}return E.insert=0,M===v?(R(E,!0),E.strm.avail_out===0?nt:V):E.last_lit&&(R(E,!1),E.strm.avail_out===0)?h:Y}(t,B):u[t.level].func(t,B);if(T!==nt&&T!==V||(t.status=666),T===h||T===nt)return a.avail_out===0&&(t.last_flush=-1),o;if(T===Y&&(B===1?r._tr_align(t):B!==5&&(r._tr_stored_block(t,0,0,!1),B===3&&($(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),L(a),a.avail_out===0))return t.last_flush=-1,o}return B!==v?o:t.wrap<=0?1:(t.wrap===2?(Q(t,255&a.adler),Q(t,a.adler>>8&255),Q(t,a.adler>>16&255),Q(t,a.adler>>24&255),Q(t,255&a.total_in),Q(t,a.total_in>>8&255),Q(t,a.total_in>>16&255),Q(t,a.total_in>>24&255)):(X(t,a.adler>>>16),X(t,65535&a.adler)),L(a),0<t.wrap&&(t.wrap=-t.wrap),t.pending!==0?o:1)},c.deflateEnd=function(a){var B;return a&&a.state?(B=a.state.status)!==C&&B!==69&&B!==73&&B!==91&&B!==103&&B!==D&&B!==666?tt(a,y):(a.state=null,B===D?tt(a,-3):o):y},c.deflateSetDictionary=function(a,B){var l,t,e,i,k,T,E,M,G=B.length;if(!a||!a.state||(i=(l=a.state).wrap)===2||i===1&&l.status!==C||l.lookahead)return y;for(i===1&&(a.adler=s(a.adler,B,G,0)),l.wrap=0,G>=l.w_size&&(i===0&&($(l.head),l.strstart=0,l.block_start=0,l.insert=0),M=new n.Buf8(l.w_size),n.arraySet(M,B,G-l.w_size,l.w_size,0),B=M,G=l.w_size),k=a.avail_in,T=a.next_in,E=a.input,a.avail_in=G,a.next_in=0,a.input=B,it(l);l.lookahead>=U;){for(t=l.strstart,e=l.lookahead-(U-1);l.ins_h=(l.ins_h<<l.hash_shift^l.window[t+U-1])&l.hash_mask,l.prev[t&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=t,t++,--e;);l.strstart=t,l.lookahead=U-1,it(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=U-1,l.match_available=0,a.next_in=T,a.input=E,a.avail_in=k,l.wrap=i,o},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(x,b,c){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(x,b,c){b.exports=function(u,n){var r,s,d,p,_,v,o,y,f,w,m,g,A,I,S,O,P,F,U,j,J,C,D,h,Y;r=u.state,s=u.next_in,h=u.input,d=s+(u.avail_in-5),p=u.next_out,Y=u.output,_=p-(n-u.avail_out),v=p+(u.avail_out-257),o=r.dmax,y=r.wsize,f=r.whave,w=r.wnext,m=r.window,g=r.hold,A=r.bits,I=r.lencode,S=r.distcode,O=(1<<r.lenbits)-1,P=(1<<r.distbits)-1;t:do{A<15&&(g+=h[s++]<<A,A+=8,g+=h[s++]<<A,A+=8),F=I[g&O];e:for(;;){if(g>>>=U=F>>>24,A-=U,(U=F>>>16&255)===0)Y[p++]=65535&F;else{if(!(16&U)){if((64&U)==0){F=I[(65535&F)+(g&(1<<U)-1)];continue e}if(32&U){r.mode=12;break t}u.msg="invalid literal/length code",r.mode=30;break t}j=65535&F,(U&=15)&&(A<U&&(g+=h[s++]<<A,A+=8),j+=g&(1<<U)-1,g>>>=U,A-=U),A<15&&(g+=h[s++]<<A,A+=8,g+=h[s++]<<A,A+=8),F=S[g&P];r:for(;;){if(g>>>=U=F>>>24,A-=U,!(16&(U=F>>>16&255))){if((64&U)==0){F=S[(65535&F)+(g&(1<<U)-1)];continue r}u.msg="invalid distance code",r.mode=30;break t}if(J=65535&F,A<(U&=15)&&(g+=h[s++]<<A,(A+=8)<U&&(g+=h[s++]<<A,A+=8)),o<(J+=g&(1<<U)-1)){u.msg="invalid distance too far back",r.mode=30;break t}if(g>>>=U,A-=U,(U=p-_)<J){if(f<(U=J-U)&&r.sane){u.msg="invalid distance too far back",r.mode=30;break t}if(D=m,(C=0)===w){if(C+=y-U,U<j){for(j-=U;Y[p++]=m[C++],--U;);C=p-J,D=Y}}else if(w<U){if(C+=y+w-U,(U-=w)<j){for(j-=U;Y[p++]=m[C++],--U;);if(C=0,w<j){for(j-=U=w;Y[p++]=m[C++],--U;);C=p-J,D=Y}}}else if(C+=w-U,U<j){for(j-=U;Y[p++]=m[C++],--U;);C=p-J,D=Y}for(;2<j;)Y[p++]=D[C++],Y[p++]=D[C++],Y[p++]=D[C++],j-=3;j&&(Y[p++]=D[C++],1<j&&(Y[p++]=D[C++]))}else{for(C=p-J;Y[p++]=Y[C++],Y[p++]=Y[C++],Y[p++]=Y[C++],2<(j-=3););j&&(Y[p++]=Y[C++],1<j&&(Y[p++]=Y[C++]))}break}}break}}while(s<d&&p<v);s-=j=A>>3,g&=(1<<(A-=j<<3))-1,u.next_in=s,u.next_out=p,u.avail_in=s<d?d-s+5:5-(s-d),u.avail_out=p<v?v-p+257:257-(p-v),r.hold=g,r.bits=A}},{}],49:[function(x,b,c){var u=x("../utils/common"),n=x("./adler32"),r=x("./crc32"),s=x("./inffast"),d=x("./inftrees"),p=1,_=2,v=0,o=-2,y=1,f=852,w=592;function m(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(C){var D;return C&&C.state?(D=C.state,C.total_in=C.total_out=D.total=0,C.msg="",D.wrap&&(C.adler=1&D.wrap),D.mode=y,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new u.Buf32(f),D.distcode=D.distdyn=new u.Buf32(w),D.sane=1,D.back=-1,v):o}function I(C){var D;return C&&C.state?((D=C.state).wsize=0,D.whave=0,D.wnext=0,A(C)):o}function S(C,D){var h,Y;return C&&C.state?(Y=C.state,D<0?(h=0,D=-D):(h=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?o:(Y.window!==null&&Y.wbits!==D&&(Y.window=null),Y.wrap=h,Y.wbits=D,I(C))):o}function O(C,D){var h,Y;return C?(Y=new g,(C.state=Y).window=null,(h=S(C,D))!==v&&(C.state=null),h):o}var P,F,U=!0;function j(C){if(U){var D;for(P=new u.Buf32(512),F=new u.Buf32(32),D=0;D<144;)C.lens[D++]=8;for(;D<256;)C.lens[D++]=9;for(;D<280;)C.lens[D++]=7;for(;D<288;)C.lens[D++]=8;for(d(p,C.lens,0,288,P,0,C.work,{bits:9}),D=0;D<32;)C.lens[D++]=5;d(_,C.lens,0,32,F,0,C.work,{bits:5}),U=!1}C.lencode=P,C.lenbits=9,C.distcode=F,C.distbits=5}function J(C,D,h,Y){var nt,V=C.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new u.Buf8(V.wsize)),Y>=V.wsize?(u.arraySet(V.window,D,h-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(Y<(nt=V.wsize-V.wnext)&&(nt=Y),u.arraySet(V.window,D,h-Y,nt,V.wnext),(Y-=nt)?(u.arraySet(V.window,D,h-Y,Y,0),V.wnext=Y,V.whave=V.wsize):(V.wnext+=nt,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=nt))),0}c.inflateReset=I,c.inflateReset2=S,c.inflateResetKeep=A,c.inflateInit=function(C){return O(C,15)},c.inflateInit2=O,c.inflate=function(C,D){var h,Y,nt,V,tt,q,$,L,R,Q,X,N,it,ut,st,at,ft,ot,mt,lt,a,B,l,t,e=0,i=new u.Buf8(4),k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return o;(h=C.state).mode===12&&(h.mode=13),tt=C.next_out,nt=C.output,$=C.avail_out,V=C.next_in,Y=C.input,q=C.avail_in,L=h.hold,R=h.bits,Q=q,X=$,B=v;t:for(;;)switch(h.mode){case y:if(h.wrap===0){h.mode=13;break}for(;R<16;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if(2&h.wrap&&L===35615){i[h.check=0]=255&L,i[1]=L>>>8&255,h.check=r(h.check,i,2,0),R=L=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&L)<<8)+(L>>8))%31){C.msg="incorrect header check",h.mode=30;break}if((15&L)!=8){C.msg="unknown compression method",h.mode=30;break}if(R-=4,a=8+(15&(L>>>=4)),h.wbits===0)h.wbits=a;else if(a>h.wbits){C.msg="invalid window size",h.mode=30;break}h.dmax=1<<a,C.adler=h.check=1,h.mode=512&L?10:12,R=L=0;break;case 2:for(;R<16;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if(h.flags=L,(255&h.flags)!=8){C.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){C.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=L>>8&1),512&h.flags&&(i[0]=255&L,i[1]=L>>>8&255,h.check=r(h.check,i,2,0)),R=L=0,h.mode=3;case 3:for(;R<32;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}h.head&&(h.head.time=L),512&h.flags&&(i[0]=255&L,i[1]=L>>>8&255,i[2]=L>>>16&255,i[3]=L>>>24&255,h.check=r(h.check,i,4,0)),R=L=0,h.mode=4;case 4:for(;R<16;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}h.head&&(h.head.xflags=255&L,h.head.os=L>>8),512&h.flags&&(i[0]=255&L,i[1]=L>>>8&255,h.check=r(h.check,i,2,0)),R=L=0,h.mode=5;case 5:if(1024&h.flags){for(;R<16;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}h.length=L,h.head&&(h.head.extra_len=L),512&h.flags&&(i[0]=255&L,i[1]=L>>>8&255,h.check=r(h.check,i,2,0)),R=L=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(q<(N=h.length)&&(N=q),N&&(h.head&&(a=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),u.arraySet(h.head.extra,Y,V,N,a)),512&h.flags&&(h.check=r(h.check,Y,N,V)),q-=N,V+=N,h.length-=N),h.length))break t;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(q===0)break t;for(N=0;a=Y[V+N++],h.head&&a&&h.length<65536&&(h.head.name+=String.fromCharCode(a)),a&&N<q;);if(512&h.flags&&(h.check=r(h.check,Y,N,V)),q-=N,V+=N,a)break t}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(q===0)break t;for(N=0;a=Y[V+N++],h.head&&a&&h.length<65536&&(h.head.comment+=String.fromCharCode(a)),a&&N<q;);if(512&h.flags&&(h.check=r(h.check,Y,N,V)),q-=N,V+=N,a)break t}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;R<16;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if(L!==(65535&h.check)){C.msg="header crc mismatch",h.mode=30;break}R=L=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),C.adler=h.check=0,h.mode=12;break;case 10:for(;R<32;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}C.adler=h.check=m(L),R=L=0,h.mode=11;case 11:if(h.havedict===0)return C.next_out=tt,C.avail_out=$,C.next_in=V,C.avail_in=q,h.hold=L,h.bits=R,2;C.adler=h.check=1,h.mode=12;case 12:if(D===5||D===6)break t;case 13:if(h.last){L>>>=7&R,R-=7&R,h.mode=27;break}for(;R<3;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}switch(h.last=1&L,R-=1,3&(L>>>=1)){case 0:h.mode=14;break;case 1:if(j(h),h.mode=20,D!==6)break;L>>>=2,R-=2;break t;case 2:h.mode=17;break;case 3:C.msg="invalid block type",h.mode=30}L>>>=2,R-=2;break;case 14:for(L>>>=7&R,R-=7&R;R<32;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if((65535&L)!=(L>>>16^65535)){C.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&L,R=L=0,h.mode=15,D===6)break t;case 15:h.mode=16;case 16:if(N=h.length){if(q<N&&(N=q),$<N&&(N=$),N===0)break t;u.arraySet(nt,Y,V,N,tt),q-=N,V+=N,$-=N,tt+=N,h.length-=N;break}h.mode=12;break;case 17:for(;R<14;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if(h.nlen=257+(31&L),L>>>=5,R-=5,h.ndist=1+(31&L),L>>>=5,R-=5,h.ncode=4+(15&L),L>>>=4,R-=4,286<h.nlen||30<h.ndist){C.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;R<3;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}h.lens[k[h.have++]]=7&L,L>>>=3,R-=3}for(;h.have<19;)h.lens[k[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,l={bits:h.lenbits},B=d(0,h.lens,0,19,h.lencode,0,h.work,l),h.lenbits=l.bits,B){C.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;at=(e=h.lencode[L&(1<<h.lenbits)-1])>>>16&255,ft=65535&e,!((st=e>>>24)<=R);){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if(ft<16)L>>>=st,R-=st,h.lens[h.have++]=ft;else{if(ft===16){for(t=st+2;R<t;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if(L>>>=st,R-=st,h.have===0){C.msg="invalid bit length repeat",h.mode=30;break}a=h.lens[h.have-1],N=3+(3&L),L>>>=2,R-=2}else if(ft===17){for(t=st+3;R<t;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}R-=st,a=0,N=3+(7&(L>>>=st)),L>>>=3,R-=3}else{for(t=st+7;R<t;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}R-=st,a=0,N=11+(127&(L>>>=st)),L>>>=7,R-=7}if(h.have+N>h.nlen+h.ndist){C.msg="invalid bit length repeat",h.mode=30;break}for(;N--;)h.lens[h.have++]=a}}if(h.mode===30)break;if(h.lens[256]===0){C.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,l={bits:h.lenbits},B=d(p,h.lens,0,h.nlen,h.lencode,0,h.work,l),h.lenbits=l.bits,B){C.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,l={bits:h.distbits},B=d(_,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,l),h.distbits=l.bits,B){C.msg="invalid distances set",h.mode=30;break}if(h.mode=20,D===6)break t;case 20:h.mode=21;case 21:if(6<=q&&258<=$){C.next_out=tt,C.avail_out=$,C.next_in=V,C.avail_in=q,h.hold=L,h.bits=R,s(C,X),tt=C.next_out,nt=C.output,$=C.avail_out,V=C.next_in,Y=C.input,q=C.avail_in,L=h.hold,R=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;at=(e=h.lencode[L&(1<<h.lenbits)-1])>>>16&255,ft=65535&e,!((st=e>>>24)<=R);){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if(at&&(240&at)==0){for(ot=st,mt=at,lt=ft;at=(e=h.lencode[lt+((L&(1<<ot+mt)-1)>>ot)])>>>16&255,ft=65535&e,!(ot+(st=e>>>24)<=R);){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}L>>>=ot,R-=ot,h.back+=ot}if(L>>>=st,R-=st,h.back+=st,h.length=ft,at===0){h.mode=26;break}if(32&at){h.back=-1,h.mode=12;break}if(64&at){C.msg="invalid literal/length code",h.mode=30;break}h.extra=15&at,h.mode=22;case 22:if(h.extra){for(t=h.extra;R<t;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}h.length+=L&(1<<h.extra)-1,L>>>=h.extra,R-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;at=(e=h.distcode[L&(1<<h.distbits)-1])>>>16&255,ft=65535&e,!((st=e>>>24)<=R);){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if((240&at)==0){for(ot=st,mt=at,lt=ft;at=(e=h.distcode[lt+((L&(1<<ot+mt)-1)>>ot)])>>>16&255,ft=65535&e,!(ot+(st=e>>>24)<=R);){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}L>>>=ot,R-=ot,h.back+=ot}if(L>>>=st,R-=st,h.back+=st,64&at){C.msg="invalid distance code",h.mode=30;break}h.offset=ft,h.extra=15&at,h.mode=24;case 24:if(h.extra){for(t=h.extra;R<t;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}h.offset+=L&(1<<h.extra)-1,L>>>=h.extra,R-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){C.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if($===0)break t;if(N=X-$,h.offset>N){if((N=h.offset-N)>h.whave&&h.sane){C.msg="invalid distance too far back",h.mode=30;break}it=N>h.wnext?(N-=h.wnext,h.wsize-N):h.wnext-N,N>h.length&&(N=h.length),ut=h.window}else ut=nt,it=tt-h.offset,N=h.length;for($<N&&(N=$),$-=N,h.length-=N;nt[tt++]=ut[it++],--N;);h.length===0&&(h.mode=21);break;case 26:if($===0)break t;nt[tt++]=h.length,$--,h.mode=21;break;case 27:if(h.wrap){for(;R<32;){if(q===0)break t;q--,L|=Y[V++]<<R,R+=8}if(X-=$,C.total_out+=X,h.total+=X,X&&(C.adler=h.check=h.flags?r(h.check,nt,X,tt-X):n(h.check,nt,X,tt-X)),X=$,(h.flags?L:m(L))!==h.check){C.msg="incorrect data check",h.mode=30;break}R=L=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;R<32;){if(q===0)break t;q--,L+=Y[V++]<<R,R+=8}if(L!==(4294967295&h.total)){C.msg="incorrect length check",h.mode=30;break}R=L=0}h.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;case 32:default:return o}return C.next_out=tt,C.avail_out=$,C.next_in=V,C.avail_in=q,h.hold=L,h.bits=R,(h.wsize||X!==C.avail_out&&h.mode<30&&(h.mode<27||D!==4))&&J(C,C.output,C.next_out,X-C.avail_out)?(h.mode=31,-4):(Q-=C.avail_in,X-=C.avail_out,C.total_in+=Q,C.total_out+=X,h.total+=X,h.wrap&&X&&(C.adler=h.check=h.flags?r(h.check,nt,X,C.next_out-X):n(h.check,nt,X,C.next_out-X)),C.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(Q==0&&X===0||D===4)&&B===v&&(B=-5),B)},c.inflateEnd=function(C){if(!C||!C.state)return o;var D=C.state;return D.window&&(D.window=null),C.state=null,v},c.inflateGetHeader=function(C,D){var h;return C&&C.state?(2&(h=C.state).wrap)==0?o:((h.head=D).done=!1,v):o},c.inflateSetDictionary=function(C,D){var h,Y=D.length;return C&&C.state?(h=C.state).wrap!==0&&h.mode!==11?o:h.mode===11&&n(1,D,Y,0)!==h.check?-3:J(C,D,Y,Y)?(h.mode=31,-4):(h.havedict=1,v):o},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(x,b,c){var u=x("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(p,_,v,o,y,f,w,m){var g,A,I,S,O,P,F,U,j,J=m.bits,C=0,D=0,h=0,Y=0,nt=0,V=0,tt=0,q=0,$=0,L=0,R=null,Q=0,X=new u.Buf16(16),N=new u.Buf16(16),it=null,ut=0;for(C=0;C<=15;C++)X[C]=0;for(D=0;D<o;D++)X[_[v+D]]++;for(nt=J,Y=15;1<=Y&&X[Y]===0;Y--);if(Y<nt&&(nt=Y),Y===0)return y[f++]=20971520,y[f++]=20971520,m.bits=1,0;for(h=1;h<Y&&X[h]===0;h++);for(nt<h&&(nt=h),C=q=1;C<=15;C++)if(q<<=1,(q-=X[C])<0)return-1;if(0<q&&(p===0||Y!==1))return-1;for(N[1]=0,C=1;C<15;C++)N[C+1]=N[C]+X[C];for(D=0;D<o;D++)_[v+D]!==0&&(w[N[_[v+D]]++]=D);if(P=p===0?(R=it=w,19):p===1?(R=n,Q-=257,it=r,ut-=257,256):(R=s,it=d,-1),C=h,O=f,tt=D=L=0,I=-1,S=($=1<<(V=nt))-1,p===1&&852<$||p===2&&592<$)return 1;for(;;){for(F=C-tt,j=w[D]<P?(U=0,w[D]):w[D]>P?(U=it[ut+w[D]],R[Q+w[D]]):(U=96,0),g=1<<C-tt,h=A=1<<V;y[O+(L>>tt)+(A-=g)]=F<<24|U<<16|j|0,A!==0;);for(g=1<<C-1;L&g;)g>>=1;if(g!==0?(L&=g-1,L+=g):L=0,D++,--X[C]==0){if(C===Y)break;C=_[v+w[D]]}if(nt<C&&(L&S)!==I){for(tt===0&&(tt=nt),O+=h,q=1<<(V=C-tt);V+tt<Y&&!((q-=X[V+tt])<=0);)V++,q<<=1;if($+=1<<V,p===1&&852<$||p===2&&592<$)return 1;y[I=L&S]=nt<<24|V<<16|O-f|0}}return L!==0&&(y[O+L]=C-tt<<24|64<<16|0),m.bits=nt,0}},{"../utils/common":41}],51:[function(x,b,c){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(x,b,c){var u=x("../utils/common"),n=0,r=1;function s(e){for(var i=e.length;0<=--i;)e[i]=0}var d=0,p=29,_=256,v=_+1+p,o=30,y=19,f=2*v+1,w=15,m=16,g=7,A=256,I=16,S=17,O=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(v+2));s(J);var C=new Array(2*o);s(C);var D=new Array(512);s(D);var h=new Array(256);s(h);var Y=new Array(p);s(Y);var nt,V,tt,q=new Array(o);function $(e,i,k,T,E){this.static_tree=e,this.extra_bits=i,this.extra_base=k,this.elems=T,this.max_length=E,this.has_stree=e&&e.length}function L(e,i){this.dyn_tree=e,this.max_code=0,this.stat_desc=i}function R(e){return e<256?D[e]:D[256+(e>>>7)]}function Q(e,i){e.pending_buf[e.pending++]=255&i,e.pending_buf[e.pending++]=i>>>8&255}function X(e,i,k){e.bi_valid>m-k?(e.bi_buf|=i<<e.bi_valid&65535,Q(e,e.bi_buf),e.bi_buf=i>>m-e.bi_valid,e.bi_valid+=k-m):(e.bi_buf|=i<<e.bi_valid&65535,e.bi_valid+=k)}function N(e,i,k){X(e,k[2*i],k[2*i+1])}function it(e,i){for(var k=0;k|=1&e,e>>>=1,k<<=1,0<--i;);return k>>>1}function ut(e,i,k){var T,E,M=new Array(w+1),G=0;for(T=1;T<=w;T++)M[T]=G=G+k[T-1]<<1;for(E=0;E<=i;E++){var H=e[2*E+1];H!==0&&(e[2*E]=it(M[H]++,H))}}function st(e){var i;for(i=0;i<v;i++)e.dyn_ltree[2*i]=0;for(i=0;i<o;i++)e.dyn_dtree[2*i]=0;for(i=0;i<y;i++)e.bl_tree[2*i]=0;e.dyn_ltree[2*A]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function at(e){8<e.bi_valid?Q(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ft(e,i,k,T){var E=2*i,M=2*k;return e[E]<e[M]||e[E]===e[M]&&T[i]<=T[k]}function ot(e,i,k){for(var T=e.heap[k],E=k<<1;E<=e.heap_len&&(E<e.heap_len&&ft(i,e.heap[E+1],e.heap[E],e.depth)&&E++,!ft(i,T,e.heap[E],e.depth));)e.heap[k]=e.heap[E],k=E,E<<=1;e.heap[k]=T}function mt(e,i,k){var T,E,M,G,H=0;if(e.last_lit!==0)for(;T=e.pending_buf[e.d_buf+2*H]<<8|e.pending_buf[e.d_buf+2*H+1],E=e.pending_buf[e.l_buf+H],H++,T===0?N(e,E,i):(N(e,(M=h[E])+_+1,i),(G=P[M])!==0&&X(e,E-=Y[M],G),N(e,M=R(--T),k),(G=F[M])!==0&&X(e,T-=q[M],G)),H<e.last_lit;);N(e,A,i)}function lt(e,i){var k,T,E,M=i.dyn_tree,G=i.stat_desc.static_tree,H=i.stat_desc.has_stree,W=i.stat_desc.elems,K=-1;for(e.heap_len=0,e.heap_max=f,k=0;k<W;k++)M[2*k]!==0?(e.heap[++e.heap_len]=K=k,e.depth[k]=0):M[2*k+1]=0;for(;e.heap_len<2;)M[2*(E=e.heap[++e.heap_len]=K<2?++K:0)]=1,e.depth[E]=0,e.opt_len--,H&&(e.static_len-=G[2*E+1]);for(i.max_code=K,k=e.heap_len>>1;1<=k;k--)ot(e,M,k);for(E=W;k=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ot(e,M,1),T=e.heap[1],e.heap[--e.heap_max]=k,e.heap[--e.heap_max]=T,M[2*E]=M[2*k]+M[2*T],e.depth[E]=(e.depth[k]>=e.depth[T]?e.depth[k]:e.depth[T])+1,M[2*k+1]=M[2*T+1]=E,e.heap[1]=E++,ot(e,M,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(et,rt){var ct,pt,dt,ht,_t,yt,vt=rt.dyn_tree,gt=rt.max_code,xt=rt.stat_desc.static_tree,Tt=rt.stat_desc.has_stree,St=rt.stat_desc.extra_bits,kt=rt.stat_desc.extra_base,bt=rt.stat_desc.max_length,Et=0;for(ht=0;ht<=w;ht++)et.bl_count[ht]=0;for(vt[2*et.heap[et.heap_max]+1]=0,ct=et.heap_max+1;ct<f;ct++)bt<(ht=vt[2*vt[2*(pt=et.heap[ct])+1]+1]+1)&&(ht=bt,Et++),vt[2*pt+1]=ht,gt<pt||(et.bl_count[ht]++,_t=0,kt<=pt&&(_t=St[pt-kt]),yt=vt[2*pt],et.opt_len+=yt*(ht+_t),Tt&&(et.static_len+=yt*(xt[2*pt+1]+_t)));if(Et!==0){do{for(ht=bt-1;et.bl_count[ht]===0;)ht--;et.bl_count[ht]--,et.bl_count[ht+1]+=2,et.bl_count[bt]--,Et-=2}while(0<Et);for(ht=bt;ht!==0;ht--)for(pt=et.bl_count[ht];pt!==0;)gt<(dt=et.heap[--ct])||(vt[2*dt+1]!==ht&&(et.opt_len+=(ht-vt[2*dt+1])*vt[2*dt],vt[2*dt+1]=ht),pt--)}}(e,i),ut(M,K,e.bl_count)}function a(e,i,k){var T,E,M=-1,G=i[1],H=0,W=7,K=4;for(G===0&&(W=138,K=3),i[2*(k+1)+1]=65535,T=0;T<=k;T++)E=G,G=i[2*(T+1)+1],++H<W&&E===G||(H<K?e.bl_tree[2*E]+=H:E!==0?(E!==M&&e.bl_tree[2*E]++,e.bl_tree[2*I]++):H<=10?e.bl_tree[2*S]++:e.bl_tree[2*O]++,M=E,K=(H=0)===G?(W=138,3):E===G?(W=6,3):(W=7,4))}function B(e,i,k){var T,E,M=-1,G=i[1],H=0,W=7,K=4;for(G===0&&(W=138,K=3),T=0;T<=k;T++)if(E=G,G=i[2*(T+1)+1],!(++H<W&&E===G)){if(H<K)for(;N(e,E,e.bl_tree),--H!=0;);else E!==0?(E!==M&&(N(e,E,e.bl_tree),H--),N(e,I,e.bl_tree),X(e,H-3,2)):H<=10?(N(e,S,e.bl_tree),X(e,H-3,3)):(N(e,O,e.bl_tree),X(e,H-11,7));M=E,K=(H=0)===G?(W=138,3):E===G?(W=6,3):(W=7,4)}}s(q);var l=!1;function t(e,i,k,T){X(e,(d<<1)+(T?1:0),3),function(E,M,G,H){at(E),Q(E,G),Q(E,~G),u.arraySet(E.pending_buf,E.window,M,G,E.pending),E.pending+=G}(e,i,k)}c._tr_init=function(e){l||(function(){var i,k,T,E,M,G=new Array(w+1);for(E=T=0;E<p-1;E++)for(Y[E]=T,i=0;i<1<<P[E];i++)h[T++]=E;for(h[T-1]=E,E=M=0;E<16;E++)for(q[E]=M,i=0;i<1<<F[E];i++)D[M++]=E;for(M>>=7;E<o;E++)for(q[E]=M<<7,i=0;i<1<<F[E]-7;i++)D[256+M++]=E;for(k=0;k<=w;k++)G[k]=0;for(i=0;i<=143;)J[2*i+1]=8,i++,G[8]++;for(;i<=255;)J[2*i+1]=9,i++,G[9]++;for(;i<=279;)J[2*i+1]=7,i++,G[7]++;for(;i<=287;)J[2*i+1]=8,i++,G[8]++;for(ut(J,v+1,G),i=0;i<o;i++)C[2*i+1]=5,C[2*i]=it(i,5);nt=new $(J,P,_+1,v,w),V=new $(C,F,0,o,w),tt=new $(new Array(0),U,0,y,g)}(),l=!0),e.l_desc=new L(e.dyn_ltree,nt),e.d_desc=new L(e.dyn_dtree,V),e.bl_desc=new L(e.bl_tree,tt),e.bi_buf=0,e.bi_valid=0,st(e)},c._tr_stored_block=t,c._tr_flush_block=function(e,i,k,T){var E,M,G=0;0<e.level?(e.strm.data_type===2&&(e.strm.data_type=function(H){var W,K=4093624447;for(W=0;W<=31;W++,K>>>=1)if(1&K&&H.dyn_ltree[2*W]!==0)return n;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return r;for(W=32;W<_;W++)if(H.dyn_ltree[2*W]!==0)return r;return n}(e)),lt(e,e.l_desc),lt(e,e.d_desc),G=function(H){var W;for(a(H,H.dyn_ltree,H.l_desc.max_code),a(H,H.dyn_dtree,H.d_desc.max_code),lt(H,H.bl_desc),W=y-1;3<=W&&H.bl_tree[2*j[W]+1]===0;W--);return H.opt_len+=3*(W+1)+5+5+4,W}(e),E=e.opt_len+3+7>>>3,(M=e.static_len+3+7>>>3)<=E&&(E=M)):E=M=k+5,k+4<=E&&i!==-1?t(e,i,k,T):e.strategy===4||M===E?(X(e,2+(T?1:0),3),mt(e,J,C)):(X(e,4+(T?1:0),3),function(H,W,K,et){var rt;for(X(H,W-257,5),X(H,K-1,5),X(H,et-4,4),rt=0;rt<et;rt++)X(H,H.bl_tree[2*j[rt]+1],3);B(H,H.dyn_ltree,W-1),B(H,H.dyn_dtree,K-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,G+1),mt(e,e.dyn_ltree,e.dyn_dtree)),st(e),T&&at(e)},c._tr_tally=function(e,i,k){return e.pending_buf[e.d_buf+2*e.last_lit]=i>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&i,e.pending_buf[e.l_buf+e.last_lit]=255&k,e.last_lit++,i===0?e.dyn_ltree[2*k]++:(e.matches++,i--,e.dyn_ltree[2*(h[k]+_+1)]++,e.dyn_dtree[2*R(i)]++),e.last_lit===e.lit_bufsize-1},c._tr_align=function(e){X(e,2,3),N(e,A,J),function(i){i.bi_valid===16?(Q(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):8<=i.bi_valid&&(i.pending_buf[i.pending++]=255&i.bi_buf,i.bi_buf>>=8,i.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(x,b,c){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(x,b,c){(function(u){(function(n,r){if(!n.setImmediate){var s,d,p,_,v=1,o={},y=!1,f=n.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(n);w=w&&w.setTimeout?w:n,s={}.toString.call(n.process)==="[object process]"?function(I){process.nextTick(function(){g(I)})}:function(){if(n.postMessage&&!n.importScripts){var I=!0,S=n.onmessage;return n.onmessage=function(){I=!1},n.postMessage("","*"),n.onmessage=S,I}}()?(_="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",A,!1):n.attachEvent("onmessage",A),function(I){n.postMessage(_+I,"*")}):n.MessageChannel?((p=new MessageChannel).port1.onmessage=function(I){g(I.data)},function(I){p.port2.postMessage(I)}):f&&"onreadystatechange"in f.createElement("script")?(d=f.documentElement,function(I){var S=f.createElement("script");S.onreadystatechange=function(){g(I),S.onreadystatechange=null,d.removeChild(S),S=null},d.appendChild(S)}):function(I){setTimeout(g,0,I)},w.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var S=new Array(arguments.length-1),O=0;O<S.length;O++)S[O]=arguments[O+1];var P={callback:I,args:S};return o[v]=P,s(v),v++},w.clearImmediate=m}function m(I){delete o[I]}function g(I){if(y)setTimeout(g,0,I);else{var S=o[I];if(S){y=!0;try{(function(O){var P=O.callback,F=O.args;switch(F.length){case 0:P();break;case 1:P(F[0]);break;case 2:P(F[0],F[1]);break;case 3:P(F[0],F[1],F[2]);break;default:P.apply(r,F)}})(S)}finally{m(I),y=!1}}}}function A(I){I.source===n&&typeof I.data=="string"&&I.data.indexOf(_)===0&&g(+I.data.slice(_.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(qt)),qt.exports}var Er=kr();const Ar=xr(Er);var Gt={};const Cr={},Tr=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"})),wt=br(Tr);var Xt={exports:{}},Vt={exports:{}},Le;function ur(){if(Le)return Vt.exports;Le=1;let z=wt,Z=wt,x=Vt.exports=function(){Z.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};return z.inherits(x,Z),x.prototype.read=function(b,c){this._reads.push({length:Math.abs(b),allowLess:b<0,func:c}),process.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},x.prototype.write=function(b,c){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let u;return Buffer.isBuffer(b)?u=b:u=Buffer.from(b,c||this._encoding),this._buffers.push(u),this._buffered+=u.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},x.prototype.end=function(b,c){b&&this.write(b,c),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},x.prototype.destroySoon=x.prototype.end,x.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},x.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},x.prototype._processReadAllowingLess=function(b){this._reads.shift();let c=this._buffers[0];c.length>b.length?(this._buffered-=b.length,this._buffers[0]=c.slice(b.length),b.func.call(this,c.slice(0,b.length))):(this._buffered-=c.length,this._buffers.shift(),b.func.call(this,c))},x.prototype._processRead=function(b){this._reads.shift();let c=0,u=0,n=Buffer.alloc(b.length);for(;c<b.length;){let r=this._buffers[u++],s=Math.min(r.length,b.length-c);r.copy(n,c,0,s),c+=s,s!==r.length&&(this._buffers[--u]=r.slice(s))}u>0&&this._buffers.splice(0,u),this._buffered-=b.length,b.func.call(this,n)},x.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let b=this._reads[0];if(b.allowLess)this._processReadAllowingLess(b);else if(this._buffered>=b.length)this._processRead(b);else break}this._buffers&&!this.writable&&this._end()}catch(b){this.emit("error",b)}},Vt.exports}var Kt={exports:{}},Jt={exports:{}},Mt={},Ue;function fr(){if(Ue)return Mt;Ue=1;let z=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];return Mt.getImagePasses=function(Z,x){let b=[],c=Z%8,u=x%8,n=(Z-c)/8,r=(x-u)/8;for(let s=0;s<z.length;s++){let d=z[s],p=n*d.x.length,_=r*d.y.length;for(let v=0;v<d.x.length&&d.x[v]<c;v++)p++;for(let v=0;v<d.y.length&&d.y[v]<u;v++)_++;p>0&&_>0&&b.push({width:p,height:_,index:s})}return b},Mt.getInterlaceIterator=function(Z){return function(x,b,c){let u=x%z[c].x.length,n=(x-u)/z[c].x.length*8+z[c].x[u],r=b%z[c].y.length,s=(b-r)/z[c].y.length*8+z[c].y[r];return n*4+s*Z*4}},Mt}var $t,Pe;function cr(){return Pe||(Pe=1,$t=function(Z,x,b){let c=Z+x-b,u=Math.abs(c-Z),n=Math.abs(c-x),r=Math.abs(c-b);return u<=n&&u<=r?Z:n<=r?x:b}),$t}var ze;function dr(){if(ze)return Jt.exports;ze=1;let z=fr(),Z=cr();function x(c,u,n){let r=c*u;return n!==8&&(r=Math.ceil(r/(8/n))),r}let b=Jt.exports=function(c,u){let n=c.width,r=c.height,s=c.interlace,d=c.bpp,p=c.depth;if(this.read=u.read,this.write=u.write,this.complete=u.complete,this._imageIndex=0,this._images=[],s){let _=z.getImagePasses(n,r);for(let v=0;v<_.length;v++)this._images.push({byteWidth:x(_[v].width,d,p),height:_[v].height,lineIndex:0})}else this._images.push({byteWidth:x(n,d,p),height:r,lineIndex:0});p===8?this._xComparison=d:p===16?this._xComparison=d*2:this._xComparison=1};return b.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},b.prototype._unFilterType1=function(c,u,n){let r=this._xComparison,s=r-1;for(let d=0;d<n;d++){let p=c[1+d],_=d>s?u[d-r]:0;u[d]=p+_}},b.prototype._unFilterType2=function(c,u,n){let r=this._lastLine;for(let s=0;s<n;s++){let d=c[1+s],p=r?r[s]:0;u[s]=d+p}},b.prototype._unFilterType3=function(c,u,n){let r=this._xComparison,s=r-1,d=this._lastLine;for(let p=0;p<n;p++){let _=c[1+p],v=d?d[p]:0,o=p>s?u[p-r]:0,y=Math.floor((o+v)/2);u[p]=_+y}},b.prototype._unFilterType4=function(c,u,n){let r=this._xComparison,s=r-1,d=this._lastLine;for(let p=0;p<n;p++){let _=c[1+p],v=d?d[p]:0,o=p>s?u[p-r]:0,y=p>s&&d?d[p-r]:0,f=Z(o,v,y);u[p]=_+f}},b.prototype._reverseFilterLine=function(c){let u=c[0],n,r=this._images[this._imageIndex],s=r.byteWidth;if(u===0)n=c.slice(1,s+1);else switch(n=Buffer.alloc(s),u){case 1:this._unFilterType1(c,n,s);break;case 2:this._unFilterType2(c,n,s);break;case 3:this._unFilterType3(c,n,s);break;case 4:this._unFilterType4(c,n,s);break;default:throw new Error("Unrecognised filter type - "+u)}this.write(n),r.lineIndex++,r.lineIndex>=r.height?(this._lastLine=null,this._imageIndex++,r=this._images[this._imageIndex]):this._lastLine=n,r?this.read(r.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())},Jt.exports}var De;function Sr(){if(De)return Kt.exports;De=1;let z=wt,Z=ur(),x=dr(),b=Kt.exports=function(c){Z.call(this);let u=[],n=this;this._filter=new x(c,{read:this.read.bind(this),write:function(r){u.push(r)},complete:function(){n.emit("complete",Buffer.concat(u))}}),this._filter.start()};return z.inherits(b,Z),Kt.exports}var Qt={exports:{}},te,Me;function Lt(){return Me||(Me=1,te={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}),te}var ee={exports:{}},Ne;function pr(){if(Ne)return ee.exports;Ne=1;let z=[];(function(){for(let x=0;x<256;x++){let b=x;for(let c=0;c<8;c++)b&1?b=3988292384^b>>>1:b=b>>>1;z[x]=b}})();let Z=ee.exports=function(){this._crc=-1};return Z.prototype.write=function(x){for(let b=0;b<x.length;b++)this._crc=z[(this._crc^x[b])&255]^this._crc>>>8;return!0},Z.prototype.crc32=function(){return this._crc^-1},Z.crc32=function(x){let b=-1;for(let c=0;c<x.length;c++)b=z[(b^x[c])&255]^b>>>8;return b^-1},ee.exports}var je;function mr(){if(je)return Qt.exports;je=1;let z=Lt(),Z=pr(),x=Qt.exports=function(b,c){this._options=b,b.checkCRC=b.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[z.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[z.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[z.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[z.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[z.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[z.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=c.read,this.error=c.error,this.metadata=c.metadata,this.gamma=c.gamma,this.transColor=c.transColor,this.palette=c.palette,this.parsed=c.parsed,this.inflateData=c.inflateData,this.finished=c.finished,this.simpleTransparency=c.simpleTransparency,this.headersFinished=c.headersFinished||function(){}};return x.prototype.start=function(){this.read(z.PNG_SIGNATURE.length,this._parseSignature.bind(this))},x.prototype._parseSignature=function(b){let c=z.PNG_SIGNATURE;for(let u=0;u<c.length;u++)if(b[u]!==c[u]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},x.prototype._parseChunkBegin=function(b){let c=b.readUInt32BE(0),u=b.readUInt32BE(4),n="";for(let s=4;s<8;s++)n+=String.fromCharCode(b[s]);let r=!!(b[4]&32);if(!this._hasIHDR&&u!==z.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new Z,this._crc.write(Buffer.from(n)),this._chunks[u])return this._chunks[u](c);if(!r){this.error(new Error("Unsupported critical chunk type "+n));return}this.read(c+4,this._skipChunk.bind(this))},x.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},x.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},x.prototype._parseChunkEnd=function(b){let c=b.readInt32BE(0),u=this._crc.crc32();if(this._options.checkCRC&&u!==c){this.error(new Error("Crc error - "+c+" - "+u));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},x.prototype._handleIHDR=function(b){this.read(b,this._parseIHDR.bind(this))},x.prototype._parseIHDR=function(b){this._crc.write(b);let c=b.readUInt32BE(0),u=b.readUInt32BE(4),n=b[8],r=b[9],s=b[10],d=b[11],p=b[12];if(n!==8&&n!==4&&n!==2&&n!==1&&n!==16){this.error(new Error("Unsupported bit depth "+n));return}if(!(r in z.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(s!==0){this.error(new Error("Unsupported compression method"));return}if(d!==0){this.error(new Error("Unsupported filter method"));return}if(p!==0&&p!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=r;let _=z.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:c,height:u,depth:n,interlace:!!p,palette:!!(r&z.COLORTYPE_PALETTE),color:!!(r&z.COLORTYPE_COLOR),alpha:!!(r&z.COLORTYPE_ALPHA),bpp:_,colorType:r}),this._handleChunkEnd()},x.prototype._handlePLTE=function(b){this.read(b,this._parsePLTE.bind(this))},x.prototype._parsePLTE=function(b){this._crc.write(b);let c=Math.floor(b.length/3);for(let u=0;u<c;u++)this._palette.push([b[u*3],b[u*3+1],b[u*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},x.prototype._handleTRNS=function(b){this.simpleTransparency(),this.read(b,this._parseTRNS.bind(this))},x.prototype._parseTRNS=function(b){if(this._crc.write(b),this._colorType===z.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(b.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let c=0;c<b.length;c++)this._palette[c][3]=b[c];this.palette(this._palette)}this._colorType===z.COLORTYPE_GRAYSCALE&&this.transColor([b.readUInt16BE(0)]),this._colorType===z.COLORTYPE_COLOR&&this.transColor([b.readUInt16BE(0),b.readUInt16BE(2),b.readUInt16BE(4)]),this._handleChunkEnd()},x.prototype._handleGAMA=function(b){this.read(b,this._parseGAMA.bind(this))},x.prototype._parseGAMA=function(b){this._crc.write(b),this.gamma(b.readUInt32BE(0)/z.GAMMA_DIVISION),this._handleChunkEnd()},x.prototype._handleIDAT=function(b){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-b,this._parseIDAT.bind(this,b))},x.prototype._parseIDAT=function(b,c){if(this._crc.write(c),this._colorType===z.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(c);let u=b-c.length;u>0?this._handleIDAT(u):this._handleChunkEnd()},x.prototype._handleIEND=function(b){this.read(b,this._parseIEND.bind(this))},x.prototype._parseIEND=function(b){this._crc.write(b),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()},Qt.exports}var re={},Ye;function _r(){if(Ye)return re;Ye=1;let z=fr(),Z=[function(){},function(n,r,s,d){if(d===r.length)throw new Error("Ran out of data");let p=r[d];n[s]=p,n[s+1]=p,n[s+2]=p,n[s+3]=255},function(n,r,s,d){if(d+1>=r.length)throw new Error("Ran out of data");let p=r[d];n[s]=p,n[s+1]=p,n[s+2]=p,n[s+3]=r[d+1]},function(n,r,s,d){if(d+2>=r.length)throw new Error("Ran out of data");n[s]=r[d],n[s+1]=r[d+1],n[s+2]=r[d+2],n[s+3]=255},function(n,r,s,d){if(d+3>=r.length)throw new Error("Ran out of data");n[s]=r[d],n[s+1]=r[d+1],n[s+2]=r[d+2],n[s+3]=r[d+3]}],x=[function(){},function(n,r,s,d){let p=r[0];n[s]=p,n[s+1]=p,n[s+2]=p,n[s+3]=d},function(n,r,s){let d=r[0];n[s]=d,n[s+1]=d,n[s+2]=d,n[s+3]=r[1]},function(n,r,s,d){n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=d},function(n,r,s){n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=r[3]}];function b(n,r){let s=[],d=0;function p(){if(d===n.length)throw new Error("Ran out of data");let _=n[d];d++;let v,o,y,f,w,m,g,A;switch(r){default:throw new Error("unrecognised depth");case 16:g=n[d],d++,s.push((_<<8)+g);break;case 4:g=_&15,A=_>>4,s.push(A,g);break;case 2:w=_&3,m=_>>2&3,g=_>>4&3,A=_>>6&3,s.push(A,g,m,w);break;case 1:v=_&1,o=_>>1&1,y=_>>2&1,f=_>>3&1,w=_>>4&1,m=_>>5&1,g=_>>6&1,A=_>>7&1,s.push(A,g,m,w,f,y,o,v);break}}return{get:function(_){for(;s.length<_;)p();let v=s.slice(0,_);return s=s.slice(_),v},resetAfterLine:function(){s.length=0},end:function(){if(d!==n.length)throw new Error("extra data found")}}}function c(n,r,s,d,p,_){let v=n.width,o=n.height,y=n.index;for(let f=0;f<o;f++)for(let w=0;w<v;w++){let m=s(w,f,y);Z[d](r,p,m,_),_+=d}return _}function u(n,r,s,d,p,_){let v=n.width,o=n.height,y=n.index;for(let f=0;f<o;f++){for(let w=0;w<v;w++){let m=p.get(d),g=s(w,f,y);x[d](r,m,g,_)}p.resetAfterLine()}}return re.dataToBitMap=function(n,r){let s=r.width,d=r.height,p=r.depth,_=r.bpp,v=r.interlace,o;p!==8&&(o=b(n,p));let y;p<=8?y=Buffer.alloc(s*d*4):y=new Uint16Array(s*d*4);let f=Math.pow(2,p)-1,w=0,m,g;if(v)m=z.getImagePasses(s,d),g=z.getInterlaceIterator(s,d);else{let A=0;g=function(){let I=A;return A+=4,I},m=[{width:s,height:d}]}for(let A=0;A<m.length;A++)p===8?w=c(m[A],y,g,_,n,w):u(m[A],y,g,_,o,f);if(p===8){if(w!==n.length)throw new Error("extra data found")}else o.end();return y},re}var ne,He;function yr(){if(He)return ne;He=1;function z(b,c,u,n,r){let s=0;for(let d=0;d<n;d++)for(let p=0;p<u;p++){let _=r[b[s]];if(!_)throw new Error("index "+b[s]+" not in palette");for(let v=0;v<4;v++)c[s+v]=_[v];s+=4}}function Z(b,c,u,n,r){let s=0;for(let d=0;d<n;d++)for(let p=0;p<u;p++){let _=!1;if(r.length===1?r[0]===b[s]&&(_=!0):r[0]===b[s]&&r[1]===b[s+1]&&r[2]===b[s+2]&&(_=!0),_)for(let v=0;v<4;v++)c[s+v]=0;s+=4}}function x(b,c,u,n,r){let s=255,d=Math.pow(2,r)-1,p=0;for(let _=0;_<n;_++)for(let v=0;v<u;v++){for(let o=0;o<4;o++)c[p+o]=Math.floor(b[p+o]*s/d+.5);p+=4}}return ne=function(b,c,u=!1){let n=c.depth,r=c.width,s=c.height,d=c.colorType,p=c.transColor,_=c.palette,v=b;return d===3?z(b,v,r,s,_):(p&&Z(b,v,r,s,p),n!==8&&!u&&(n===16&&(v=Buffer.alloc(r*s*4)),x(b,v,r,s,n))),v},ne}var Ze;function Fr(){if(Ze)return Xt.exports;Ze=1;let z=wt,Z=wt,x=ur(),b=Sr(),c=mr(),u=_r(),n=yr(),r=Xt.exports=function(s){x.call(this),this._parser=new c(s,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=s,this.writable=!0,this._parser.start()};return z.inherits(r,x),r.prototype._handleError=function(s){this.emit("error",s),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},r.prototype._inflateData=function(s){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=Z.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let p=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,_=Math.max(p,Z.Z_MIN_CHUNK);this._inflate=Z.createInflate({chunkSize:_});let v=p,o=this.emit.bind(this,"error");this._inflate.on("error",function(f){v&&o(f)}),this._filter.on("complete",this._complete.bind(this));let y=this._filter.write.bind(this._filter);this._inflate.on("data",function(f){v&&(f.length>v&&(f=f.slice(0,v)),v-=f.length,y(f))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(s)},r.prototype._handleMetaData=function(s){this._metaData=s,this._bitmapInfo=Object.create(s),this._filter=new b(this._bitmapInfo)},r.prototype._handleTransColor=function(s){this._bitmapInfo.transColor=s},r.prototype._handlePalette=function(s){this._bitmapInfo.palette=s},r.prototype._simpleTransparency=function(){this._metaData.alpha=!0},r.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},r.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},r.prototype._complete=function(s){if(this.errord)return;let d;try{let p=u.dataToBitMap(s,this._bitmapInfo);d=n(p,this._bitmapInfo,this._options.skipRescale),p=null}catch(p){this._handleError(p);return}this.emit("parsed",d)},Xt.exports}var ie={exports:{}},ae={exports:{}},se,We;function Ir(){if(We)return se;We=1;let z=Lt();return se=function(Z,x,b,c){let u=[z.COLORTYPE_COLOR_ALPHA,z.COLORTYPE_ALPHA].indexOf(c.colorType)!==-1;if(c.colorType===c.inputColorType){let f=function(){let w=new ArrayBuffer(2);return new DataView(w).setInt16(0,256,!0),new Int16Array(w)[0]!==256}();if(c.bitDepth===8||c.bitDepth===16&&f)return Z}let n=c.bitDepth!==16?Z:new Uint16Array(Z.buffer),r=255,s=z.COLORTYPE_TO_BPP_MAP[c.inputColorType];s===4&&!c.inputHasAlpha&&(s=3);let d=z.COLORTYPE_TO_BPP_MAP[c.colorType];c.bitDepth===16&&(r=65535,d*=2);let p=Buffer.alloc(x*b*d),_=0,v=0,o=c.bgColor||{};o.red===void 0&&(o.red=r),o.green===void 0&&(o.green=r),o.blue===void 0&&(o.blue=r);function y(){let f,w,m,g=r;switch(c.inputColorType){case z.COLORTYPE_COLOR_ALPHA:g=n[_+3],f=n[_],w=n[_+1],m=n[_+2];break;case z.COLORTYPE_COLOR:f=n[_],w=n[_+1],m=n[_+2];break;case z.COLORTYPE_ALPHA:g=n[_+1],f=n[_],w=f,m=f;break;case z.COLORTYPE_GRAYSCALE:f=n[_],w=f,m=f;break;default:throw new Error("input color type:"+c.inputColorType+" is not supported at present")}return c.inputHasAlpha&&(u||(g/=r,f=Math.min(Math.max(Math.round((1-g)*o.red+g*f),0),r),w=Math.min(Math.max(Math.round((1-g)*o.green+g*w),0),r),m=Math.min(Math.max(Math.round((1-g)*o.blue+g*m),0),r))),{red:f,green:w,blue:m,alpha:g}}for(let f=0;f<b;f++)for(let w=0;w<x;w++){let m=y();switch(c.colorType){case z.COLORTYPE_COLOR_ALPHA:case z.COLORTYPE_COLOR:c.bitDepth===8?(p[v]=m.red,p[v+1]=m.green,p[v+2]=m.blue,u&&(p[v+3]=m.alpha)):(p.writeUInt16BE(m.red,v),p.writeUInt16BE(m.green,v+2),p.writeUInt16BE(m.blue,v+4),u&&p.writeUInt16BE(m.alpha,v+6));break;case z.COLORTYPE_ALPHA:case z.COLORTYPE_GRAYSCALE:{let g=(m.red+m.green+m.blue)/3;c.bitDepth===8?(p[v]=g,u&&(p[v+1]=m.alpha)):(p.writeUInt16BE(g,v),u&&p.writeUInt16BE(m.alpha,v+2));break}default:throw new Error("unrecognised color Type "+c.colorType)}_+=s,v+=d}return p},se}var oe,qe;function Br(){if(qe)return oe;qe=1;let z=cr();function Z(o,y,f,w,m){for(let g=0;g<f;g++)w[m+g]=o[y+g]}function x(o,y,f){let w=0,m=y+f;for(let g=y;g<m;g++)w+=Math.abs(o[g]);return w}function b(o,y,f,w,m,g){for(let A=0;A<f;A++){let I=A>=g?o[y+A-g]:0,S=o[y+A]-I;w[m+A]=S}}function c(o,y,f,w){let m=0;for(let g=0;g<f;g++){let A=g>=w?o[y+g-w]:0,I=o[y+g]-A;m+=Math.abs(I)}return m}function u(o,y,f,w,m){for(let g=0;g<f;g++){let A=y>0?o[y+g-f]:0,I=o[y+g]-A;w[m+g]=I}}function n(o,y,f){let w=0,m=y+f;for(let g=y;g<m;g++){let A=y>0?o[g-f]:0,I=o[g]-A;w+=Math.abs(I)}return w}function r(o,y,f,w,m,g){for(let A=0;A<f;A++){let I=A>=g?o[y+A-g]:0,S=y>0?o[y+A-f]:0,O=o[y+A]-(I+S>>1);w[m+A]=O}}function s(o,y,f,w){let m=0;for(let g=0;g<f;g++){let A=g>=w?o[y+g-w]:0,I=y>0?o[y+g-f]:0,S=o[y+g]-(A+I>>1);m+=Math.abs(S)}return m}function d(o,y,f,w,m,g){for(let A=0;A<f;A++){let I=A>=g?o[y+A-g]:0,S=y>0?o[y+A-f]:0,O=y>0&&A>=g?o[y+A-(f+g)]:0,P=o[y+A]-z(I,S,O);w[m+A]=P}}function p(o,y,f,w){let m=0;for(let g=0;g<f;g++){let A=g>=w?o[y+g-w]:0,I=y>0?o[y+g-f]:0,S=y>0&&g>=w?o[y+g-(f+w)]:0,O=o[y+g]-z(A,I,S);m+=Math.abs(O)}return m}let _={0:Z,1:b,2:u,3:r,4:d},v={0:x,1:c,2:n,3:s,4:p};return oe=function(o,y,f,w,m){let g;if(!("filterType"in w)||w.filterType===-1)g=[0,1,2,3,4];else if(typeof w.filterType=="number")g=[w.filterType];else throw new Error("unrecognised filter types");w.bitDepth===16&&(m*=2);let A=y*m,I=0,S=0,O=Buffer.alloc((A+1)*f),P=g[0];for(let F=0;F<f;F++){if(g.length>1){let U=1/0;for(let j=0;j<g.length;j++){let J=v[g[j]](o,S,A,m);J<U&&(P=g[j],U=J)}}O[I]=P,I++,_[P](o,S,A,O,I,m),I+=A,S+=A}return O},oe}var Ge;function vr(){if(Ge)return ae.exports;Ge=1;let z=Lt(),Z=pr(),x=Ir(),b=Br(),c=wt,u=ae.exports=function(n){if(this._options=n,n.deflateChunkSize=n.deflateChunkSize||32*1024,n.deflateLevel=n.deflateLevel!=null?n.deflateLevel:9,n.deflateStrategy=n.deflateStrategy!=null?n.deflateStrategy:3,n.inputHasAlpha=n.inputHasAlpha!=null?n.inputHasAlpha:!0,n.deflateFactory=n.deflateFactory||c.createDeflate,n.bitDepth=n.bitDepth||8,n.colorType=typeof n.colorType=="number"?n.colorType:z.COLORTYPE_COLOR_ALPHA,n.inputColorType=typeof n.inputColorType=="number"?n.inputColorType:z.COLORTYPE_COLOR_ALPHA,[z.COLORTYPE_GRAYSCALE,z.COLORTYPE_COLOR,z.COLORTYPE_COLOR_ALPHA,z.COLORTYPE_ALPHA].indexOf(n.colorType)===-1)throw new Error("option color type:"+n.colorType+" is not supported at present");if([z.COLORTYPE_GRAYSCALE,z.COLORTYPE_COLOR,z.COLORTYPE_COLOR_ALPHA,z.COLORTYPE_ALPHA].indexOf(n.inputColorType)===-1)throw new Error("option input color type:"+n.inputColorType+" is not supported at present");if(n.bitDepth!==8&&n.bitDepth!==16)throw new Error("option bit depth:"+n.bitDepth+" is not supported at present")};return u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(n,r,s){let d=x(n,r,s,this._options),p=z.COLORTYPE_TO_BPP_MAP[this._options.colorType];return b(d,r,s,this._options,p)},u.prototype._packChunk=function(n,r){let s=r?r.length:0,d=Buffer.alloc(s+12);return d.writeUInt32BE(s,0),d.writeUInt32BE(n,4),r&&r.copy(d,8),d.writeInt32BE(Z.crc32(d.slice(4,d.length-4)),d.length-4),d},u.prototype.packGAMA=function(n){let r=Buffer.alloc(4);return r.writeUInt32BE(Math.floor(n*z.GAMMA_DIVISION),0),this._packChunk(z.TYPE_gAMA,r)},u.prototype.packIHDR=function(n,r){let s=Buffer.alloc(13);return s.writeUInt32BE(n,0),s.writeUInt32BE(r,4),s[8]=this._options.bitDepth,s[9]=this._options.colorType,s[10]=0,s[11]=0,s[12]=0,this._packChunk(z.TYPE_IHDR,s)},u.prototype.packIDAT=function(n){return this._packChunk(z.TYPE_IDAT,n)},u.prototype.packIEND=function(){return this._packChunk(z.TYPE_IEND,null)},ae.exports}var Xe;function Rr(){if(Xe)return ie.exports;Xe=1;let z=wt,Z=wt,x=Lt(),b=vr(),c=ie.exports=function(u){Z.call(this);let n=u||{};this._packer=new b(n),this._deflate=this._packer.createDeflate(),this.readable=!0};return z.inherits(c,Z),c.prototype.pack=function(u,n,r,s){this.emit("data",Buffer.from(x.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(n,r)),s&&this.emit("data",this._packer.packGAMA(s));let d=this._packer.filterData(u,n,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(p){this.emit("data",this._packer.packIDAT(p))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(d)},ie.exports}var Nt={},jt={exports:{}},le={},Ot={},Ve;function Or(){if(Ve)return Ot;Ve=1,Ot.byteLength=r,Ot.toByteArray=d,Ot.fromByteArray=v;for(var z=[],Z=[],x=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=b.length;c<u;++c)z[c]=b[c],Z[b.charCodeAt(c)]=c;Z[45]=62,Z[95]=63;function n(o){var y=o.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=o.indexOf("=");f===-1&&(f=y);var w=f===y?0:4-f%4;return[f,w]}function r(o){var y=n(o),f=y[0],w=y[1];return(f+w)*3/4-w}function s(o,y,f){return(y+f)*3/4-f}function d(o){var y,f=n(o),w=f[0],m=f[1],g=new x(s(o,w,m)),A=0,I=m>0?w-4:w,S;for(S=0;S<I;S+=4)y=Z[o.charCodeAt(S)]<<18|Z[o.charCodeAt(S+1)]<<12|Z[o.charCodeAt(S+2)]<<6|Z[o.charCodeAt(S+3)],g[A++]=y>>16&255,g[A++]=y>>8&255,g[A++]=y&255;return m===2&&(y=Z[o.charCodeAt(S)]<<2|Z[o.charCodeAt(S+1)]>>4,g[A++]=y&255),m===1&&(y=Z[o.charCodeAt(S)]<<10|Z[o.charCodeAt(S+1)]<<4|Z[o.charCodeAt(S+2)]>>2,g[A++]=y>>8&255,g[A++]=y&255),g}function p(o){return z[o>>18&63]+z[o>>12&63]+z[o>>6&63]+z[o&63]}function _(o,y,f){for(var w,m=[],g=y;g<f;g+=3)w=(o[g]<<16&16711680)+(o[g+1]<<8&65280)+(o[g+2]&255),m.push(p(w));return m.join("")}function v(o){for(var y,f=o.length,w=f%3,m=[],g=16383,A=0,I=f-w;A<I;A+=g)m.push(_(o,A,A+g>I?I:A+g));return w===1?(y=o[f-1],m.push(z[y>>2]+z[y<<4&63]+"==")):w===2&&(y=(o[f-2]<<8)+o[f-1],m.push(z[y>>10]+z[y>>4&63]+z[y<<2&63]+"=")),m.join("")}return Ot}var Yt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ke;function Lr(){return Ke||(Ke=1,Yt.read=function(z,Z,x,b,c){var u,n,r=c*8-b-1,s=(1<<r)-1,d=s>>1,p=-7,_=x?c-1:0,v=x?-1:1,o=z[Z+_];for(_+=v,u=o&(1<<-p)-1,o>>=-p,p+=r;p>0;u=u*256+z[Z+_],_+=v,p-=8);for(n=u&(1<<-p)-1,u>>=-p,p+=b;p>0;n=n*256+z[Z+_],_+=v,p-=8);if(u===0)u=1-d;else{if(u===s)return n?NaN:(o?-1:1)*(1/0);n=n+Math.pow(2,b),u=u-d}return(o?-1:1)*n*Math.pow(2,u-b)},Yt.write=function(z,Z,x,b,c,u){var n,r,s,d=u*8-c-1,p=(1<<d)-1,_=p>>1,v=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,o=b?0:u-1,y=b?1:-1,f=Z<0||Z===0&&1/Z<0?1:0;for(Z=Math.abs(Z),isNaN(Z)||Z===1/0?(r=isNaN(Z)?1:0,n=p):(n=Math.floor(Math.log(Z)/Math.LN2),Z*(s=Math.pow(2,-n))<1&&(n--,s*=2),n+_>=1?Z+=v/s:Z+=v*Math.pow(2,1-_),Z*s>=2&&(n++,s/=2),n+_>=p?(r=0,n=p):n+_>=1?(r=(Z*s-1)*Math.pow(2,c),n=n+_):(r=Z*Math.pow(2,_-1)*Math.pow(2,c),n=0));c>=8;z[x+o]=r&255,o+=y,r/=256,c-=8);for(n=n<<c|r,d+=c;d>0;z[x+o]=n&255,o+=y,n/=256,d-=8);z[x+o-y]|=f*128}),Yt}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Je;function Ur(){return Je||(Je=1,function(z){var Z=Or(),x=Lr(),b=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=r,z.SlowBuffer=g,z.INSPECT_MAX_BYTES=50;var c=2147483647;z.kMaxLength=c,r.TYPED_ARRAY_SUPPORT=u(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var l=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(l,t),l.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function n(l){if(l>c)throw new RangeError('The value "'+l+'" is invalid for option "size"');var t=new Uint8Array(l);return Object.setPrototypeOf(t,r.prototype),t}function r(l,t,e){if(typeof l=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(l)}return s(l,t,e)}r.poolSize=8192;function s(l,t,e){if(typeof l=="string")return v(l,t);if(ArrayBuffer.isView(l))return y(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(lt(l,ArrayBuffer)||l&&lt(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lt(l,SharedArrayBuffer)||l&&lt(l.buffer,SharedArrayBuffer)))return f(l,t,e);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=l.valueOf&&l.valueOf();if(i!=null&&i!==l)return r.from(i,t,e);var k=w(l);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return r.from(l[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}r.from=function(l,t,e){return s(l,t,e)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function d(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function p(l,t,e){return d(l),l<=0?n(l):t!==void 0?typeof e=="string"?n(l).fill(t,e):n(l).fill(t):n(l)}r.alloc=function(l,t,e){return p(l,t,e)};function _(l){return d(l),n(l<0?0:m(l)|0)}r.allocUnsafe=function(l){return _(l)},r.allocUnsafeSlow=function(l){return _(l)};function v(l,t){if((typeof t!="string"||t==="")&&(t="utf8"),!r.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var e=A(l,t)|0,i=n(e),k=i.write(l,t);return k!==e&&(i=i.slice(0,k)),i}function o(l){for(var t=l.length<0?0:m(l.length)|0,e=n(t),i=0;i<t;i+=1)e[i]=l[i]&255;return e}function y(l){if(lt(l,Uint8Array)){var t=new Uint8Array(l);return f(t.buffer,t.byteOffset,t.byteLength)}return o(l)}function f(l,t,e){if(t<0||l.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');var i;return t===void 0&&e===void 0?i=new Uint8Array(l):e===void 0?i=new Uint8Array(l,t):i=new Uint8Array(l,t,e),Object.setPrototypeOf(i,r.prototype),i}function w(l){if(r.isBuffer(l)){var t=m(l.length)|0,e=n(t);return e.length===0||l.copy(e,0,0,t),e}if(l.length!==void 0)return typeof l.length!="number"||a(l.length)?n(0):o(l);if(l.type==="Buffer"&&Array.isArray(l.data))return o(l.data)}function m(l){if(l>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return l|0}function g(l){return+l!=l&&(l=0),r.alloc(+l)}r.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==r.prototype},r.compare=function(t,e){if(lt(t,Uint8Array)&&(t=r.from(t,t.offset,t.byteLength)),lt(e,Uint8Array)&&(e=r.from(e,e.offset,e.byteLength)),!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,k=e.length,T=0,E=Math.min(i,k);T<E;++T)if(t[T]!==e[T]){i=t[T],k=e[T];break}return i<k?-1:k<i?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return r.alloc(0);var i;if(e===void 0)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var k=r.allocUnsafe(e),T=0;for(i=0;i<t.length;++i){var E=t[i];if(lt(E,Uint8Array))T+E.length>k.length?r.from(E).copy(k,T):Uint8Array.prototype.set.call(k,E,T);else if(r.isBuffer(E))E.copy(k,T);else throw new TypeError('"list" argument must be an Array of Buffers');T+=E.length}return k};function A(l,t){if(r.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||lt(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);var e=l.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&e===0)return 0;for(var k=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return st(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return ot(l).length;default:if(k)return i?-1:st(l).length;t=(""+t).toLowerCase(),k=!0}}r.byteLength=A;function I(l,t,e){var i=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(l||(l="utf8");;)switch(l){case"hex":return q(this,t,e);case"utf8":case"utf-8":return h(this,t,e);case"ascii":return V(this,t,e);case"latin1":case"binary":return tt(this,t,e);case"base64":return D(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,t,e);default:if(i)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),i=!0}}r.prototype._isBuffer=!0;function S(l,t,e){var i=l[t];l[t]=l[e],l[e]=i}r.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},r.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},r.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},r.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?h(this,0,t):I.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:r.compare(this,t)===0},r.prototype.inspect=function(){var t="",e=z.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},b&&(r.prototype[b]=r.prototype.inspect),r.prototype.compare=function(t,e,i,k,T){if(lt(t,Uint8Array)&&(t=r.from(t,t.offset,t.byteLength)),!r.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),i===void 0&&(i=t?t.length:0),k===void 0&&(k=0),T===void 0&&(T=this.length),e<0||i>t.length||k<0||T>this.length)throw new RangeError("out of range index");if(k>=T&&e>=i)return 0;if(k>=T)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,k>>>=0,T>>>=0,this===t)return 0;for(var E=T-k,M=i-e,G=Math.min(E,M),H=this.slice(k,T),W=t.slice(e,i),K=0;K<G;++K)if(H[K]!==W[K]){E=H[K],M=W[K];break}return E<M?-1:M<E?1:0};function O(l,t,e,i,k){if(l.length===0)return-1;if(typeof e=="string"?(i=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,a(e)&&(e=k?0:l.length-1),e<0&&(e=l.length+e),e>=l.length){if(k)return-1;e=l.length-1}else if(e<0)if(k)e=0;else return-1;if(typeof t=="string"&&(t=r.from(t,i)),r.isBuffer(t))return t.length===0?-1:P(l,t,e,i,k);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(l,t,e):Uint8Array.prototype.lastIndexOf.call(l,t,e):P(l,[t],e,i,k);throw new TypeError("val must be string, number or Buffer")}function P(l,t,e,i,k){var T=1,E=l.length,M=t.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(l.length<2||t.length<2)return-1;T=2,E/=2,M/=2,e/=2}function G(rt,ct){return T===1?rt[ct]:rt.readUInt16BE(ct*T)}var H;if(k){var W=-1;for(H=e;H<E;H++)if(G(l,H)===G(t,W===-1?0:H-W)){if(W===-1&&(W=H),H-W+1===M)return W*T}else W!==-1&&(H-=H-W),W=-1}else for(e+M>E&&(e=E-M),H=e;H>=0;H--){for(var K=!0,et=0;et<M;et++)if(G(l,H+et)!==G(t,et)){K=!1;break}if(K)return H}return-1}r.prototype.includes=function(t,e,i){return this.indexOf(t,e,i)!==-1},r.prototype.indexOf=function(t,e,i){return O(this,t,e,i,!0)},r.prototype.lastIndexOf=function(t,e,i){return O(this,t,e,i,!1)};function F(l,t,e,i){e=Number(e)||0;var k=l.length-e;i?(i=Number(i),i>k&&(i=k)):i=k;var T=t.length;i>T/2&&(i=T/2);for(var E=0;E<i;++E){var M=parseInt(t.substr(E*2,2),16);if(a(M))return E;l[e+E]=M}return E}function U(l,t,e,i){return mt(st(t,l.length-e),l,e,i)}function j(l,t,e,i){return mt(at(t),l,e,i)}function J(l,t,e,i){return mt(ot(t),l,e,i)}function C(l,t,e,i){return mt(ft(t,l.length-e),l,e,i)}r.prototype.write=function(t,e,i,k){if(e===void 0)k="utf8",i=this.length,e=0;else if(i===void 0&&typeof e=="string")k=e,i=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(i)?(i=i>>>0,k===void 0&&(k="utf8")):(k=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var T=this.length-e;if((i===void 0||i>T)&&(i=T),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var E=!1;;)switch(k){case"hex":return F(this,t,e,i);case"utf8":case"utf-8":return U(this,t,e,i);case"ascii":case"latin1":case"binary":return j(this,t,e,i);case"base64":return J(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,i);default:if(E)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),E=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(l,t,e){return t===0&&e===l.length?Z.fromByteArray(l):Z.fromByteArray(l.slice(t,e))}function h(l,t,e){e=Math.min(l.length,e);for(var i=[],k=t;k<e;){var T=l[k],E=null,M=T>239?4:T>223?3:T>191?2:1;if(k+M<=e){var G,H,W,K;switch(M){case 1:T<128&&(E=T);break;case 2:G=l[k+1],(G&192)===128&&(K=(T&31)<<6|G&63,K>127&&(E=K));break;case 3:G=l[k+1],H=l[k+2],(G&192)===128&&(H&192)===128&&(K=(T&15)<<12|(G&63)<<6|H&63,K>2047&&(K<55296||K>57343)&&(E=K));break;case 4:G=l[k+1],H=l[k+2],W=l[k+3],(G&192)===128&&(H&192)===128&&(W&192)===128&&(K=(T&15)<<18|(G&63)<<12|(H&63)<<6|W&63,K>65535&&K<1114112&&(E=K))}}E===null?(E=65533,M=1):E>65535&&(E-=65536,i.push(E>>>10&1023|55296),E=56320|E&1023),i.push(E),k+=M}return nt(i)}var Y=4096;function nt(l){var t=l.length;if(t<=Y)return String.fromCharCode.apply(String,l);for(var e="",i=0;i<t;)e+=String.fromCharCode.apply(String,l.slice(i,i+=Y));return e}function V(l,t,e){var i="";e=Math.min(l.length,e);for(var k=t;k<e;++k)i+=String.fromCharCode(l[k]&127);return i}function tt(l,t,e){var i="";e=Math.min(l.length,e);for(var k=t;k<e;++k)i+=String.fromCharCode(l[k]);return i}function q(l,t,e){var i=l.length;(!t||t<0)&&(t=0),(!e||e<0||e>i)&&(e=i);for(var k="",T=t;T<e;++T)k+=B[l[T]];return k}function $(l,t,e){for(var i=l.slice(t,e),k="",T=0;T<i.length-1;T+=2)k+=String.fromCharCode(i[T]+i[T+1]*256);return k}r.prototype.slice=function(t,e){var i=this.length;t=~~t,e=e===void 0?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t);var k=this.subarray(t,e);return Object.setPrototypeOf(k,r.prototype),k};function L(l,t,e){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+t>e)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(t,e,i){t=t>>>0,e=e>>>0,i||L(t,e,this.length);for(var k=this[t],T=1,E=0;++E<e&&(T*=256);)k+=this[t+E]*T;return k},r.prototype.readUintBE=r.prototype.readUIntBE=function(t,e,i){t=t>>>0,e=e>>>0,i||L(t,e,this.length);for(var k=this[t+--e],T=1;e>0&&(T*=256);)k+=this[t+--e]*T;return k},r.prototype.readUint8=r.prototype.readUInt8=function(t,e){return t=t>>>0,e||L(t,1,this.length),this[t]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||L(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||L(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||L(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,i){t=t>>>0,e=e>>>0,i||L(t,e,this.length);for(var k=this[t],T=1,E=0;++E<e&&(T*=256);)k+=this[t+E]*T;return T*=128,k>=T&&(k-=Math.pow(2,8*e)),k},r.prototype.readIntBE=function(t,e,i){t=t>>>0,e=e>>>0,i||L(t,e,this.length);for(var k=e,T=1,E=this[t+--k];k>0&&(T*=256);)E+=this[t+--k]*T;return T*=128,E>=T&&(E-=Math.pow(2,8*e)),E},r.prototype.readInt8=function(t,e){return t=t>>>0,e||L(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},r.prototype.readInt16LE=function(t,e){t=t>>>0,e||L(t,2,this.length);var i=this[t]|this[t+1]<<8;return i&32768?i|4294901760:i},r.prototype.readInt16BE=function(t,e){t=t>>>0,e||L(t,2,this.length);var i=this[t+1]|this[t]<<8;return i&32768?i|4294901760:i},r.prototype.readInt32LE=function(t,e){return t=t>>>0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return t=t>>>0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return t=t>>>0,e||L(t,4,this.length),x.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return t=t>>>0,e||L(t,4,this.length),x.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||L(t,8,this.length),x.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||L(t,8,this.length),x.read(this,t,!1,52,8)};function R(l,t,e,i,k,T){if(!r.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>k||t<T)throw new RangeError('"value" argument is out of bounds');if(e+i>l.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(t,e,i,k){if(t=+t,e=e>>>0,i=i>>>0,!k){var T=Math.pow(2,8*i)-1;R(this,t,e,i,T,0)}var E=1,M=0;for(this[e]=t&255;++M<i&&(E*=256);)this[e+M]=t/E&255;return e+i},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(t,e,i,k){if(t=+t,e=e>>>0,i=i>>>0,!k){var T=Math.pow(2,8*i)-1;R(this,t,e,i,T,0)}var E=i-1,M=1;for(this[e+E]=t&255;--E>=0&&(M*=256);)this[e+E]=t/M&255;return e+i},r.prototype.writeUint8=r.prototype.writeUInt8=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,1,255,0),this[e]=t&255,e+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},r.prototype.writeIntLE=function(t,e,i,k){if(t=+t,e=e>>>0,!k){var T=Math.pow(2,8*i-1);R(this,t,e,i,T-1,-T)}var E=0,M=1,G=0;for(this[e]=t&255;++E<i&&(M*=256);)t<0&&G===0&&this[e+E-1]!==0&&(G=1),this[e+E]=(t/M>>0)-G&255;return e+i},r.prototype.writeIntBE=function(t,e,i,k){if(t=+t,e=e>>>0,!k){var T=Math.pow(2,8*i-1);R(this,t,e,i,T-1,-T)}var E=i-1,M=1,G=0;for(this[e+E]=t&255;--E>=0&&(M*=256);)t<0&&G===0&&this[e+E+1]!==0&&(G=1),this[e+E]=(t/M>>0)-G&255;return e+i},r.prototype.writeInt8=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},r.prototype.writeInt16LE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},r.prototype.writeInt16BE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},r.prototype.writeInt32LE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},r.prototype.writeInt32BE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function Q(l,t,e,i,k,T){if(e+i>l.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function X(l,t,e,i,k){return t=+t,e=e>>>0,k||Q(l,t,e,4),x.write(l,t,e,i,23,4),e+4}r.prototype.writeFloatLE=function(t,e,i){return X(this,t,e,!0,i)},r.prototype.writeFloatBE=function(t,e,i){return X(this,t,e,!1,i)};function N(l,t,e,i,k){return t=+t,e=e>>>0,k||Q(l,t,e,8),x.write(l,t,e,i,52,8),e+8}r.prototype.writeDoubleLE=function(t,e,i){return N(this,t,e,!0,i)},r.prototype.writeDoubleBE=function(t,e,i){return N(this,t,e,!1,i)},r.prototype.copy=function(t,e,i,k){if(!r.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),!k&&k!==0&&(k=this.length),e>=t.length&&(e=t.length),e||(e=0),k>0&&k<i&&(k=i),k===i||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),t.length-e<k-i&&(k=t.length-e+i);var T=k-i;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,i,k):Uint8Array.prototype.set.call(t,this.subarray(i,k),e),T},r.prototype.fill=function(t,e,i,k){if(typeof t=="string"){if(typeof e=="string"?(k=e,e=0,i=this.length):typeof i=="string"&&(k=i,i=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!r.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(t.length===1){var T=t.charCodeAt(0);(k==="utf8"&&T<128||k==="latin1")&&(t=T)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e=e>>>0,i=i===void 0?this.length:i>>>0,t||(t=0);var E;if(typeof t=="number")for(E=e;E<i;++E)this[E]=t;else{var M=r.isBuffer(t)?t:r.from(t,k),G=M.length;if(G===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(E=0;E<i-e;++E)this[E+e]=M[E%G]}return this};var it=/[^+/0-9A-Za-z-_]/g;function ut(l){if(l=l.split("=")[0],l=l.trim().replace(it,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function st(l,t){t=t||1/0;for(var e,i=l.length,k=null,T=[],E=0;E<i;++E){if(e=l.charCodeAt(E),e>55295&&e<57344){if(!k){if(e>56319){(t-=3)>-1&&T.push(239,191,189);continue}else if(E+1===i){(t-=3)>-1&&T.push(239,191,189);continue}k=e;continue}if(e<56320){(t-=3)>-1&&T.push(239,191,189),k=e;continue}e=(k-55296<<10|e-56320)+65536}else k&&(t-=3)>-1&&T.push(239,191,189);if(k=null,e<128){if((t-=1)<0)break;T.push(e)}else if(e<2048){if((t-=2)<0)break;T.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;T.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;T.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return T}function at(l){for(var t=[],e=0;e<l.length;++e)t.push(l.charCodeAt(e)&255);return t}function ft(l,t){for(var e,i,k,T=[],E=0;E<l.length&&!((t-=2)<0);++E)e=l.charCodeAt(E),i=e>>8,k=e%256,T.push(k),T.push(i);return T}function ot(l){return Z.toByteArray(ut(l))}function mt(l,t,e,i){for(var k=0;k<i&&!(k+e>=t.length||k>=l.length);++k)t[k+e]=l[k];return k}function lt(l,t){return l instanceof t||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===t.name}function a(l){return l!==l}var B=function(){for(var l="0123456789abcdef",t=new Array(256),e=0;e<16;++e)for(var i=e*16,k=0;k<16;++k)t[i+k]=l[e]+l[k];return t}()}(le)),le}var $e;function Pr(){return $e||($e=1,function(z,Z){let x=wt.ok,b=wt,c=wt,u=Ur().kMaxLength;function n(_){if(!(this instanceof n))return new n(_);_&&_.chunkSize<b.Z_MIN_CHUNK&&(_.chunkSize=b.Z_MIN_CHUNK),b.Inflate.call(this,_),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,_&&_.maxLength!=null&&(this._maxLength=_.maxLength)}function r(_){return new n(_)}function s(_,v){_._handle&&(_._handle.close(),_._handle=null)}n.prototype._processChunk=function(_,v,o){if(typeof o=="function")return b.Inflate._processChunk.call(this,_,v,o);let y=this,f=_&&_.length,w=this._chunkSize-this._offset,m=this._maxLength,g=0,A=[],I=0,S;this.on("error",function(U){S=U});function O(U,j){if(y._hadError)return;let J=w-j;if(x(J>=0,"have should not go down"),J>0){let C=y._buffer.slice(y._offset,y._offset+J);if(y._offset+=J,C.length>m&&(C=C.slice(0,m)),A.push(C),I+=C.length,m-=C.length,m===0)return!1}return(j===0||y._offset>=y._chunkSize)&&(w=y._chunkSize,y._offset=0,y._buffer=Buffer.allocUnsafe(y._chunkSize)),j===0?(g+=f-U,f=U,!0):!1}x(this._handle,"zlib binding closed");let P;do P=this._handle.writeSync(v,_,g,f,this._buffer,this._offset,w),P=P||this._writeState;while(!this._hadError&&O(P[0],P[1]));if(this._hadError)throw S;if(I>=u)throw s(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes");let F=Buffer.concat(A,I);return s(this),F},c.inherits(n,b.Inflate);function d(_,v){if(typeof v=="string"&&(v=Buffer.from(v)),!(v instanceof Buffer))throw new TypeError("Not a string or buffer");let o=_._finishFlushFlag;return o==null&&(o=b.Z_FINISH),_._processChunk(v,o)}function p(_,v){return d(new n(v),_)}z.exports=Z=p,Z.Inflate=n,Z.createInflate=r,Z.inflateSync=p}(jt,jt.exports)),jt.exports}var he={exports:{}},Qe;function gr(){if(Qe)return he.exports;Qe=1;let z=he.exports=function(Z){this._buffer=Z,this._reads=[]};return z.prototype.read=function(Z,x){this._reads.push({length:Math.abs(Z),allowLess:Z<0,func:x})},z.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let Z=this._reads[0];if(this._buffer.length&&(this._buffer.length>=Z.length||Z.allowLess)){this._reads.shift();let x=this._buffer;this._buffer=x.slice(Z.length),Z.func.call(this,x.slice(0,Z.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")},he.exports}var ue={},tr;function zr(){if(tr)return ue;tr=1;let z=gr(),Z=dr();return ue.process=function(x,b){let c=[],u=new z(x);return new Z(b,{read:u.read.bind(u),write:function(r){c.push(r)},complete:function(){}}).start(),u.process(),Buffer.concat(c)},ue}var fe,er;function Dr(){if(er)return fe;er=1;let z=!0,Z=wt,x=Pr();Z.deflateSync||(z=!1);let b=gr(),c=zr(),u=mr(),n=_r(),r=yr();return fe=function(s,d){if(!z)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let p;function _(C){p=C}let v;function o(C){v=C}function y(C){v.transColor=C}function f(C){v.palette=C}function w(){v.alpha=!0}let m;function g(C){m=C}let A=[];function I(C){A.push(C)}let S=new b(s);if(new u(d,{read:S.read.bind(S),error:_,metadata:o,gamma:g,palette:f,transColor:y,inflateData:I,simpleTransparency:w}).start(),S.process(),p)throw p;let P=Buffer.concat(A);A.length=0;let F;if(v.interlace)F=Z.inflateSync(P);else{let D=((v.width*v.bpp*v.depth+7>>3)+1)*v.height;F=x(P,{chunkSize:D,maxLength:D})}if(P=null,!F||!F.length)throw new Error("bad png - invalid inflate data response");let U=c.process(F,v);P=null;let j=n.dataToBitMap(U,v);U=null;let J=r(j,v,d.skipRescale);return v.data=J,v.gamma=m||0,v},fe}var ce,rr;function Mr(){if(rr)return ce;rr=1;let z=!0,Z=wt;Z.deflateSync||(z=!1);let x=Lt(),b=vr();return ce=function(c,u){if(!z)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let n=u||{},r=new b(n),s=[];s.push(Buffer.from(x.PNG_SIGNATURE)),s.push(r.packIHDR(c.width,c.height)),c.gamma&&s.push(r.packGAMA(c.gamma));let d=r.filterData(c.data,c.width,c.height),p=Z.deflateSync(d,r.getDeflateOptions());if(d=null,!p||!p.length)throw new Error("bad png - invalid compressed data response");return s.push(r.packIDAT(p)),s.push(r.packIEND()),Buffer.concat(s)},ce}var nr;function Nr(){if(nr)return Nt;nr=1;let z=Dr(),Z=Mr();return Nt.read=function(x,b){return z(x,b||{})},Nt.write=function(x,b){return Z(x,b)},Nt}var ir;function jr(){if(ir)return Gt;ir=1;let z=wt,Z=wt,x=Fr(),b=Rr(),c=Nr(),u=Gt.PNG=function(n){Z.call(this),n=n||{},this.width=n.width|0,this.height=n.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,n.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new x(n),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(r){this.data=r,this.emit("parsed",r)}).bind(this)),this._packer=new b(n),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};return z.inherits(u,Z),u.sync=c,u.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this)},u.prototype.parse=function(n,r){if(r){let s,d;s=(function(p){this.removeListener("error",d),this.data=p,r(null,this)}).bind(this),d=(function(p){this.removeListener("parsed",s),r(p,null)}).bind(this),this.once("parsed",s),this.once("error",d)}return this.end(n),this},u.prototype.write=function(n){return this._parser.write(n),!0},u.prototype.end=function(n){this._parser.end(n)},u.prototype._metadata=function(n){this.width=n.width,this.height=n.height,this.emit("metadata",n)},u.prototype._gamma=function(n){this.gamma=n},u.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},u.bitblt=function(n,r,s,d,p,_,v,o){if(s|=0,d|=0,p|=0,_|=0,v|=0,o|=0,s>n.width||d>n.height||s+p>n.width||d+_>n.height)throw new Error("bitblt reading outside image");if(v>r.width||o>r.height||v+p>r.width||o+_>r.height)throw new Error("bitblt writing outside image");for(let y=0;y<_;y++)n.data.copy(r.data,(o+y)*r.width+v<<2,(d+y)*n.width+s<<2,(d+y)*n.width+s+p<<2)},u.prototype.bitblt=function(n,r,s,d,p,_,v){return u.bitblt(this,n,r,s,d,p,_,v),this},u.adjustGamma=function(n){if(n.gamma){for(let r=0;r<n.height;r++)for(let s=0;s<n.width;s++){let d=n.width*r+s<<2;for(let p=0;p<3;p++){let _=n.data[d+p]/255;_=Math.pow(_,1/2.2/n.gamma),n.data[d+p]=Math.round(_*255)}}n.gamma=0}},u.prototype.adjustGamma=function(){u.adjustGamma(this)},Gt}jr();var de={exports:{}},ar;function Yr(){return ar||(ar=1,function(z){function Z(b){var c=Math.floor,u=new Array(64),n=new Array(64),r=new Array(64),s=new Array(64),d,p,_,v,o=new Array(65535),y=new Array(65535),f=new Array(64),w=new Array(64),m=[],g=0,A=7,I=new Array(64),S=new Array(64),O=new Array(64),P=new Array(256),F=new Array(2048),U,j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],h=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],nt=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(i){for(var k=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],T=0;T<64;T++){var E=c((k[T]*i+50)/100);E<1?E=1:E>255&&(E=255),u[j[T]]=E}for(var M=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],G=0;G<64;G++){var H=c((M[G]*i+50)/100);H<1?H=1:H>255&&(H=255),n[j[G]]=H}for(var W=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],K=0,et=0;et<8;et++)for(var rt=0;rt<8;rt++)r[K]=1/(u[j[K]]*W[et]*W[rt]*8),s[K]=1/(n[j[K]]*W[et]*W[rt]*8),K++}function $(i,k){for(var T=0,E=0,M=new Array,G=1;G<=16;G++){for(var H=1;H<=i[G];H++)M[k[E]]=[],M[k[E]][0]=T,M[k[E]][1]=G,E++,T++;T*=2}return M}function L(){d=$(J,C),p=$(Y,nt),_=$(D,h),v=$(V,tt)}function R(){for(var i=1,k=2,T=1;T<=15;T++){for(var E=i;E<k;E++)y[32767+E]=T,o[32767+E]=[],o[32767+E][1]=T,o[32767+E][0]=E;for(var M=-(k-1);M<=-i;M++)y[32767+M]=T,o[32767+M]=[],o[32767+M][1]=T,o[32767+M][0]=k-1+M;i<<=1,k<<=1}}function Q(){for(var i=0;i<256;i++)F[i]=19595*i,F[i+256>>0]=38470*i,F[i+512>>0]=7471*i+32768,F[i+768>>0]=-11059*i,F[i+1024>>0]=-21709*i,F[i+1280>>0]=32768*i+8421375,F[i+1536>>0]=-27439*i,F[i+1792>>0]=-5329*i}function X(i){for(var k=i[0],T=i[1]-1;T>=0;)k&1<<T&&(g|=1<<A),T--,A--,A<0&&(g==255?(N(255),N(0)):N(g),A=7,g=0)}function N(i){m.push(i)}function it(i){N(i>>8&255),N(i&255)}function ut(i,k){var T,E,M,G,H,W,K,et,rt=0,ct,pt=8,dt=64;for(ct=0;ct<pt;++ct){T=i[rt],E=i[rt+1],M=i[rt+2],G=i[rt+3],H=i[rt+4],W=i[rt+5],K=i[rt+6],et=i[rt+7];var ht=T+et,_t=T-et,yt=E+K,vt=E-K,gt=M+W,xt=M-W,Tt=G+H,St=G-H,kt=ht+Tt,bt=ht-Tt,Et=yt+gt,Ct=yt-gt;i[rt]=kt+Et,i[rt+4]=kt-Et;var Ft=(Ct+bt)*.707106781;i[rt+2]=bt+Ft,i[rt+6]=bt-Ft,kt=St+xt,Et=xt+vt,Ct=vt+_t;var It=(kt-Ct)*.382683433,Bt=.5411961*kt+It,_e=1.306562965*Ct+It,ye=Et*.707106781,ve=_t+ye,ge=_t-ye;i[rt+5]=ge+Bt,i[rt+3]=ge-Bt,i[rt+1]=ve+_e,i[rt+7]=ve-_e,rt+=8}for(rt=0,ct=0;ct<pt;++ct){T=i[rt],E=i[rt+8],M=i[rt+16],G=i[rt+24],H=i[rt+32],W=i[rt+40],K=i[rt+48],et=i[rt+56];var we=T+et,Zt=T-et,xe=E+K,be=E-K,ke=M+W,Ee=M-W,Ae=G+H,wr=G-H,Rt=we+Ae,Wt=we-Ae,Ut=xe+ke,Pt=xe-ke;i[rt]=Rt+Ut,i[rt+32]=Rt-Ut;var Ce=(Pt+Wt)*.707106781;i[rt+16]=Wt+Ce,i[rt+48]=Wt-Ce,Rt=wr+Ee,Ut=Ee+be,Pt=be+Zt;var Te=(Rt-Pt)*.382683433,Se=.5411961*Rt+Te,Fe=1.306562965*Pt+Te,Ie=Ut*.707106781,Be=Zt+Ie,Re=Zt-Ie;i[rt+40]=Re+Se,i[rt+24]=Re-Se,i[rt+8]=Be+Fe,i[rt+56]=Be-Fe,rt++}var zt;for(ct=0;ct<dt;++ct)zt=i[ct]*k[ct],f[ct]=zt>0?zt+.5|0:zt-.5|0;return f}function st(){it(65504),it(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),it(1),it(1),N(0),N(0)}function at(i){if(i){it(65505),i[0]===69&&i[1]===120&&i[2]===105&&i[3]===102?it(i.length+2):(it(i.length+5+2),N(69),N(120),N(105),N(102),N(0));for(var k=0;k<i.length;k++)N(i[k])}}function ft(i,k){it(65472),it(17),N(8),it(k),it(i),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}function ot(){it(65499),it(132),N(0);for(var i=0;i<64;i++)N(u[i]);N(1);for(var k=0;k<64;k++)N(n[k])}function mt(){it(65476),it(418),N(0);for(var i=0;i<16;i++)N(J[i+1]);for(var k=0;k<=11;k++)N(C[k]);N(16);for(var T=0;T<16;T++)N(D[T+1]);for(var E=0;E<=161;E++)N(h[E]);N(1);for(var M=0;M<16;M++)N(Y[M+1]);for(var G=0;G<=11;G++)N(nt[G]);N(17);for(var H=0;H<16;H++)N(V[H+1]);for(var W=0;W<=161;W++)N(tt[W])}function lt(i){typeof i>"u"||i.constructor!==Array||i.forEach(k=>{if(typeof k=="string"){it(65534);var T=k.length;it(T+2);var E;for(E=0;E<T;E++)N(k.charCodeAt(E))}})}function a(){it(65498),it(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0)}function B(i,k,T,E,M){for(var G=M[0],H=M[240],W,K=16,et=63,rt=64,ct=ut(i,k),pt=0;pt<rt;++pt)w[j[pt]]=ct[pt];var dt=w[0]-T;T=w[0],dt==0?X(E[0]):(W=32767+dt,X(E[y[W]]),X(o[W]));for(var ht=63;ht>0&&w[ht]==0;ht--);if(ht==0)return X(G),T;for(var _t=1,yt;_t<=ht;){for(var vt=_t;w[_t]==0&&_t<=ht;++_t);var gt=_t-vt;if(gt>=K){yt=gt>>4;for(var xt=1;xt<=yt;++xt)X(H);gt=gt&15}W=32767+w[_t],X(M[(gt<<4)+y[W]]),X(o[W]),_t++}return ht!=et&&X(G),T}function l(){for(var i=String.fromCharCode,k=0;k<256;k++)P[k]=i(k)}this.encode=function(i,k){new Date().getTime(),k&&t(k),m=new Array,g=0,A=7,it(65496),st(),lt(i.comments),at(i.exifBuffer),ot(),ft(i.width,i.height),mt(),a();var T=0,E=0,M=0;g=0,A=7,this.encode.displayName="_encode_";for(var G=i.data,H=i.width,W=i.height,K=H*4,et,rt=0,ct,pt,dt,ht,_t,yt,vt,gt;rt<W;){for(et=0;et<K;){for(ht=K*rt+et,_t=ht,yt=-1,vt=0,gt=0;gt<64;gt++)vt=gt>>3,yt=(gt&7)*4,_t=ht+vt*K+yt,rt+vt>=W&&(_t-=K*(rt+1+vt-W)),et+yt>=K&&(_t-=et+yt-K+4),ct=G[_t++],pt=G[_t++],dt=G[_t++],I[gt]=(F[ct]+F[pt+256>>0]+F[dt+512>>0]>>16)-128,S[gt]=(F[ct+768>>0]+F[pt+1024>>0]+F[dt+1280>>0]>>16)-128,O[gt]=(F[ct+1280>>0]+F[pt+1536>>0]+F[dt+1792>>0]>>16)-128;T=B(I,r,T,d,_),E=B(S,s,E,p,v),M=B(O,s,M,p,v),et+=32}rt+=8}if(A>=0){var xt=[];xt[1]=A+1,xt[0]=(1<<A+1)-1,X(xt)}return it(65497),Buffer.from(m)};function t(i){if(i<=0&&(i=1),i>100&&(i=100),U!=i){var k=0;i<50?k=Math.floor(5e3/i):k=Math.floor(200-i*2),q(k),U=i}}function e(){var i=new Date().getTime();b||(b=50),l(),L(),R(),Q(),t(b),new Date().getTime()-i}e()}z.exports=x;function x(b,c){typeof c>"u"&&(c=50);var u=new Z(c),n=u.encode(b,c);return{data:n,width:b.width,height:b.height}}}(de)),de.exports}var pe={exports:{}},sr;function Hr(){return sr||(sr=1,function(z){var Z=function(){var c=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),u=4017,n=799,r=3406,s=2276,d=1567,p=3784,_=5793,v=2896;function o(){}function y(S,O){for(var P=0,F=[],U,j,J=16;J>0&&!S[J-1];)J--;F.push({children:[],index:0});var C=F[0],D;for(U=0;U<J;U++){for(j=0;j<S[U];j++){for(C=F.pop(),C.children[C.index]=O[P];C.index>0;){if(F.length===0)throw new Error("Could not recreate Huffman Table");C=F.pop()}for(C.index++,F.push(C);F.length<=U;)F.push(D={children:[],index:0}),C.children[C.index]=D.children,C=D;P++}U+1<J&&(F.push(D={children:[],index:0}),C.children[C.index]=D.children,C=D)}return F[0].children}function f(S,O,P,F,U,j,J,C,D,h){P.precision,P.samplesPerLine,P.scanLines;var Y=P.mcusPerLine,nt=P.progressive;P.maxH,P.maxV;var V=O,tt=0,q=0;function $(){if(q>0)return q--,tt>>q&1;if(tt=S[O++],tt==255){var W=S[O++];if(W)throw new Error("unexpected marker: "+(tt<<8|W).toString(16))}return q=7,tt>>>7}function L(W){for(var K=W,et;(et=$())!==null;){if(K=K[et],typeof K=="number")return K;if(typeof K!="object")throw new Error("invalid huffman sequence")}return null}function R(W){for(var K=0;W>0;){var et=$();if(et===null)return;K=K<<1|et,W--}return K}function Q(W){var K=R(W);return K>=1<<W-1?K:K+(-1<<W)+1}function X(W,K){var et=L(W.huffmanTableDC),rt=et===0?0:Q(et);K[0]=W.pred+=rt;for(var ct=1;ct<64;){var pt=L(W.huffmanTableAC),dt=pt&15,ht=pt>>4;if(dt===0){if(ht<15)break;ct+=16;continue}ct+=ht;var _t=c[ct];K[_t]=Q(dt),ct++}}function N(W,K){var et=L(W.huffmanTableDC),rt=et===0?0:Q(et)<<D;K[0]=W.pred+=rt}function it(W,K){K[0]|=$()<<D}var ut=0;function st(W,K){if(ut>0){ut--;return}for(var et=j,rt=J;et<=rt;){var ct=L(W.huffmanTableAC),pt=ct&15,dt=ct>>4;if(pt===0){if(dt<15){ut=R(dt)+(1<<dt)-1;break}et+=16;continue}et+=dt;var ht=c[et];K[ht]=Q(pt)*(1<<D),et++}}var at=0,ft;function ot(W,K){for(var et=j,rt=J,ct=0;et<=rt;){var pt=c[et],dt=K[pt]<0?-1:1;switch(at){case 0:var ht=L(W.huffmanTableAC),_t=ht&15,ct=ht>>4;if(_t===0)ct<15?(ut=R(ct)+(1<<ct),at=4):(ct=16,at=1);else{if(_t!==1)throw new Error("invalid ACn encoding");ft=Q(_t),at=ct?2:3}continue;case 1:case 2:K[pt]?K[pt]+=($()<<D)*dt:(ct--,ct===0&&(at=at==2?3:0));break;case 3:K[pt]?K[pt]+=($()<<D)*dt:(K[pt]=ft<<D,at=0);break;case 4:K[pt]&&(K[pt]+=($()<<D)*dt);break}et++}at===4&&(ut--,ut===0&&(at=0))}function mt(W,K,et,rt,ct){var pt=et/Y|0,dt=et%Y,ht=pt*W.v+rt,_t=dt*W.h+ct;W.blocks[ht]===void 0&&h.tolerantDecoding||K(W,W.blocks[ht][_t])}function lt(W,K,et){var rt=et/W.blocksPerLine|0,ct=et%W.blocksPerLine;W.blocks[rt]===void 0&&h.tolerantDecoding||K(W,W.blocks[rt][ct])}var a=F.length,B,l,t,e,i,k;nt?j===0?k=C===0?N:it:k=C===0?st:ot:k=X;var T=0,E,M;a==1?M=F[0].blocksPerLine*F[0].blocksPerColumn:M=Y*P.mcusPerColumn,U||(U=M);for(var G,H;T<M;){for(l=0;l<a;l++)F[l].pred=0;if(ut=0,a==1)for(B=F[0],i=0;i<U;i++)lt(B,k,T),T++;else for(i=0;i<U;i++){for(l=0;l<a;l++)for(B=F[l],G=B.h,H=B.v,t=0;t<H;t++)for(e=0;e<G;e++)mt(B,k,T,t,e);if(T++,T===M)break}if(T===M)do{if(S[O]===255&&S[O+1]!==0)break;O+=1}while(O<S.length-2);if(q=0,E=S[O]<<8|S[O+1],E<65280)throw new Error("marker was not found");if(E>=65488&&E<=65495)O+=2;else break}return O-V}function w(S,O){var P=[],F=O.blocksPerLine,U=O.blocksPerColumn,j=F<<3,J=new Int32Array(64),C=new Uint8Array(64);function D(R,Q,X){var N=O.quantizationTable,it,ut,st,at,ft,ot,mt,lt,a,B=X,l;for(l=0;l<64;l++)B[l]=R[l]*N[l];for(l=0;l<8;++l){var t=8*l;if(B[1+t]==0&&B[2+t]==0&&B[3+t]==0&&B[4+t]==0&&B[5+t]==0&&B[6+t]==0&&B[7+t]==0){a=_*B[0+t]+512>>10,B[0+t]=a,B[1+t]=a,B[2+t]=a,B[3+t]=a,B[4+t]=a,B[5+t]=a,B[6+t]=a,B[7+t]=a;continue}it=_*B[0+t]+128>>8,ut=_*B[4+t]+128>>8,st=B[2+t],at=B[6+t],ft=v*(B[1+t]-B[7+t])+128>>8,lt=v*(B[1+t]+B[7+t])+128>>8,ot=B[3+t]<<4,mt=B[5+t]<<4,a=it-ut+1>>1,it=it+ut+1>>1,ut=a,a=st*p+at*d+128>>8,st=st*d-at*p+128>>8,at=a,a=ft-mt+1>>1,ft=ft+mt+1>>1,mt=a,a=lt+ot+1>>1,ot=lt-ot+1>>1,lt=a,a=it-at+1>>1,it=it+at+1>>1,at=a,a=ut-st+1>>1,ut=ut+st+1>>1,st=a,a=ft*s+lt*r+2048>>12,ft=ft*r-lt*s+2048>>12,lt=a,a=ot*n+mt*u+2048>>12,ot=ot*u-mt*n+2048>>12,mt=a,B[0+t]=it+lt,B[7+t]=it-lt,B[1+t]=ut+mt,B[6+t]=ut-mt,B[2+t]=st+ot,B[5+t]=st-ot,B[3+t]=at+ft,B[4+t]=at-ft}for(l=0;l<8;++l){var e=l;if(B[8+e]==0&&B[16+e]==0&&B[24+e]==0&&B[32+e]==0&&B[40+e]==0&&B[48+e]==0&&B[56+e]==0){a=_*X[l+0]+8192>>14,B[0+e]=a,B[8+e]=a,B[16+e]=a,B[24+e]=a,B[32+e]=a,B[40+e]=a,B[48+e]=a,B[56+e]=a;continue}it=_*B[0+e]+2048>>12,ut=_*B[32+e]+2048>>12,st=B[16+e],at=B[48+e],ft=v*(B[8+e]-B[56+e])+2048>>12,lt=v*(B[8+e]+B[56+e])+2048>>12,ot=B[24+e],mt=B[40+e],a=it-ut+1>>1,it=it+ut+1>>1,ut=a,a=st*p+at*d+2048>>12,st=st*d-at*p+2048>>12,at=a,a=ft-mt+1>>1,ft=ft+mt+1>>1,mt=a,a=lt+ot+1>>1,ot=lt-ot+1>>1,lt=a,a=it-at+1>>1,it=it+at+1>>1,at=a,a=ut-st+1>>1,ut=ut+st+1>>1,st=a,a=ft*s+lt*r+2048>>12,ft=ft*r-lt*s+2048>>12,lt=a,a=ot*n+mt*u+2048>>12,ot=ot*u-mt*n+2048>>12,mt=a,B[0+e]=it+lt,B[56+e]=it-lt,B[8+e]=ut+mt,B[48+e]=ut-mt,B[16+e]=st+ot,B[40+e]=st-ot,B[24+e]=at+ft,B[32+e]=at-ft}for(l=0;l<64;++l){var i=128+(B[l]+8>>4);Q[l]=i<0?0:i>255?255:i}}I(j*U*8);for(var h,Y,nt=0;nt<U;nt++){var V=nt<<3;for(h=0;h<8;h++)P.push(new Uint8Array(j));for(var tt=0;tt<F;tt++){D(O.blocks[nt][tt],C,J);var q=0,$=tt<<3;for(Y=0;Y<8;Y++){var L=P[V+Y];for(h=0;h<8;h++)L[$+h]=C[q++]}}}return P}function m(S){return S<0?0:S>255?255:S}o.prototype={load:function(O){var P=new XMLHttpRequest;P.open("GET",O,!0),P.responseType="arraybuffer",P.onload=(function(){var F=new Uint8Array(P.response||P.mozResponseArrayBuffer);this.parse(F),this.onload&&this.onload()}).bind(this),P.send(null)},parse:function(O){var P=this.opts.maxResolutionInMP*1e3*1e3,F=0;O.length;function U(){var dt=O[F]<<8|O[F+1];return F+=2,dt}function j(){var dt=U(),ht=O.subarray(F,F+dt-2);return F+=ht.length,ht}function J(dt){var ht=1,_t=1,yt,vt;for(vt in dt.components)dt.components.hasOwnProperty(vt)&&(yt=dt.components[vt],ht<yt.h&&(ht=yt.h),_t<yt.v&&(_t=yt.v));var gt=Math.ceil(dt.samplesPerLine/8/ht),xt=Math.ceil(dt.scanLines/8/_t);for(vt in dt.components)if(dt.components.hasOwnProperty(vt)){yt=dt.components[vt];var Tt=Math.ceil(Math.ceil(dt.samplesPerLine/8)*yt.h/ht),St=Math.ceil(Math.ceil(dt.scanLines/8)*yt.v/_t),kt=gt*yt.h,bt=xt*yt.v,Et=bt*kt,Ct=[];I(Et*256);for(var Ft=0;Ft<bt;Ft++){for(var It=[],Bt=0;Bt<kt;Bt++)It.push(new Int32Array(64));Ct.push(It)}yt.blocksPerLine=Tt,yt.blocksPerColumn=St,yt.blocks=Ct}dt.maxH=ht,dt.maxV=_t,dt.mcusPerLine=gt,dt.mcusPerColumn=xt}var C=null,D=null,h,Y,nt=[],V=[],tt=[],q=[],$=U(),L=-1;if(this.comments=[],$!=65496)throw new Error("SOI not found");for($=U();$!=65497;){var R,Q;switch($){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var X=j();if($===65534){var N=String.fromCharCode.apply(null,X);this.comments.push(N)}$===65504&&X[0]===74&&X[1]===70&&X[2]===73&&X[3]===70&&X[4]===0&&(C={version:{major:X[5],minor:X[6]},densityUnits:X[7],xDensity:X[8]<<8|X[9],yDensity:X[10]<<8|X[11],thumbWidth:X[12],thumbHeight:X[13],thumbData:X.subarray(14,14+3*X[12]*X[13])}),$===65505&&X[0]===69&&X[1]===120&&X[2]===105&&X[3]===102&&X[4]===0&&(this.exifBuffer=X.subarray(5,X.length)),$===65518&&X[0]===65&&X[1]===100&&X[2]===111&&X[3]===98&&X[4]===101&&X[5]===0&&(D={version:X[6],flags0:X[7]<<8|X[8],flags1:X[9]<<8|X[10],transformCode:X[11]});break;case 65499:for(var it=U(),ut=it+F-2;F<ut;){var st=O[F++];I(256);var at=new Int32Array(64);if(st>>4===0)for(Q=0;Q<64;Q++){var ft=c[Q];at[ft]=O[F++]}else if(st>>4===1)for(Q=0;Q<64;Q++){var ft=c[Q];at[ft]=U()}else throw new Error("DQT: invalid table spec");nt[st&15]=at}break;case 65472:case 65473:case 65474:U(),h={},h.extended=$===65473,h.progressive=$===65474,h.precision=O[F++],h.scanLines=U(),h.samplesPerLine=U(),h.components={},h.componentsOrder=[];var ot=h.scanLines*h.samplesPerLine;if(ot>P){var mt=Math.ceil((ot-P)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${mt}MP`)}var lt=O[F++],a;for(R=0;R<lt;R++){a=O[F];var B=O[F+1]>>4,l=O[F+1]&15,t=O[F+2];if(B<=0||l<=0)throw new Error("Invalid sampling factor, expected values above 0");h.componentsOrder.push(a),h.components[a]={h:B,v:l,quantizationIdx:t},F+=3}J(h),V.push(h);break;case 65476:var e=U();for(R=2;R<e;){var i=O[F++],k=new Uint8Array(16),T=0;for(Q=0;Q<16;Q++,F++)T+=k[Q]=O[F];I(16+T);var E=new Uint8Array(T);for(Q=0;Q<T;Q++,F++)E[Q]=O[F];R+=17+T,(i>>4===0?q:tt)[i&15]=y(k,E)}break;case 65501:U(),Y=U();break;case 65500:U(),U();break;case 65498:U();var M=O[F++],G=[],H;for(R=0;R<M;R++){H=h.components[O[F++]];var W=O[F++];H.huffmanTableDC=q[W>>4],H.huffmanTableAC=tt[W&15],G.push(H)}var K=O[F++],et=O[F++],rt=O[F++],ct=f(O,F,h,G,Y,K,et,rt>>4,rt&15,this.opts);F+=ct;break;case 65535:O[F]!==255&&F--;break;default:if(O[F-3]==255&&O[F-2]>=192&&O[F-2]<=254){F-=3;break}else if($===224||$==225){if(L!==-1)throw new Error(`first unknown JPEG marker at offset ${L.toString(16)}, second unknown JPEG marker ${$.toString(16)} at offset ${(F-1).toString(16)}`);L=F-1;const dt=U();if(O[F+dt-2]===255){F+=dt-2;break}}throw new Error("unknown JPEG marker "+$.toString(16))}$=U()}if(V.length!=1)throw new Error("only single frame JPEGs supported");for(var R=0;R<V.length;R++){var pt=V[R].components;for(var Q in pt)pt[Q].quantizationTable=nt[pt[Q].quantizationIdx],delete pt[Q].quantizationIdx}this.width=h.samplesPerLine,this.height=h.scanLines,this.jfif=C,this.adobe=D,this.components=[];for(var R=0;R<h.componentsOrder.length;R++){var H=h.components[h.componentsOrder[R]];this.components.push({lines:w(h,H),scaleX:H.h/h.maxH,scaleY:H.v/h.maxV})}},getData:function(O,P){var F=this.width/O,U=this.height/P,j,J,C,D,h,Y,nt,V,tt,q,$=0,L,R,Q,X,N,it,ut,st,at,ft,ot,mt=O*P*this.components.length;I(mt);var lt=new Uint8Array(mt);switch(this.components.length){case 1:for(j=this.components[0],q=0;q<P;q++)for(h=j.lines[0|q*j.scaleY*U],tt=0;tt<O;tt++)L=h[0|tt*j.scaleX*F],lt[$++]=L;break;case 2:for(j=this.components[0],J=this.components[1],q=0;q<P;q++)for(h=j.lines[0|q*j.scaleY*U],Y=J.lines[0|q*J.scaleY*U],tt=0;tt<O;tt++)L=h[0|tt*j.scaleX*F],lt[$++]=L,L=Y[0|tt*J.scaleX*F],lt[$++]=L;break;case 3:for(ot=!0,this.adobe&&this.adobe.transformCode?ot=!0:typeof this.opts.colorTransform<"u"&&(ot=!!this.opts.colorTransform),j=this.components[0],J=this.components[1],C=this.components[2],q=0;q<P;q++)for(h=j.lines[0|q*j.scaleY*U],Y=J.lines[0|q*J.scaleY*U],nt=C.lines[0|q*C.scaleY*U],tt=0;tt<O;tt++)ot?(L=h[0|tt*j.scaleX*F],R=Y[0|tt*J.scaleX*F],Q=nt[0|tt*C.scaleX*F],st=m(L+1.402*(Q-128)),at=m(L-.3441363*(R-128)-.71413636*(Q-128)),ft=m(L+1.772*(R-128))):(st=h[0|tt*j.scaleX*F],at=Y[0|tt*J.scaleX*F],ft=nt[0|tt*C.scaleX*F]),lt[$++]=st,lt[$++]=at,lt[$++]=ft;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ot=!1,this.adobe&&this.adobe.transformCode?ot=!0:typeof this.opts.colorTransform<"u"&&(ot=!!this.opts.colorTransform),j=this.components[0],J=this.components[1],C=this.components[2],D=this.components[3],q=0;q<P;q++)for(h=j.lines[0|q*j.scaleY*U],Y=J.lines[0|q*J.scaleY*U],nt=C.lines[0|q*C.scaleY*U],V=D.lines[0|q*D.scaleY*U],tt=0;tt<O;tt++)ot?(L=h[0|tt*j.scaleX*F],R=Y[0|tt*J.scaleX*F],Q=nt[0|tt*C.scaleX*F],X=V[0|tt*D.scaleX*F],N=255-m(L+1.402*(Q-128)),it=255-m(L-.3441363*(R-128)-.71413636*(Q-128)),ut=255-m(L+1.772*(R-128))):(N=h[0|tt*j.scaleX*F],it=Y[0|tt*J.scaleX*F],ut=nt[0|tt*C.scaleX*F],X=V[0|tt*D.scaleX*F]),lt[$++]=255-N,lt[$++]=255-it,lt[$++]=255-ut,lt[$++]=255-X;break;default:throw new Error("Unsupported color mode")}return lt},copyToImageData:function(O,P){var F=O.width,U=O.height,j=O.data,J=this.getData(F,U),C=0,D=0,h,Y,nt,V,tt,q,$,L,R;switch(this.components.length){case 1:for(Y=0;Y<U;Y++)for(h=0;h<F;h++)nt=J[C++],j[D++]=nt,j[D++]=nt,j[D++]=nt,P&&(j[D++]=255);break;case 3:for(Y=0;Y<U;Y++)for(h=0;h<F;h++)$=J[C++],L=J[C++],R=J[C++],j[D++]=$,j[D++]=L,j[D++]=R,P&&(j[D++]=255);break;case 4:for(Y=0;Y<U;Y++)for(h=0;h<F;h++)tt=J[C++],q=J[C++],nt=J[C++],V=J[C++],$=255-m(tt*(1-V/255)+V),L=255-m(q*(1-V/255)+V),R=255-m(nt*(1-V/255)+V),j[D++]=$,j[D++]=L,j[D++]=R,P&&(j[D++]=255);break;default:throw new Error("Unsupported color mode")}}};var g=0,A=0;function I(S=0){var O=g+S;if(O>A){var P=Math.ceil((O-A)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${P}MB`)}g=O}return o.resetMaxMemoryUsage=function(S){g=0,A=S},o.getBytesAllocated=function(){return g},o.requestMemoryAllocation=I,o}();z.exports=x;function x(b,c={}){var u={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},n={...u,...c},r=new Uint8Array(b),s=new Z;s.opts=n,Z.resetMaxMemoryUsage(n.maxMemoryUsageInMB*1024*1024),s.parse(r);var d=n.formatAsRGBA?4:3,p=s.width*s.height*d;try{Z.requestMemoryAllocation(p);var _={width:s.width,height:s.height,exifBuffer:s.exifBuffer,data:n.useTArray?new Uint8Array(p):Buffer.alloc(p)};s.comments.length>0&&(_.comments=s.comments)}catch(v){throw v instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+p):v instanceof ReferenceError&&v.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):v}return s.copyToImageData(_,n.formatAsRGBA),_}}(pe)),pe.exports}var me,or;function Zr(){if(or)return me;or=1;var z=Yr(),Z=Hr();return me={encode:z,decode:Z},me}Zr();var Ht={exports:{}},Wr=Ht.exports,lr;function qr(){return lr||(lr=1,function(z,Z){(function(x,b){b()})(Wr,function(){function x(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function b(d,p,_){var v=new XMLHttpRequest;v.open("GET",d),v.responseType="blob",v.onload=function(){s(v.response,p,_)},v.onerror=function(){console.error("could not download file")},v.send()}function c(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function u(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof At=="object"&&At.global===At?At:void 0,r=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(d,p,_){var v=n.URL||n.webkitURL,o=document.createElement("a");p=p||d.name||"download",o.download=p,o.rel="noopener",typeof d=="string"?(o.href=d,o.origin===location.origin?u(o):c(o.href)?b(d,p,_):u(o,o.target="_blank")):(o.href=v.createObjectURL(d),setTimeout(function(){v.revokeObjectURL(o.href)},4e4),setTimeout(function(){u(o)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,_){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(x(d,_),p);else if(c(d))b(d,p,_);else{var v=document.createElement("a");v.href=d,v.target="_blank",setTimeout(function(){u(v)})}}:function(d,p,_,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof d=="string")return b(d,p,_);var o=d.type==="application/octet-stream",y=/constructor/i.test(n.HTMLElement)||n.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||o&&y||r)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var A=w.result;A=f?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=A:location=A,v=null},w.readAsDataURL(d)}else{var m=n.URL||n.webkitURL,g=m.createObjectURL(d);v?v.location=g:location.href=g,v=null,setTimeout(function(){m.revokeObjectURL(g)},4e4)}});n.saveAs=s.saveAs=s,z.exports=s})}(Ht)),Ht.exports}var Gr=qr();function Xr(z){const Z=z?z.href:"Unknown";return z||console.log("failed to get item url"),Z}async function Vr(z){return new Promise((Z,x)=>{chrome.runtime.sendMessage({action:"fetchItemInfo",url:z},b=>{b&&b.data?Z(b.data):x(new Error(""))})})}async function Kr(z){return new Promise((Z,x)=>{chrome.runtime.sendMessage({action:"fetchItem",url:z},b=>{if(b&&b.data){const c=new Uint8Array(b.data),u=new Blob([c]);Z(u)}else x(new Error(""))})})}async function Jr(z){return new Promise((Z,x)=>{chrome.runtime.sendMessage({action:"fetchThumbnail",url:z},b=>{if(b&&b.data){const c=new Uint8Array(b.data),u=new Blob([c]);Z(u)}else x(new Error(""))})})}async function $r(z,Z,x,b){const c=new Ar;return c.file("boothThumbnail.ico",Z),c.file(`${b}.zip`,z),c.file("desktop.ini",`[.ShellClassInfo]
IconResource=boothThumbnail.ico,0
[ViewState]
Mode=
Vid=
FolderType=Generic`),c.generateAsync({type:"blob"}).then(function(u){Gr.saveAs(u,`${x}_${b}.zip`)})}async function Qr(z,Z,x){console.log("downloading...");try{const b=await Kr(z),c=document.querySelector(".l-library-item-thumbnail");if(!c)throw new Error("");const u=c.src,n=await Jr(u),r=await new Promise((d,p)=>{const _=document.createElement("canvas"),v=_.getContext("2d"),o=new Image;o.onload=()=>{_.width=300,_.height=300,v.drawImage(o,0,0),_.toBlob(y=>{d(y)},"image/png")},o.onerror=p,o.src=URL.createObjectURL(n)}),s=await $r(b,r,Z,x);chrome.downloads.download({url:URL.createObjectURL(s),filename:`${Z}_${x}.zip`,saveAs:!0},d=>{chrome.runtime.lastError?console.error("Download error:",chrome.runtime.lastError):console.log("Download started:",d)})}catch(b){console.error("Zip:",b)}}function tn(z,Z,x){const b=`${hr(z)}_${hr(Z)}.zip`;console.log(":",b),document.querySelectorAll('a[href*="/downloadables/"]').forEach(c=>{const u=c?c.href:null;if(c.parentElement.querySelector(".custom-dl-button"))return;const n=c.closest(".mb-16.bg-white");if(!n)return;const r=n.querySelector(".text-text-default"),s=n.querySelector(".text-text-gray600");if(!r||!s)return;const d=r.textContent.trim().replace(/\s+/g," "),p=s.textContent.trim().replace(/\s+/g," "),_=`${p}_${d}.zip`,v=document.createElement("button");v.textContent=`DL (${_})`,v.className="custom-dl-button px-4 py-2 bg-blue-500 text-black rounded text-sm",v.addEventListener("click",()=>{if(console.log("click!"),console.log(":",b),!u){console.error("URL");return}Qr(u,p,d)}),c.parentElement.appendChild(v)})}function hr(z){return z.replace(/[\\/:*?"<>|]/g,"_")}async function en(z){for(const[Z,x]of z.entries()){console.log("ItemURL"+Z,x.href);const b=Xr(x);if(!b)continue;let c="unknownShopName",u="unknownItemName";try{const n=await Vr(b+".json");c=n.shop.name,u=n.name}catch(n){console.warn(`(${Z}) : ${b}.json`,n),console.warn("",n)}finally{console.log(":",c),console.log(":",u),tn(c,u)}}}const rn="a.no-underline[href*='/items/']",nn=document.querySelectorAll(rn);en(nn);
//# sourceMappingURL=content.js.map
